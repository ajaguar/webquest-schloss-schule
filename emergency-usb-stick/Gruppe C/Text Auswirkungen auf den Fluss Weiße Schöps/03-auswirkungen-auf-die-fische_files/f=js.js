/* matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
window.matchMedia=window.matchMedia||(function(E,F){var C,A=E.documentElement,B=A.firstElementChild||A.firstChild,D=E.createElement("body"),G=E.createElement("div");G.id="mq-test-1";G.style.cssText="position:absolute;top:-100em";D.style.background="none";D.appendChild(G);return function(H){G.innerHTML='&shy;<style media="'+H+'"> #mq-test-1 { width: 42px; }</style>';A.insertBefore(D,B);C=G.offsetWidth===42;A.removeChild(D);return{matches:C,media:H}}}(document));function checkquery(A){if(A.query.value==""||A.query.value=="Suche"){alert("Sie haben noch keinen Suchbegriff eingegeben!");A.query.focus();return false}return true}function navigateToLink(A){var B=document.getElementById(A);document.location.href=B.options[B.selectedIndex].value}function dropdownNavigate(B){var D=document.getElementById(B);var C=D.options[D.selectedIndex].value;var A=document.getElementById(C);document.location.href=A.href}function setKeywordFilter(C){var D=document.getElementById(C);var A=D.options[D.selectedIndex].value;if(A!=""){requestParams.keyword=A}else{requestParams.keyword=""}var B=requestHandle+createParamSuffix(requestParams,".htm");if(requestParams.hashref!=""){B+="#"+requestParams.hashref}document.location.href=externalize(B)}function navigateToHandle(A){navigateToHandleExt(A,".html")}function navigateToHandleExt(B,C){var D=document.getElementById(B);var A=D.options[D.selectedIndex].value;if(A&&A!="-"){if(A.indexOf("http:")==-1&&A.indexOf("https:")==-1){A=externalize(A)+C}window.location.href=A}}function submit_dropdown_(A){navigateToHandle("dropdown"+A)}function submit_dropdown_filter(B){var D=document.getElementById("dropdown"+B);var C=D.options[D.selectedIndex].value;requestParams.filter=C;var A=requestHandle+createParamSuffix(requestParams)+".html";document.location.href=externalize(A)}function createParamSelector(C){var A="";for(var B in C){var D=selectorQuote(C[B]);A=A+"."+B+"."+D}return A}function createParamSuffix(C){var B="";for(var A in C){var D=selectorQuote(C[A]);B=B+"/"+A+"="+D}if(B===""){return B}return".htm"+B}function createParamSuffix(D,B){var C="";for(var A in D){var E=selectorQuote(D[A]);C=C+"/"+A+"="+E}if(C===""){return C}return B+C+B}function selectorQuote(B){var A=B.replace(/\"/g,"%22");A=A.replace(/\//g,"%21");A=A.replace(/\./g,"%24");A=A.replace(/\ /g,"%20");return A}function openWindow(F,D,C,G,B){if(F=="top"){var A=(screen.width-screen.width);var H=(screen.height-screen.height)}else{if(F=="center"){var A=((screen.width-G)/2);var H=((screen.height-B)/2)}}var E=window.open(D,C,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no,width="+G+",height="+B+",left="+A+",top="+H);E.focus()}function openWindowWithHandle(E,A,C,H,I){var B;if(E.indexOf("http")==0){B=E}else{B=externalize(E);if(B.indexOf(".html",B.length-5)===-1){B+=".html"}}var G=((screen.width-C)/2);var F=((screen.height-H)/2);var D=window.open(B,A,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars="+(I?"yes":"no")+",resizable=no,width="+C+",height="+H+",left="+G+",top="+F);D.focus()}function toggleZoom(F,B,E){var D=jQuery("#zoom"+F);var A=jQuery("#"+F);var C=D.hasClass("small");if(C){D.removeClass("small");D.addClass("big");A.attr("src",E);A.removeAttr("height");A.removeAttr("width")}else{A.attr("src",B);D.addClass("small");D.removeClass("big")}}function showTeaser(dropdown){dropdown=dropdown.replace(/\./g,"_");jQuery("div.dropdownteaser_"+dropdown).hide();active=jQuery("#optionen_"+dropdown).val();active=active.replace(/\./g,"_");eval("if(use_teaser_images_"+dropdown+"){document.getElementById('dd_img_"+dropdown+"').src=dd_image_"+active+"}");jQuery("#teaser_"+active).show()}function isRBBurl(A){if(!A){return false}A=A.split("://")[1]||A;A=A.split("/")[0];var B=/rbb|antennebrandenburg|radioberlin|radioeins|kulturradio|inforadio|fritz|funkhauseuropa|ohrenbaer|sandmaennchen|ard/gi;return B.test(A)};(function($){if($.fn.carouFredSel){return }$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=false;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",true])}var FN={};FN._cfs_init=function(o,setOrig,start){o=go_getObject($tt0,o);o.items=go_getItemsObject($tt0,o.items);o.scroll=go_getScrollObject($tt0,o.scroll);o.auto=go_getAutoObject($tt0,o.auto);o.prev=go_getPrevNextObject($tt0,o.prev);o.next=go_getPrevNextObject($tt0,o.next);o.pagination=go_getPaginationObject($tt0,o.pagination);o.swipe=go_getSwipeObject($tt0,o.swipe);o.mousewheel=go_getMousewheelObject($tt0,o.mousewheel);if(setOrig){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,o)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,o);opts.d=cf_getDimensions(opts);crsl.direction=(opts.direction=="up"||opts.direction=="left")?"next":"prev";var a_itm=$cfs.children(),avail_primary=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)){opts.cookie="caroufredsel_cookie_"+conf.serialNumber}opts.maxDimension=ms_getMaxDimension(opts,avail_primary);opts.items=in_complementItems(opts.items,opts,a_itm,start);opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,a_itm);opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,a_itm);if(opts.responsive){if(!is_percentage(opts[opts.d.width])){opts[opts.d.width]="100%"}}if(is_percentage(opts[opts.d.width])){crsl.upDateOnWindowResize=true;crsl.primarySizePercentage=opts[opts.d.width];opts[opts.d.width]=ms_getPercentage(avail_primary,crsl.primarySizePercentage);if(!opts.items.visible){opts.items.visibleConf.variable=true}}if(opts.responsive){opts.usePadding=false;opts.padding=[0,0,0,0];opts.align=false;opts.items.visibleConf.variable=false}else{if(!opts.items.visible){opts=in_complementVisibleItems(opts,avail_primary)}if(!opts[opts.d.width]){if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&opts.items.filter=="*"){opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width];opts.align=false}else{opts[opts.d.width]="variable"}}if(is_undefined(opts.align)){opts.align=(is_number(opts[opts.d.width]))?"center":false}if(opts.items.visibleConf.variable){opts.items.visible=gn_getVisibleItemsNext(a_itm,opts,0)}}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(a_itm,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts=in_getResponsiveValues(opts,a_itm,avail_primary)}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}else{if(opts.align=="bottom"){opts.align="right"}}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d.width]!="variable"){opts=in_getAlignPadding(opts,a_itm);opts.usePadding=true}break;default:opts.align=false;opts.usePadding=(opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0)?false:true;break}}if(!is_number(opts.scroll.duration)){opts.scroll.duration=500}if(is_undefined(opts.scroll.items)){opts.scroll.items=(opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*")?"visible":opts.items.visible}opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};FN._cfs_build=function(){$cfs.data("_cfs_isCarousel",true);var a_itm=$cfs.children(),orgCSS=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),newPosition="relative";switch(orgCSS.position){case"absolute":case"fixed":newPosition=orgCSS.position;break}if(conf.wrapper=="parent"){sz_storeOrigCss($wrp)}else{$wrp.css(orgCSS)}$wrp.css({overflow:"hidden",position:newPosition});sz_storeOrigCss($cfs);$cfs.data("_cfs_origCssZindex",orgCSS.zIndex);$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(a_itm,opts);sz_storeOrigCss(a_itm);if(opts.responsive){sz_setResponsiveSizes(opts,a_itm)}};FN._cfs_bind_events=function(){FN._cfs_unbind_events();$cfs.bind(cf_e("stop",conf),function(e,imm){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),imm)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,imm,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(imm&&crsl.isScrolling){scrl.isStopped=true;var nst=getTime()-scrl.startTime;scrl.duration-=nst;if(scrl.pre){scrl.pre.duration-=nst}if(scrl.post){scrl.post.duration-=nst}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(res){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onTimeoutPause){var dur1=opts.auto.timeoutDuration-tmrs.timePassed,perc=100-Math.ceil(dur1*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,perc,dur1)}return true});$cfs.bind(cf_e("play",conf),function(e,dir,del,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var v=[dir,del,res],t=["string","number","boolean"],a=cf_sortParams(v,t);dir=a[0];del=a[1];res=a[2];if(dir!="prev"&&dir!="next"){dir=crsl.direction}if(!is_number(del)){del=0}if(!is_boolean(res)){res=false}if(res){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var dur1=opts.auto.timeoutDuration+del;dur2=dur1-tmrs.timePassed;perc=100-Math.ceil(dur2*100/dur1);if(opts.auto.progress){tmrs.progress=setInterval(function(){var pasd=getTime()-tmrs.startTime+tmrs.timePassed,perc=Math.ceil(pasd*100/dur1);opts.auto.progress.updater.call(opts.auto.progress.bar[0],perc)},opts.auto.progress.interval)}tmrs.auto=setTimeout(function(){if(opts.auto.progress){opts.auto.progress.updater.call(opts.auto.progress.bar[0],100)}if(opts.auto.onTimeoutEnd){opts.auto.onTimeoutEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),dir)}else{$cfs.trigger(cf_e(dir,conf),opts.auto)}},dur2);if(opts.auto.onTimeoutStart){opts.auto.onTimeoutStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl,conf)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,obj,num,clb,que){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var minimum=(is_number(opts.items.minimum))?opts.items.minimum:opts.items.visible+1;if(minimum>itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+minimum+" needed): Not scrolling.")}var v=[obj,num,clb,que],t=["object","number/string","function","boolean"],a=cf_sortParams(v,t);obj=a[0];num=a[1];clb=a[2];que=a[3];var eType=e.type.slice(conf.events.prefix.length);if(!is_object(obj)){obj={}}if(is_function(clb)){obj.onAfter=clb}if(is_boolean(que)){obj.queue=que}obj=$.extend(true,{},opts[eType],obj);if(obj.conditions&&!obj.conditions.call($tt0,eType)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(num)){if(opts.items.filter!="*"){num="visible"}else{var arr=[num,obj.items,opts[eType].items];for(var a=0,l=arr.length;a<l;a++){if(is_number(arr[a])||arr[a]=="page"||arr[a]=="visible"){num=arr[a];break}}}switch(num){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(eType+"Page",conf),[obj,clb]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){num=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(obj.duration>0){if(crsl.isScrolling){if(obj.queue){if(obj.queue=="last"){queu=[]}if(obj.queue!="first"||queu.length==0){$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]])}}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+eType,conf),[obj,num]);if(opts.synchronise){var s=opts.synchronise,c=[obj,num];for(var j=0,l=s.length;j<l;j++){var d=eType;if(!s[j][2]){d=(d=="prev")?"next":"prev"}if(!s[j][1]){c[0]=s[j][0].triggerHandler("_cfs_triggerEvent",["configuration",d])}c[1]=num+s[j][3];s[j][0].trigger("_cfs_triggerEvent",["slide_"+d,c])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(a_itm,opts);if(!is_number(nI)){if(opts.items.visibleConf.variable){nI=gn_getVisibleItemsPrev(a_itm,opts,itms.total-1)}else{if(opts.items.filter!="*"){var xI=(is_number(sO.items))?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsPrevFilter(a_itm,opts,itms.total-1,xI)}else{nI=opts.items.visible}}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}if(!opts.circular){if(itms.total-nI<itms.first){nI=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=cf_getItemsAdjust(gn_getVisibleItemsNext(a_itm,opts,itms.total-nI),opts,opts.items.visibleConf.adjust,$tt0);if(opts.items.visible+nI<=vI&&nI<itms.total){nI++;vI=cf_getItemsAdjust(gn_getVisibleItemsNext(a_itm,opts,itms.total-nI),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=vI}else{if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,itms.total-nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}}sz_resetMargin(a_itm,opts,true);if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items backward.");itms.first+=nI;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&sO.onEnd){sO.onEnd.call($tt0,"prev")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-nI,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,(opts.items.visible+nI)-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),i_old=gi_getOldItemsPrev(a_itm,opts,nI),i_new=gi_getNewItemsPrev(a_itm,opts),i_cur_l=a_itm.eq(nI-1),i_old_l=i_old.last(),i_new_l=i_new.last();sz_resetMargin(a_itm,opts);var pL=0,pR=0;if(opts.align){var p=cf_getAlignPadding(i_new,opts);pL=p[0];pR=p[1]}var oL=(pL<0)?opts.padding[opts.d[3]]:0;var hiddenitems=false,i_skp=$();if(opts.items.visible<nI){i_skp=a_itm.slice(opts.items.visibleConf.old,nI);if(sO.fx=="directscroll"){var orgW=opts.items[opts.d.width];hiddenitems=i_skp;i_cur_l=i_new_l;sc_hideHiddenItems(hiddenitems);opts.items[opts.d.width]="variable"}}var $cf2=false,i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(i_new,opts,true),opts,!opts.usePadding),i_siz_vis=0,a_cfs={},a_wsz={},a_cur={},a_old={},a_new={},a_lef={},a_lef_vis={},a_dur=sc_getDuration(sO,opts,nI,i_siz);switch(sO.fx){case"cover":case"cover-fade":i_siz_vis=ms_getTotalSize(a_itm.slice(0,opts.items.visible),opts,"width");break}if(hiddenitems){opts.items[opts.d.width]=orgW}sz_resetMargin(a_itm,opts,true);if(pR>=0){sz_resetMargin(i_old_l,opts,opts.padding[opts.d[1]])}if(pL>=0){sz_resetMargin(i_cur_l,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}a_lef[opts.d.left]=-(i_siz-oL);a_lef_vis[opts.d.left]=-(i_siz_vis-oL);a_wsz[opts.d.left]=w_siz[opts.d.width];var _s_wrapper=function(){},_a_wrapper=function(){},_s_paddingold=function(){},_a_paddingold=function(){},_s_paddingnew=function(){},_a_paddingnew=function(){},_s_paddingcur=function(){},_a_paddingcur=function(){},_onafter=function(){},_moveitems=function(){},_position=function(){};switch(sO.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":$cf2=$cfs.clone(true).appendTo($wrp);break}switch(sO.fx){case"crossfade":case"uncover":case"uncover-fade":$cf2.children().slice(0,nI).remove();$cf2.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":$cf2.children().slice(opts.items.visible).remove();$cf2.css(a_lef_vis);break}$cfs.css(a_lef);scrl=sc_setScroll(a_dur,sO.easing,conf);a_cfs[opts.d.left]=(opts.usePadding)?opts.padding[opts.d[3]]:0;if(opts[opts.d.width]=="variable"||opts[opts.d.height]=="variable"){_s_wrapper=function(){$wrp.css(w_siz)};_a_wrapper=function(){scrl.anims.push([$wrp,w_siz])}}if(opts.usePadding){if(i_new_l.not(i_cur_l).length){a_cur[opts.d.marginRight]=i_cur_l.data("_cfs_origCssMargin");if(pL<0){i_cur_l.css(a_cur)}else{_s_paddingcur=function(){i_cur_l.css(a_cur)};_a_paddingcur=function(){scrl.anims.push([i_cur_l,a_cur])}}}switch(sO.fx){case"cover":case"cover-fade":$cf2.children().eq(nI-1).css(a_cur);break}if(i_new_l.not(i_old_l).length){a_old[opts.d.marginRight]=i_old_l.data("_cfs_origCssMargin");_s_paddingold=function(){i_old_l.css(a_old)};_a_paddingold=function(){scrl.anims.push([i_old_l,a_old])}}if(pR>=0){a_new[opts.d.marginRight]=i_new_l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];_s_paddingnew=function(){i_new_l.css(a_new)};_a_paddingnew=function(){scrl.anims.push([i_new_l,a_new])}}}_position=function(){$cfs.css(a_cfs)};var overFill=opts.items.visible+nI-itms.total;_moveitems=function(){if(overFill>0){$cfs.children().slice(itms.total).remove();i_old=$($cfs.children().slice(itms.total-(opts.items.visible-overFill)).get().concat($cfs.children().slice(0,overFill).get()))}sc_showHiddenItems(hiddenitems);if(opts.usePadding){var l_itm=$cfs.children().eq(opts.items.visible+nI-1);l_itm.css(opts.d.marginRight,l_itm.data("_cfs_origCssMargin"))}};var cb_arguments=sc_mapCallbackArguments(i_old,i_skp,i_new,nI,"prev",a_dur,w_siz);_onafter=function(){sc_afterScroll($cfs,$cf2,sO);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,sO,"onAfter",cb_arguments,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,sO,"onBefore",cb_arguments,clbk);switch(sO.fx){case"none":$cfs.css(a_cfs);_s_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){_s_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();scrl=sc_setScroll(a_dur,sO.easing,conf);scrl.anims.push([$cfs,{opacity:1},_onafter]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;case"cover":scrl.anims.push([$cf2,a_cfs,function(){_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter()}]);_a_wrapper();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([$cf2,a_cfs,function(){$cfs.css({opacity:1});_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter()}]);_a_wrapper();break;case"uncover":scrl.anims.push([$cf2,a_wsz,_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([$cf2,a_wsz,_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;default:scrl.anims.push([$cfs,a_cfs,function(){_moveitems();_onafter()}]);_a_wrapper();_a_paddingold();_a_paddingnew();_a_paddingcur();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(a_itm,opts);if(!is_number(nI)){if(opts.items.filter!="*"){var xI=(is_number(sO.items))?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsNextFilter(a_itm,opts,0,xI)}else{nI=opts.items.visible}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}var lastItemNr=(itms.first==0)?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNext(a_itm,opts,nI),xI=gn_getVisibleItemsPrev(a_itm,opts,lastItemNr-1)}else{var vI=opts.items.visible,xI=opts.items.visible}if(nI+vI>lastItemNr){nI=lastItemNr-xI}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr),opts,opts.items.visibleConf.adjust,$tt0);while(opts.items.visible-nI>=vI&&nI<itms.total){nI++;vI=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=vI}else{if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}}sz_resetMargin(a_itm,opts,true);if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items forward.");itms.first-=nI;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&sO.onEnd){sO.onEnd.call($tt0,"next")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,(opts.items.visible+nI)-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),i_old=gi_getOldItemsNext(a_itm,opts),i_new=gi_getNewItemsNext(a_itm,opts,nI),i_cur_l=a_itm.eq(nI-1),i_old_l=i_old.last(),i_new_l=i_new.last();sz_resetMargin(a_itm,opts);var pL=0,pR=0;if(opts.align){var p=cf_getAlignPadding(i_new,opts);pL=p[0];pR=p[1]}var hiddenitems=false,i_skp=$();if(opts.items.visibleConf.old<nI){i_skp=a_itm.slice(opts.items.visibleConf.old,nI);if(sO.fx=="directscroll"){var orgW=opts.items[opts.d.width];hiddenitems=i_skp;i_cur_l=i_old_l;sc_hideHiddenItems(hiddenitems);opts.items[opts.d.width]="variable"}}var $cf2=false,i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(i_new,opts,true),opts,!opts.usePadding),i_siz_vis=0,a_cfs={},a_cfs_vis={},a_cur={},a_old={},a_lef={},a_dur=sc_getDuration(sO,opts,nI,i_siz);switch(sO.fx){case"uncover":case"uncover-fade":i_siz_vis=ms_getTotalSize(a_itm.slice(0,opts.items.visibleConf.old),opts,"width");break}if(hiddenitems){opts.items[opts.d.width]=orgW}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}sz_resetMargin(a_itm,opts,true);sz_resetMargin(i_old_l,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}a_lef[opts.d.left]=(opts.usePadding)?opts.padding[opts.d[3]]:0;var _s_wrapper=function(){},_a_wrapper=function(){},_s_paddingold=function(){},_a_paddingold=function(){},_s_paddingcur=function(){},_a_paddingcur=function(){},_onafter=function(){},_moveitems=function(){},_position=function(){};switch(sO.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":$cf2=$cfs.clone(true).appendTo($wrp);$cf2.children().slice(opts.items.visibleConf.old).remove();break}switch(sO.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1);$cf2.css("zIndex",0);break}scrl=sc_setScroll(a_dur,sO.easing,conf);a_cfs[opts.d.left]=-i_siz;a_cfs_vis[opts.d.left]=-i_siz_vis;if(pL<0){a_cfs[opts.d.left]+=pL}if(opts[opts.d.width]=="variable"||opts[opts.d.height]=="variable"){_s_wrapper=function(){$wrp.css(w_siz)};_a_wrapper=function(){scrl.anims.push([$wrp,w_siz])}}if(opts.usePadding){var i_new_l_m=i_new_l.data("_cfs_origCssMargin");if(pR>=0){i_new_l_m+=opts.padding[opts.d[1]]}i_new_l.css(opts.d.marginRight,i_new_l_m);if(i_cur_l.not(i_old_l).length){a_old[opts.d.marginRight]=i_old_l.data("_cfs_origCssMargin")}_s_paddingold=function(){i_old_l.css(a_old)};_a_paddingold=function(){scrl.anims.push([i_old_l,a_old])};var i_cur_l_m=i_cur_l.data("_cfs_origCssMargin");if(pL>0){i_cur_l_m+=opts.padding[opts.d[3]]}a_cur[opts.d.marginRight]=i_cur_l_m;_s_paddingcur=function(){i_cur_l.css(a_cur)};_a_paddingcur=function(){scrl.anims.push([i_cur_l,a_cur])}}_position=function(){$cfs.css(a_lef)};var overFill=opts.items.visible+nI-itms.total;_moveitems=function(){if(overFill>0){$cfs.children().slice(itms.total).remove()}var l_itm=$cfs.children().slice(0,nI).appendTo($cfs).last();if(overFill>0){i_new=gi_getCurrentItems(a_itm,opts)}sc_showHiddenItems(hiddenitems);if(opts.usePadding){if(itms.total<opts.items.visible+nI){var i_cur_l=$cfs.children().eq(opts.items.visible-1);i_cur_l.css(opts.d.marginRight,i_cur_l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}l_itm.css(opts.d.marginRight,l_itm.data("_cfs_origCssMargin"))}};var cb_arguments=sc_mapCallbackArguments(i_old,i_skp,i_new,nI,"next",a_dur,w_siz);_onafter=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex"));sc_afterScroll($cfs,$cf2,sO);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,sO,"onAfter",cb_arguments,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,sO,"onBefore",cb_arguments,clbk);switch(sO.fx){case"none":$cfs.css(a_cfs);_s_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();_onafter();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){_s_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();scrl=sc_setScroll(a_dur,sO.easing,conf);scrl.anims.push([$cfs,{opacity:1},_onafter]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]());scrl.anims.push([$cfs,a_lef,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_moveitems();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]());scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,a_lef,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_moveitems();break;case"uncover":scrl.anims.push([$cf2,a_cfs_vis,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([$cf2,a_cfs_vis,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;default:scrl.anims.push([$cfs,a_cfs,function(){_position();_moveitems();_onafter()}]);_a_wrapper();_a_paddingold();_a_paddingcur();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,num,dev,org,obj,dir,clb){e.stopPropagation();var v=[num,dev,org,obj,dir,clb],t=["string/number/object","number","boolean","object","string","function"],a=cf_sortParams(v,t);obj=a[3];dir=a[4];clb=a[5];num=gn_getItemIndex(a[0],a[1],a[2],itms,$cfs);if(num==0){return false}if(!is_object(obj)){obj=false}if(dir!="prev"&&dir!="next"){if(opts.circular){dir=(num<=itms.total/2)?"next":"prev"}else{dir=(itms.first==0||itms.first>num)?"next":"prev"}}if(dir=="prev"){num=itms.total-num}$cfs.trigger(cf_e(dir,conf),[obj,num,clb]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur-1,obj,"prev",clb])});$cfs.bind(cf_e("nextPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur+1,obj,"next",clb])});$cfs.bind(cf_e("slideToPage",conf),function(e,pag,obj,dir,clb){e.stopPropagation();if(!is_number(pag)){pag=$cfs.triggerHandler(cf_e("currentPage",conf))}var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp)-1;if(pag<0){pag=max}if(pag>max){pag=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[pag*ipp,0,true,obj,dir,clb])});$cfs.bind(cf_e("jumpToStart",conf),function(e,s){e.stopPropagation();if(s){s=gn_getItemIndex(s,0,true,itms,$cfs)}else{s=0}s+=itms.first;if(s!=0){if(itms.total>0){while(s>itms.total){s-=itms.total}}$cfs.prepend($cfs.children().slice(s,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,s){e.stopPropagation();if(s){s=cf_getSynchArr(s)}else{if(opts.synchronise){s=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}}var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),x=true;for(var j=0,l=s.length;j<l;j++){if(!s[j][0].triggerHandler(cf_e("slideTo",conf),[n,s[j][3],true])){x=false}}return x});$cfs.bind(cf_e("queue",conf),function(e,dir,opt){e.stopPropagation();if(is_function(dir)){dir.call($tt0,queu)}else{if(is_array(dir)){queu=dir}else{if(!is_undefined(dir)){queu.push([dir,opt])}}}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,itm,num,org,dev){e.stopPropagation();var v=[itm,num,org,dev],t=["string/object","string/number/object","boolean","number"],a=cf_sortParams(v,t);itm=a[0];num=a[1];org=a[2];dev=a[3];if(is_object(itm)&&!is_jquery(itm)){itm=$(itm)}else{if(is_string(itm)){itm=$(itm)}}if(!is_jquery(itm)||itm.length==0){return debug(conf,"Not a valid object.")}if(is_undefined(num)){num="end"}sz_storeMargin(itm,opts);sz_storeOrigCss(itm);var orgNum=num,before="before";if(num=="end"){if(org){if(itms.first==0){num=itms.total-1;before="after"}else{num=itms.first;itms.first+=itm.length}if(num<0){num=0}}else{num=itms.total-1;before="after"}}else{num=gn_getItemIndex(num,dev,org,itms,$cfs)}var $cit=$cfs.children().eq(num);if($cit.length){$cit[before](itm)}else{debug(conf,"Correct insert-position not found! Appending item to the end.");$cfs.append(itm)}if(orgNum!="end"&&!org){if(num<itms.first){itms.first+=itm.length}}itms.total=$cfs.children().length;if(itms.first>=itms.total){itms.first-=itms.total}$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return true});$cfs.bind(cf_e("removeItem",conf),function(e,num,org,dev){e.stopPropagation();var v=[num,org,dev],t=["string/number/object","boolean","number"],a=cf_sortParams(v,t);num=a[0];org=a[1];dev=a[2];var removed=false;if(num instanceof $&&num.length>1){$removed=$();num.each(function(i,el){var $rem=$cfs.trigger(cf_e("removeItem",conf),[$(this),org,dev]);if($rem){$removed=$removed.add($rem)}});return $removed}if(is_undefined(num)||num=="end"){$removed=$cfs.children().last()}else{num=gn_getItemIndex(num,dev,org,itms,$cfs);var $removed=$cfs.children().eq(num);if($removed.length){if(num<itms.first){itms.first-=$removed.length}}}if($removed&&$removed.length){$removed.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return $removed});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);if(is_array(fn)){clbk[eType]=fn}if(is_function(fn)){clbk[eType].push(fn)}return clbk[eType]});$cfs.bind(cf_e("currentPosition",conf),function(e,fn){e.stopPropagation();if(itms.first==0){var val=0}else{var val=itms.total-itms.first}if(is_function(fn)){fn.call($tt0,val)}return val});$cfs.bind(cf_e("currentPage",conf),function(e,fn){e.stopPropagation();var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp-1),nr;if(itms.first==0){nr=0}else{if(itms.first<itms.total%ipp){nr=0}else{if(itms.first==ipp&&!opts.circular){nr=max}else{nr=Math.round((itms.total-itms.first)/ipp)}}}if(nr<0){nr=0}if(nr>max){nr=max}if(is_function(fn)){fn.call($tt0,nr)}return nr});$cfs.bind(cf_e("currentVisible",conf),function(e,fn){e.stopPropagation();var $i=gi_getCurrentItems($cfs.children(),opts);if(is_function(fn)){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("slice",conf),function(e,f,l,fn){e.stopPropagation();if(itms.total==0){return false}var v=[f,l,fn],t=["number","number","function"],a=cf_sortParams(v,t);f=(is_number(a[0]))?a[0]:0;l=(is_number(a[1]))?a[1]:itms.total;fn=a[2];f+=itms.first;l+=itms.first;if(items.total>0){while(f>itms.total){f-=itms.total}while(l>itms.total){l-=itms.total}while(f<0){f+=itms.total}while(l<0){l+=itms.total}}var $iA=$cfs.children(),$i;if(l>f){$i=$iA.slice(f,l)}else{$i=$($iA.slice(f,itms.total).get().concat($iA.slice(0,l).get()))}if(is_function(fn)){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length),value=crsl[eType];if(is_function(fn)){fn.call($tt0,value)}return value});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(is_function(a)){a.call($tt0,opts)}else{if(is_object(a)){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false){reInit=true}else{opts=$.extend(true,{},opts,a)}}else{if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);if(is_undefined(val)){val=""}b.call($tt0,val)}else{if(!is_undefined(b)){if(typeof c!=="boolean"){c=true}eval("opts_orig."+a+" = b");if(c!==false){reInit=true}else{eval("opts."+a+" = b")}}else{return eval("opts."+a)}}}}}if(reInit){sz_resetMargin($cfs.children(),opts);FN._cfs_init(opts_orig);FN._cfs_bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,$con,sel){e.stopPropagation();if(is_undefined($con)){$con=$("body")}else{if(is_string($con)){$con=$($con)}}if(!is_jquery($con)||$con.length==0){return debug(conf,"Not a valid object.")}if(!is_string(sel)){sel="a.caroufredsel"}$con.find(sel).each(function(){var h=this.hash||"";if(h.length>0&&$cfs.children().index($(h))!=-1){$(this).unbind("click").click(function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),h)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,build,sizes){e.stopPropagation();if(!opts.pagination.container){return }var ipp=opts.pagination.items||opts.items.visible,pgs=Math.ceil(itms.total/ipp);if(build){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var a=0;a<pgs;a++){var i=$cfs.children().eq(gn_getItemIndex(a*ipp,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(i[0],a+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[a*ipp,-opts.pagination.deviation,true,opts.pagination])})})})}var selected=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;if(selected>=pgs){selected=0}if(selected<0){selected=pgs-1}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(selected).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var vI=opts.items.visible,a_itm=$cfs.children(),avail_primary=ms_getParentSize($wrp,opts,"width");itms.total=a_itm.length;if(crsl.primarySizePercentage){opts.maxDimension=avail_primary;opts[opts.d.width]=ms_getPercentage(avail_primary,crsl.primarySizePercentage)}else{opts.maxDimension=ms_getMaxDimension(opts,avail_primary)}if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,a_itm,avail_primary);vI=opts.items.visible;sz_setResponsiveSizes(opts,a_itm)}else{if(opts.items.visibleConf.variable){vI=gn_getVisibleItemsNext(a_itm,opts,0)}else{if(opts.items.filter!="*"){vI=gn_getVisibleItemsNextFilter(a_itm,opts,0)}}}if(!opts.circular&&itms.first!=0&&vI>itms.first){if(opts.items.visibleConf.variable){var nI=gn_getVisibleItemsPrev(a_itm,opts,itms.first)-itms.first}else{if(opts.items.filter!="*"){var nI=gn_getVisibleItemsPrevFilter(a_itm,opts,itms.first)-itms.first}else{var nI=opts.items.visible-itms.first}}debug(conf,"Preventing non-circular: sliding "+nI+" items backward.");$cfs.trigger(cf_e("prev",conf),nI)}opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,a_itm);var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return sz});$cfs.bind(cf_e("destroy",conf),function(e,orgOrder){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(orgOrder){$cfs.trigger(cf_e("jumpToStart",conf))}sz_restoreOrigCss($cfs.children());sz_restoreOrigCss($cfs);FN._cfs_unbind_events();FN._cfs_unbind_buttons();if(conf.wrapper=="parent"){sz_restoreOrigCss($wrp)}else{$wrp.replaceWith($cfs)}return true});$cfs.bind(cf_e("debug",conf),function(e){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}return conf.debug});$cfs.bind("_cfs_triggerEvent",function(e,n,o){e.stopPropagation();return $cfs.triggerHandler(cf_e(n,conf),o)})};FN._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};FN._cfs_bind_buttons=function(){FN._cfs_unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var ev=false,pC=null;if(crsl.isPaused){ev="play"}else{if(opts.auto.pauseOnEvent){ev="pause";pC=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}}if(ev){$cfs.trigger(cf_e(ev,conf),pC)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(k==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k>=49&&k<58){k=(k-49)*opts.items.visible;if(k<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[k,0,true,opts.pagination])}}})}if($.fn.swipe){var isTouch="ontouchstart" in window;if((isTouch&&opts.swipe.onTouch)||(!isTouch&&opts.swipe.onMouse)){var scP=$.extend(true,{},opts.prev,opts.swipe),scN=$.extend(true,{},opts.next,opts.swipe),swP=function(){$cfs.trigger(cf_e("prev",conf),[scP])},swN=function(){$cfs.trigger(cf_e("next",conf),[scN])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=swN;opts.swipe.options.swipeDown=swP;break;default:opts.swipe.options.swipeLeft=swN;opts.swipe.options.swipeRight=swP}if(crsl.swipe){$cfs.swipe("destroy")}$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=true}}if($.fn.mousewheel){if(opts.mousewheel){var mcP=$.extend(true,{},opts.prev,opts.mousewheel),mcN=$.extend(true,{},opts.next,opts.mousewheel);if(crsl.mousewheel){$wrp.unbind(cf_e("mousewheel",conf,false))}$wrp.bind(cf_e("mousewheel",conf,false),function(e,delta){e.preventDefault();if(delta>0){$cfs.trigger(cf_e("prev",conf),[mcP])}else{$cfs.trigger(cf_e("next",conf),[mcN])}});crsl.mousewheel=true}}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var resizeFn=function(e){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf))};var $w=$(window),onResize=null;if($.debounce&&conf.onWindowResize=="debounce"){onResize=$.debounce(200,resizeFn)}else{if($.throttle&&conf.onWindowResize=="throttle"){onResize=$.throttle(300,resizeFn)}else{var _windowWidth=0,_windowHeight=0;onResize=function(){var nw=$w.width(),nh=$w.height();if(nw!=_windowWidth||nh!=_windowHeight){resizeFn();_windowWidth=nw;_windowHeight=nh}}}}$w.bind(cf_e("resize",conf,false,true,true),onResize)}};FN._cfs_unbind_buttons=function(){var ns1=cf_e("",conf),ns2=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(ns2);if(opts.auto.button){opts.auto.button.unbind(ns2)}if(opts.prev.button){opts.prev.button.unbind(ns2)}if(opts.next.button){opts.next.button.unbind(ns2)}if(opts.pagination.container){opts.pagination.container.unbind(ns2);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=false}if(crsl.mousewheel){crsl.mousewheel=false}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};if(is_boolean(configs)){configs={debug:configs}}var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheel:false,swipe:false},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(true,{},options),$wrp=(conf.wrapper=="parent")?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;conf.transition=(conf.transition&&$.fn.transition)?"transition":"animate";FN._cfs_init(opts_orig,true,starting_position);FN._cfs_build();FN._cfs_bind_events();FN._cfs_bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else{if(s==="random"){s=Math.floor(Math.random()*itms.total)}}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm})}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));if(conf.debug){$cfs.trigger(cf_e("debug",conf))}return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,transition:false,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(nr){return'<a href="#"><span>'+nr+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(perc){$(this).css("width",perc+"%")};$.fn.carouFredSel.cookie={get:function(n){n+="=";var ca=document.cookie.split(";");for(var a=0,l=ca.length;a<l;a++){var c=ca[a];while(c.charAt(0)==" "){c=c.slice(1)}if(c.indexOf(n)==0){return c.slice(n.length)}}return 0},set:function(n,v,d){var e="";if(d){var date=new Date();date.setTime(date.getTime()+(d*24*60*60*1000));e="; expires="+date.toGMTString()}document.cookie=n+"="+v+e+"; path=/"},remove:function(n){$.fn.carouFredSel.cookie.set(n,"",-1)}};function sc_setScroll(d,e,c){if(c.transition=="transition"){if(e=="swing"){e="ease"}}return{anims:[],duration:d,orgDuration:d,easing:e,startTime:getTime()}}function sc_startScroll(s,c){for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];if(!b){continue}b[0][c.transition](b[1],s.duration,s.easing,b[2])}}function sc_stopScroll(s,finish){if(!is_boolean(finish)){finish=true}if(is_object(s.pre)){sc_stopScroll(s.pre,finish)}for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];b[0].stop(true);if(finish){b[0].css(b[1]);if(is_function(b[2])){b[2]()}}}if(is_object(s.post)){sc_stopScroll(s.post,finish)}}function sc_afterScroll($c,$c2,o){if($c2){$c2.remove()}switch(o.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":$c.css("filter","");$c.css("opacity",1);break}}function sc_fireCallbacks($t,o,b,a,c){if(o[b]){o[b].call($t,a)}if(c[b].length){for(var i=0,l=c[b].length;i<l;i++){c[b][i].call($t,a)}}return[]}function sc_fireQueue($c,q,c){if(q.length){$c.trigger(cf_e(q[0][0],c),q[0][1]);q.shift()}return q}function sc_hideHiddenItems(hiddenitems){hiddenitems.each(function(){var hi=$(this);hi.data("_cfs_isHidden",hi.is(":hidden")).hide()})}function sc_showHiddenItems(hiddenitems){if(hiddenitems){hiddenitems.each(function(){var hi=$(this);if(!hi.data("_cfs_isHidden")){hi.show()}})}}function sc_clearTimers(t){if(t.auto){clearTimeout(t.auto)}if(t.progress){clearInterval(t.progress)}return t}function sc_mapCallbackArguments(i_old,i_skp,i_new,s_itm,s_dir,s_dur,w_siz){return{width:w_siz.width,height:w_siz.height,items:{old:i_old,skipped:i_skp,visible:i_new},scroll:{items:s_itm,direction:s_dir,duration:s_dur}}}function sc_getDuration(sO,o,nI,siz){var dur=sO.duration;if(sO.fx=="none"){return 0}if(dur=="auto"){dur=o.scroll.duration/o.scroll.items*nI}else{if(dur<10){dur=siz/dur}}if(dur<1){return 0}if(sO.fx=="fade"){dur=dur/2}return Math.round(dur)}function nv_showNavi(o,t,c){var minimum=(is_number(o.items.minimum))?o.items.minimum:o.items.visible+1;if(t=="show"||t=="hide"){var f=t}else{if(minimum>t){debug(c,"Not enough items ("+t+" total, "+minimum+" needed): Hiding navigation.");var f="hide"}else{var f="show"}}var s=(f=="show")?"removeClass":"addClass",h=cf_c("hidden",c);if(o.auto.button){o.auto.button[f]()[s](h)}if(o.prev.button){o.prev.button[f]()[s](h)}if(o.next.button){o.next.button[f]()[s](h)}if(o.pagination.container){o.pagination.container[f]()[s](h)}}function nv_enableNavi(o,f,c){if(o.circular||o.infinite){return }var fx=(f=="removeClass"||f=="addClass")?f:false,di=cf_c("disabled",c);if(o.auto.button&&fx){o.auto.button[fx](di)}if(o.prev.button){var fn=fx||(f==0)?"addClass":"removeClass";o.prev.button[fn](di)}if(o.next.button){var fn=fx||(f==o.items.visible)?"addClass":"removeClass";o.next.button[fn](di)}}function go_getObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}else{if(is_undefined(obj)){obj={}}}return obj}function go_getItemsObject($tt,obj){obj=go_getObject($tt,obj);if(is_number(obj)){obj={visible:obj}}else{if(obj=="variable"){obj={visible:obj,width:obj,height:obj}}else{if(!is_object(obj)){obj={}}}}return obj}function go_getScrollObject($tt,obj){obj=go_getObject($tt,obj);if(is_number(obj)){if(obj<=50){obj={items:obj}}else{obj={duration:obj}}}else{if(is_string(obj)){obj={easing:obj}}else{if(!is_object(obj)){obj={}}}}return obj}function go_getNaviObject($tt,obj){obj=go_getObject($tt,obj);if(is_string(obj)){var temp=cf_getKeyCode(obj);if(temp==-1){obj=$(obj)}else{obj=temp}}return obj}function go_getAutoObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={button:obj}}else{if(is_boolean(obj)){obj={play:obj}}else{if(is_number(obj)){obj={timeoutDuration:obj}}}}if(obj.progress){if(is_string(obj.progress)||is_jquery(obj.progress)){obj.progress={bar:obj.progress}}}return obj}function go_complementAutoObject($tt,obj){if(is_function(obj.button)){obj.button=obj.button.call($tt)}if(is_string(obj.button)){obj.button=$(obj.button)}if(!is_boolean(obj.play)){obj.play=true}if(!is_number(obj.delay)){obj.delay=0}if(is_undefined(obj.pauseOnEvent)){obj.pauseOnEvent=true}if(!is_boolean(obj.pauseOnResize)){obj.pauseOnResize=true}if(!is_number(obj.timeoutDuration)){obj.timeoutDuration=(obj.duration<10)?2500:obj.duration*5}if(obj.progress){if(is_function(obj.progress.bar)){obj.progress.bar=obj.progress.bar.call($tt)}if(is_string(obj.progress.bar)){obj.progress.bar=$(obj.progress.bar)}if(obj.progress.bar){if(!is_function(obj.progress.updater)){obj.progress.updater=$.fn.carouFredSel.progressbarUpdater}if(!is_number(obj.progress.interval)){obj.progress.interval=50}}else{obj.progress=false}}return obj}function go_getPrevNextObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={button:obj}}else{if(is_number(obj)){obj={key:obj}}}return obj}function go_complementPrevNextObject($tt,obj){if(is_function(obj.button)){obj.button=obj.button.call($tt)}if(is_string(obj.button)){obj.button=$(obj.button)}if(is_string(obj.key)){obj.key=cf_getKeyCode(obj.key)}return obj}function go_getPaginationObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={container:obj}}else{if(is_boolean(obj)){obj={keys:obj}}}return obj}function go_complementPaginationObject($tt,obj){if(is_function(obj.container)){obj.container=obj.container.call($tt)}if(is_string(obj.container)){obj.container=$(obj.container)}if(!is_number(obj.items)){obj.items=false}if(!is_boolean(obj.keys)){obj.keys=false}if(!is_function(obj.anchorBuilder)&&!is_false(obj.anchorBuilder)){obj.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(!is_number(obj.deviation)){obj.deviation=0}return obj}function go_getSwipeObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}if(is_undefined(obj)){obj={onTouch:false}}if(is_true(obj)){obj={onTouch:obj}}else{if(is_number(obj)){obj={items:obj}}}return obj}function go_complementSwipeObject($tt,obj){if(!is_boolean(obj.onTouch)){obj.onTouch=true}if(!is_boolean(obj.onMouse)){obj.onMouse=false}if(!is_object(obj.options)){obj.options={}}if(!is_boolean(obj.options.triggerOnTouchEnd)){obj.options.triggerOnTouchEnd=false}return obj}function go_getMousewheelObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}if(is_true(obj)){obj={}}else{if(is_number(obj)){obj={items:obj}}else{if(is_undefined(obj)){obj=false}}}return obj}function go_complementMousewheelObject($tt,obj){return obj}function gn_getItemIndex(num,dev,org,items,$cfs){if(is_string(num)){num=$(num,$cfs)}if(is_object(num)){num=$(num,$cfs)}if(is_jquery(num)){num=$cfs.children().index(num);if(!is_boolean(org)){org=false}}else{if(!is_boolean(org)){org=true}}if(!is_number(num)){num=0}if(!is_number(dev)){dev=0}if(org){num+=items.first}num+=dev;if(items.total>0){while(num>=items.total){num-=items.total}while(num<0){num+=items.total}}return num}function gn_getVisibleItemsPrev(i,o,s){var t=0,x=0;for(var a=s;a>=0;a--){var j=i.eq(a);t+=(j.is(":visible"))?j[o.d.outerWidth](true):0;if(t>o.maxDimension){return x}if(a==0){a=i.length}x++}}function gn_getVisibleItemsPrevFilter(i,o,s){return gn_getItemsPrevFilter(i,o.items.filter,o.items.visibleConf.org,s)}function gn_getScrollItemsPrevFilter(i,o,s,m){return gn_getItemsPrevFilter(i,o.items.filter,m,s)}function gn_getItemsPrevFilter(i,f,m,s){var t=0,x=0;for(var a=s,l=i.length;a>=0;a--){x++;if(x==l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==0){a=l}}}function gn_getVisibleOrg($c,o){return o.items.visibleConf.org||$c.children().slice(0,o.items.visible).filter(o.items.filter).length}function gn_getVisibleItemsNext(i,o,s){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){var j=i.eq(a);t+=(j.is(":visible"))?j[o.d.outerWidth](true):0;if(t>o.maxDimension){return x}x++;if(x==l+1){return x}if(a==l){a=-1}}}function gn_getVisibleItemsNextTestCircular(i,o,s,l){var v=gn_getVisibleItemsNext(i,o,s);if(!o.circular){if(s+v>l){v=l-s}}return v}function gn_getVisibleItemsNextFilter(i,o,s){return gn_getItemsNextFilter(i,o.items.filter,o.items.visibleConf.org,s,o.circular)}function gn_getScrollItemsNextFilter(i,o,s,m){return gn_getItemsNextFilter(i,o.items.filter,m+1,s,o.circular)-1}function gn_getItemsNextFilter(i,f,m,s,c){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){x++;if(x>=l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==l){a=-1}}}function gi_getCurrentItems(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsPrev(i,o,n){return i.slice(n,o.items.visibleConf.old+n)}function gi_getNewItemsPrev(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsNext(i,o){return i.slice(0,o.items.visibleConf.old)}function gi_getNewItemsNext(i,o,n){return i.slice(n,o.items.visible+n)}function sz_storeMargin(i,o,d){if(o.usePadding){if(!is_string(d)){d="_cfs_origCssMargin"}i.each(function(){var j=$(this),m=parseInt(j.css(o.d.marginRight),10);if(!is_number(m)){m=0}j.data(d,m)})}}function sz_resetMargin(i,o,m){if(o.usePadding){var x=(is_boolean(m))?m:false;if(!is_number(m)){m=0}sz_storeMargin(i,o,"_cfs_tempCssMargin");i.each(function(){var j=$(this);j.css(o.d.marginRight,((x)?j.data("_cfs_tempCssMargin"):m+j.data("_cfs_origCssMargin")))})}}function sz_storeOrigCss(i){i.each(function(){var j=$(this);j.data("_cfs_origCss",j.attr("style")||"")})}function sz_restoreOrigCss(i){i.each(function(){var j=$(this);j.attr("style",j.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(o,all){var visb=o.items.visible,newS=o.items[o.d.width],seco=o[o.d.height],secp=is_percentage(seco);all.each(function(){var $t=$(this),nw=newS-ms_getPaddingBorderMargin($t,o,"Width");$t[o.d.width](nw);if(secp){$t[o.d.height](ms_getPercentage(nw,seco))}})}function sz_setSizes($c,o){var $w=$c.parent(),$i=$c.children(),$v=gi_getCurrentItems($i,o),sz=cf_mapWrapperSizes(ms_getSizes($v,o,true),o,false);$w.css(sz);if(o.usePadding){var p=o.padding,r=p[o.d[1]];if(o.align&&r<0){r=0}var $l=$v.last();$l.css(o.d.marginRight,$l.data("_cfs_origCssMargin")+r);$c.css(o.d.top,p[o.d[0]]);$c.css(o.d.left,p[o.d[3]])}$c.css(o.d.width,sz[o.d.width]+(ms_getTotalSize($i,o,"width")*2));$c.css(o.d.height,ms_getLargestSize($i,o,"height"));return sz}function ms_getSizes(i,o,wrapper){return[ms_getTotalSize(i,o,"width",wrapper),ms_getLargestSize(i,o,"height",wrapper)]}function ms_getLargestSize(i,o,dim,wrapper){if(!is_boolean(wrapper)){wrapper=false}if(is_number(o[o.d[dim]])&&wrapper){return o[o.d[dim]]}if(is_number(o.items[o.d[dim]])){return o.items[o.d[dim]]}dim=(dim.toLowerCase().indexOf("width")>-1)?"outerWidth":"outerHeight";return ms_getTrueLargestSize(i,o,dim)}function ms_getTrueLargestSize(i,o,dim){var s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var m=(j.is(":visible"))?j[o.d[dim]](true):0;if(s<m){s=m}}return s}function ms_getTotalSize(i,o,dim,wrapper){if(!is_boolean(wrapper)){wrapper=false}if(is_number(o[o.d[dim]])&&wrapper){return o[o.d[dim]]}if(is_number(o.items[o.d[dim]])){return o.items[o.d[dim]]*i.length}var d=(dim.toLowerCase().indexOf("width")>-1)?"outerWidth":"outerHeight",s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);s+=(j.is(":visible"))?j[o.d[d]](true):0}return s}function ms_getParentSize($w,o,d){var isVisible=$w.is(":visible");if(isVisible){$w.hide()}var s=$w.parent()[o.d[d]]();if(isVisible){$w.show()}return s}function ms_getMaxDimension(o,a){return(is_number(o[o.d.width]))?o[o.d.width]:a}function ms_hasVariableSizes(i,o,dim){var s=false,v=false;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var c=(j.is(":visible"))?j[o.d[dim]](true):0;if(s===false){s=c}else{if(s!=c){v=true}}if(s==0){v=true}}return v}function ms_getPaddingBorderMargin(i,o,d){return i[o.d["outer"+d]](true)-i[o.d[d.toLowerCase()]]()}function ms_getPercentage(s,o){if(is_percentage(o)){o=parseInt(o.slice(0,-1),10);if(!is_number(o)){return s}s*=o/100}return s}function cf_e(n,c,pf,ns,rd){if(!is_boolean(pf)){pf=true}if(!is_boolean(ns)){ns=true}if(!is_boolean(rd)){rd=false}if(pf){n=c.events.prefix+n}if(ns){n=n+"."+c.events.namespace}if(ns&&rd){n+=c.serialNumber}return n}function cf_c(n,c){return(is_string(c.classnames[n]))?c.classnames[n]:n}function cf_mapWrapperSizes(ws,o,p){if(!is_boolean(p)){p=true}var pad=(o.usePadding&&p)?o.padding:[0,0,0,0];var wra={};wra[o.d.width]=ws[0]+pad[1]+pad[3];wra[o.d.height]=ws[1]+pad[0]+pad[2];return wra}function cf_sortParams(vals,typs){var arr=[];for(var a=0,l1=vals.length;a<l1;a++){for(var b=0,l2=typs.length;b<l2;b++){if(typs[b].indexOf(typeof vals[a])>-1&&is_undefined(arr[b])){arr[b]=vals[a];break}}}return arr}function cf_getPadding(p){if(is_undefined(p)){return[0,0,0,0]}if(is_number(p)){return[p,p,p,p]}if(is_string(p)){p=p.split("px").join("").split("em").join("").split(" ")}if(!is_array(p)){return[0,0,0,0]}for(var i=0;i<4;i++){p[i]=parseInt(p[i],10)}switch(p.length){case 0:return[0,0,0,0];case 1:return[p[0],p[0],p[0],p[0]];case 2:return[p[0],p[1],p[0],p[1]];case 3:return[p[0],p[1],p[2],p[1]];default:return[p[0],p[1],p[2],p[3]]}}function cf_getAlignPadding(itm,o){var x=(is_number(o[o.d.width]))?Math.ceil(o[o.d.width]-ms_getTotalSize(itm,o,"width")):0;switch(o.align){case"left":return[0,x];case"right":return[x,0];case"center":default:return[Math.ceil(x/2),Math.floor(x/2)]}}function cf_getDimensions(o){var dm=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var dl=dm[0].length,dx=(o.direction=="right"||o.direction=="left")?0:1;var dimensions={};for(var d=0;d<dl;d++){dimensions[dm[0][d]]=dm[dx][d]}return dimensions}function cf_getAdjust(x,o,a,$t){var v=x;if(is_function(a)){v=a.call($t,v)}else{if(is_string(a)){var p=a.split("+"),m=a.split("-");if(m.length>p.length){var neg=true,sta=m[0],adj=m[1]}else{var neg=false,sta=p[0],adj=p[1]}switch(sta){case"even":v=(x%2==1)?x-1:x;break;case"odd":v=(x%2==0)?x-1:x;break;default:v=x;break}adj=parseInt(adj,10);if(is_number(adj)){if(neg){adj=-adj}v+=adj}}}if(!is_number(v)||v<1){v=1}return v}function cf_getItemsAdjust(x,o,a,$t){return cf_getItemAdjustMinMax(cf_getAdjust(x,o,a,$t),o.items.visibleConf)}function cf_getItemAdjustMinMax(v,i){if(is_number(i.min)&&v<i.min){v=i.min}if(is_number(i.max)&&v>i.max){v=i.max}if(v<1){v=1}return v}function cf_getSynchArr(s){if(!is_array(s)){s=[[s]]}if(!is_array(s[0])){s=[s]}for(var j=0,l=s.length;j<l;j++){if(is_string(s[j][0])){s[j][0]=$(s[j][0])}if(!is_boolean(s[j][1])){s[j][1]=true}if(!is_boolean(s[j][2])){s[j][2]=true}if(!is_number(s[j][3])){s[j][3]=0}}return s}function cf_getKeyCode(k){if(k=="right"){return 39}if(k=="left"){return 37}if(k=="up"){return 38}if(k=="down"){return 40}return -1}function cf_setCookie(n,$c,c){if(n){var v=$c.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(n,v)}}function cf_getCookie(n){var c=$.fn.carouFredSel.cookie.get(n);return(c=="")?0:c}function in_mapCss($elem,props){var css={};for(var p=0,l=props.length;p<l;p++){css[props[p]]=$elem.css(props[p])}return css}function in_complementItems(obj,opt,itm,sta){if(!is_object(obj.visibleConf)){obj.visibleConf={}}if(!is_object(obj.sizesConf)){obj.sizesConf={}}if(obj.start==0&&is_number(sta)){obj.start=sta}if(is_object(obj.visible)){obj.visibleConf.min=obj.visible.min;obj.visibleConf.max=obj.visible.max;obj.visible=false}else{if(is_string(obj.visible)){if(obj.visible=="variable"){obj.visibleConf.variable=true}else{obj.visibleConf.adjust=obj.visible}obj.visible=false}else{if(is_function(obj.visible)){obj.visibleConf.adjust=obj.visible;obj.visible=false}}}if(!is_string(obj.filter)){obj.filter=(itm.filter(":hidden").length>0)?":visible":"*"}if(!obj[opt.d.width]){if(opt.responsive){debug(true,"Set a "+opt.d.width+" for the items!");obj[opt.d.width]=ms_getTrueLargestSize(itm,opt,"outerWidth")}else{obj[opt.d.width]=(ms_hasVariableSizes(itm,opt,"outerWidth"))?"variable":itm[opt.d.outerWidth](true)}}if(!obj[opt.d.height]){obj[opt.d.height]=(ms_hasVariableSizes(itm,opt,"outerHeight"))?"variable":itm[opt.d.outerHeight](true)}obj.sizesConf.width=obj.width;obj.sizesConf.height=obj.height;return obj}function in_complementVisibleItems(opt,avl){if(opt.items[opt.d.width]=="variable"){opt.items.visibleConf.variable=true}if(!opt.items.visibleConf.variable){if(is_number(opt[opt.d.width])){opt.items.visible=Math.floor(opt[opt.d.width]/opt.items[opt.d.width])}else{opt.items.visible=Math.floor(avl/opt.items[opt.d.width]);opt[opt.d.width]=opt.items.visible*opt.items[opt.d.width];if(!opt.items.visibleConf.adjust){opt.align=false}}if(opt.items.visible=="Infinity"||opt.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');opt.items.visibleConf.variable=true}}return opt}function in_complementPrimarySize(obj,opt,all){if(obj=="auto"){obj=ms_getTrueLargestSize(all,opt,"outerWidth")}return obj}function in_complementSecondarySize(obj,opt,all){if(obj=="auto"){obj=ms_getTrueLargestSize(all,opt,"outerHeight")}if(!obj){obj=opt.items[opt.d.height]}return obj}function in_getAlignPadding(o,all){var p=cf_getAlignPadding(gi_getCurrentItems(all,o),o);o.padding[o.d[1]]=p[1];o.padding[o.d[3]]=p[0];return o}function in_getResponsiveValues(o,all,avl){var visb=cf_getItemAdjustMinMax(Math.ceil(o[o.d.width]/o.items[o.d.width]),o.items.visibleConf);if(visb>all.length){visb=all.length}var newS=Math.floor(o[o.d.width]/visb);o.items.visible=visb;o.items[o.d.width]=newS;o[o.d.width]=visb*newS;return o}function bt_pauseOnHoverConfig(p){if(is_string(p)){var i=(p.indexOf("immediate")>-1)?true:false,r=(p.indexOf("resume")>-1)?true:false}else{var i=r=false}return[i,r]}function bt_mousesheelNumber(mw){return(is_number(mw))?mw:null}function is_null(a){return(a===null)}function is_undefined(a){return(is_null(a)||typeof a=="undefined"||a===""||a==="undefined")}function is_array(a){return(a instanceof Array)}function is_jquery(a){return(a instanceof jQuery)}function is_object(a){return((a instanceof Object||typeof a=="object")&&!is_null(a)&&!is_jquery(a)&&!is_array(a))}function is_number(a){return((a instanceof Number||typeof a=="number")&&!isNaN(a))}function is_string(a){return((a instanceof String||typeof a=="string")&&!is_undefined(a)&&!is_true(a)&&!is_false(a))}function is_function(a){return(a instanceof Function||typeof a=="function")}function is_boolean(a){return(a instanceof Boolean||typeof a=="boolean"||is_true(a)||is_false(a))}function is_true(a){return(a===true||a==="true")}function is_false(a){return(a===false||a==="false")}function is_percentage(x){return(is_string(x)&&x.slice(-1)=="%")}function getTime(){return new Date().getTime()}function deprecated(o,n){debug(true,o+" is DEPRECATED, support for it will be removed. Use "+n+" instead.")}function debug(d,m){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(d)){var s=" ("+d.selector+")";d=d.debug}else{var s=""}if(!d){return false}if(is_string(m)){m="carouFredSel"+s+": "+m}else{m=["carouFredSel"+s+":",m]}window.console.log(m)}return false}$.extend($.easing,{quadratic:function(t){var t2=t*t;return t*(-t2*t+4*t2-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var t2=t*t;return t*(33*t2*t2-106*t2*t+126*t2-67*t+15)}})})(jQuery);/*
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(I,d){var T=Math,M=d.createElement("div").style,Y=(function(){var h="t,webkitT,MozT,msT,OT".split(","),g,f=0,e=h.length;for(;f<e;f++){g=h[f]+"ransform";if(g in M){return h[f].substr(0,h[f].length-1)}}return false})(),c=Y?"-"+Y.toLowerCase()+"-":"",L=R("transform"),W=R("transitionProperty"),K=R("transitionDuration"),N=R("transformOrigin"),a=R("transitionTimingFunction"),E=R("transitionDelay"),Z=(/android/gi).test(navigator.appVersion),H=(/iphone|ipad/gi).test(navigator.appVersion),Q=(/hp-tablet/gi).test(navigator.appVersion),J=R("perspective") in M,X="ontouchstart" in I&&!Q,D=Y!==false,F=R("transition") in M,G="onorientationchange" in I?"orientationchange":"resize",B=X?"touchstart":"mousedown",S=X?"touchmove":"mousemove",C=X?"touchend":"mouseup",V=X?"touchcancel":"mouseup",A=(function(){if(Y===false){return false}var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[Y]})(),P=(function(){return I.requestAnimationFrame||I.webkitRequestAnimationFrame||I.mozRequestAnimationFrame||I.oRequestAnimationFrame||I.msRequestAnimationFrame||function(e){return setTimeout(e,1)}})(),O=(function(){return I.cancelRequestAnimationFrame||I.webkitCancelAnimationFrame||I.webkitCancelRequestAnimationFrame||I.mozCancelRequestAnimationFrame||I.oCancelRequestAnimationFrame||I.msCancelRequestAnimationFrame||clearTimeout})(),b=J?" translateZ(0)":"",U=function(g,e){var h=this,f;h.wrapper=(typeof g=="object")?g:d.getElementById(g);if(h.wrapper===null){return false}h.wrapper.style.overflow="hidden";h.scroller=h.wrapper.children[0];h.options={hScroll:true,vScroll:true,x:0,y:0,bounce:false,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:Z,hideScrollbar:H,fadeScrollbar:H&&J,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(i){if(!X){i.preventDefault()}},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:function(){},onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(f in e){h.options[f]=e[f]}h.x=h.options.x;h.y=h.options.y;h.options.useTransform=D&&h.options.useTransform;h.options.hScrollbar=h.options.hScroll&&h.options.hScrollbar;h.options.vScrollbar=h.options.vScroll&&h.options.vScrollbar;h.options.zoom=h.options.useTransform&&h.options.zoom;h.options.useTransition=F&&h.options.useTransition;if(h.options.zoom&&Z){b=""}h.scroller.style[W]=h.options.useTransform?c+"transform":"top left";h.scroller.style[K]="0";h.scroller.style[N]="0 0";if(h.options.useTransition){h.scroller.style[a]="cubic-bezier(0.33,0.66,0.66,1)"}if(h.options.useTransform){h.scroller.style[L]="translate("+h.x+"px,"+h.y+"px)"+b}else{h.scroller.style.cssText+=";position:absolute;top:"+h.y+"px;left:"+h.x+"px"}if(h.options.useTransition){h.options.fixedScrollbar=true}h.refresh();h._bind(G,I);if(X){h._bind(B)}if(!X){if(h.options.wheelAction!="none"){h._bind("DOMMouseScroll");h._bind("mousewheel")}}if(h.options.checkDOMChanges){h.checkDOMTime=setInterval(function(){h._checkDOMChanges()},500)}};U.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,events:{},handleEvent:function(g){var f=this;switch(g.type){case B:if(!X&&g.button!==0){return }f._start(g);break;case S:f._move(g);break;case C:case V:f._end(g);break;case G:f._resize();break;case"DOMMouseScroll":case"mousewheel":f._wheel(g);break;case A:f._transitionEnd(g);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return }this.refresh()},_scrollbar:function(e){var g=this,f;if(!g[e+"Scrollbar"]){if(g[e+"ScrollbarWrapper"]){if(D){g[e+"ScrollbarIndicator"].style[L]=""}g[e+"ScrollbarWrapper"].parentNode.removeChild(g[e+"ScrollbarWrapper"]);g[e+"ScrollbarWrapper"]=null;g[e+"ScrollbarIndicator"]=null}return }if(!g[e+"ScrollbarWrapper"]){f=d.createElement("div");if(g.options.scrollbarClass){f.className=g.options.scrollbarClass+e.toUpperCase()}else{f.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(g.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(g.hScrollbar?"7":"2")+"px;top:2px;right:1px")}f.style.cssText+=";pointer-events:none;"+c+"transition-property:opacity;"+c+"transition-duration:"+(g.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(g.options.hideScrollbar?"0":"1");g.wrapper.appendChild(f);g[e+"ScrollbarWrapper"]=f;f=d.createElement("div");if(!g.options.scrollbarClass){f.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+c+"background-clip:padding-box;"+c+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+c+"border-radius:3px;border-radius:3px"}f.style.cssText+=";pointer-events:none;"+c+"transition-property:"+c+"transform;"+c+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+c+"transition-duration:0;"+c+"transform: translate(0,0)"+b;if(g.options.useTransition){f.style.cssText+=";"+c+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}g[e+"ScrollbarWrapper"].appendChild(f);g[e+"ScrollbarIndicator"]=f}if(e=="h"){g.hScrollbarSize=g.hScrollbarWrapper.clientWidth;g.hScrollbarIndicatorSize=T.max(T.round(g.hScrollbarSize*g.hScrollbarSize/g.scrollerW),8);g.hScrollbarIndicator.style.width=g.hScrollbarIndicatorSize+"px";g.hScrollbarMaxScroll=g.hScrollbarSize-g.hScrollbarIndicatorSize;g.hScrollbarProp=g.hScrollbarMaxScroll/g.maxScrollX}else{g.vScrollbarSize=g.vScrollbarWrapper.clientHeight;g.vScrollbarIndicatorSize=T.max(T.round(g.vScrollbarSize*g.vScrollbarSize/g.scrollerH),8);g.vScrollbarIndicator.style.height=g.vScrollbarIndicatorSize+"px";g.vScrollbarMaxScroll=g.vScrollbarSize-g.vScrollbarIndicatorSize;g.vScrollbarProp=g.vScrollbarMaxScroll/g.maxScrollY}g._scrollbarPos(e,true)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},Z?200:0)},_pos:function(e,f){if(this.zoomed){return }e=this.hScroll?e:0;f=this.vScroll?f:0;if(this.options.useTransform){this.scroller.style[L]="translate("+e+"px,"+f+"px) scale("+this.scale+")"+b}else{e=T.round(e);f=T.round(f);this.scroller.style.left=e+"px";this.scroller.style.top=f+"px"}this.x=e;this.y=f;this.options.onScrollMove(e,f);this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(e,h){var g=this,i=e=="h"?g.x:g.y,f;if(!g[e+"Scrollbar"]){return }i=g[e+"ScrollbarProp"]*i;if(i<0){if(!g.options.fixedScrollbar){f=g[e+"ScrollbarIndicatorSize"]+T.round(i*3);if(f<8){f=8}g[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=f+"px"}i=0}else{if(i>g[e+"ScrollbarMaxScroll"]){if(!g.options.fixedScrollbar){f=g[e+"ScrollbarIndicatorSize"]-T.round((i-g[e+"ScrollbarMaxScroll"])*3);if(f<8){f=8}g[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=f+"px";i=g[e+"ScrollbarMaxScroll"]+(g[e+"ScrollbarIndicatorSize"]-f)}else{i=g[e+"ScrollbarMaxScroll"]}}}g[e+"ScrollbarWrapper"].style[E]="0";g[e+"ScrollbarWrapper"].style.opacity=h&&g.options.hideScrollbar?"0":"1";g[e+"ScrollbarIndicator"].style[L]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+b},_start:function(l){var k=this,g=X?l.touches[0]:l,h,f,m,j,i;if(!k.enabled){return }if(k.options.onBeforeScrollStart){k.options.onBeforeScrollStart.call(k,l)}if(k.options.useTransition||k.options.zoom){k._transitionTime(0)}k.moved=false;k.animating=false;k.zoomed=false;k.distX=0;k.distY=0;k.absDistX=0;k.absDistY=0;k.dirX=0;k.dirY=0;if(k.options.zoom&&X&&l.touches.length>1){j=T.abs(l.touches[0].pageX-l.touches[1].pageX);i=T.abs(l.touches[0].pageY-l.touches[1].pageY);k.touchesDistStart=T.sqrt(j*j+i*i);k.originX=T.abs(l.touches[0].pageX+l.touches[1].pageX-k.wrapperOffsetLeft*2)/2-k.x;k.originY=T.abs(l.touches[0].pageY+l.touches[1].pageY-k.wrapperOffsetTop*2)/2-k.y;if(k.options.onZoomStart){k.options.onZoomStart.call(k,l)}}if(k.options.momentum){if(k.options.useTransform){h=getComputedStyle(k.scroller,null)[L].replace(/[^0-9\-.,]/g,"").split(",");f=+(h[12]||h[4]);m=+(h[13]||h[5])}else{f=+getComputedStyle(k.scroller,null).left.replace(/[^0-9-]/g,"");m=+getComputedStyle(k.scroller,null).top.replace(/[^0-9-]/g,"")}if(f!=k.x||m!=k.y){if(k.options.useTransition){k._unbind(A)}else{O(k.aniTime)}k.steps=[];k._pos(f,m);if(k.options.onScrollEnd){k.options.onScrollEnd.call(k)}}}k.absStartX=k.x;k.absStartY=k.y;k.startX=k.x;k.startY=k.y;k.pointX=g.pageX;k.pointY=g.pageY;k.startTime=l.timeStamp||Date.now();if(k.options.onScrollStart){k.options.onScrollStart.call(k,l)}k._bind(S,I);k._bind(C,I);k._bind(V,I)},_move:function(n){var l=this,o=X?n.touches[0]:n,j=o.pageX-l.pointX,h=o.pageY-l.pointY,f=l.x+j,r=l.y+h,k,i,g,m=n.timeStamp||Date.now();if(l.options.onBeforeScrollMove){l.options.onBeforeScrollMove.call(l,n)}if(l.options.zoom&&X&&n.touches.length>1){k=T.abs(n.touches[0].pageX-n.touches[1].pageX);i=T.abs(n.touches[0].pageY-n.touches[1].pageY);l.touchesDist=T.sqrt(k*k+i*i);l.zoomed=true;g=1/l.touchesDistStart*l.touchesDist*this.scale;if(g<l.options.zoomMin){g=0.5*l.options.zoomMin*Math.pow(2,g/l.options.zoomMin)}else{if(g>l.options.zoomMax){g=2*l.options.zoomMax*Math.pow(0.5,l.options.zoomMax/g)}}l.lastScale=g/this.scale;f=this.originX-this.originX*l.lastScale+this.x;r=this.originY-this.originY*l.lastScale+this.y;this.scroller.style[L]="translate("+f+"px,"+r+"px) scale("+g+")"+b;if(l.options.onZoom){l.options.onZoom.call(l,n)}return }l.pointX=o.pageX;l.pointY=o.pageY;if(f>0||f<l.maxScrollX){f=l.options.bounce?l.x+(j/2):f>=0||l.maxScrollX>=0?0:l.maxScrollX}if(r>l.minScrollY||r<l.maxScrollY){r=l.options.bounce?l.y+(h/2):r>=l.minScrollY||l.maxScrollY>=0?l.minScrollY:l.maxScrollY}l.distX+=j;l.distY+=h;l.absDistX=T.abs(l.distX);l.absDistY=T.abs(l.distY);if(l.absDistX<6&&l.absDistY<6){return }if(l.options.lockDirection){if(l.absDistX>l.absDistY+5){r=l.y;h=0}else{if(l.absDistY>l.absDistX+5){f=l.x;j=0}}}var q=l.x;var p=l.y;l.moved=true;l._pos(f,r);if(X&&(l.x!=q||l.y!=p)){n.preventDefault()}l.dirX=j>0?-1:j<0?1:0;l.dirY=h>0?-1:h<0?1:0;if(m-l.startTime>300){l.startTime=m;l.startX=l.x;l.startY=l.y}if(l.options.onScrollMove){l.options.onScrollMove.call(l,n)}},_end:function(n){if(X&&n.touches.length!==0){return }var l=this,t=X?n.changedTouches[0]:n,o,s,h={dist:0,time:0},f={dist:0,time:0},k=(n.timeStamp||Date.now())-l.startTime,p=l.x,m=l.y,r,q,g,j,i;l._unbind(S,I);l._unbind(C,I);l._unbind(V,I);if(l.options.onBeforeScrollEnd){l.options.onBeforeScrollEnd.call(l,n)}if(l.zoomed){i=l.scale*l.lastScale;i=Math.max(l.options.zoomMin,i);i=Math.min(l.options.zoomMax,i);l.lastScale=i/l.scale;l.scale=i;l.x=l.originX-l.originX*l.lastScale+l.x;l.y=l.originY-l.originY*l.lastScale+l.y;l.scroller.style[K]="200ms";l.scroller.style[L]="translate("+l.x+"px,"+l.y+"px) scale("+l.scale+")"+b;l.zoomed=false;l.refresh();if(l.options.onZoomEnd){l.options.onZoomEnd.call(l,n)}return }if(!l.moved){if(X){if(l.doubleTapTimer&&l.options.zoom){clearTimeout(l.doubleTapTimer);l.doubleTapTimer=null;if(l.options.onZoomStart){l.options.onZoomStart.call(l,n)}l.zoom(l.pointX,l.pointY,l.scale==1?l.options.doubleTapZoom:1);if(l.options.onZoomEnd){setTimeout(function(){l.options.onZoomEnd.call(l,n)},200)}}else{if(this.options.handleClick){l.doubleTapTimer=setTimeout(function(){l.doubleTapTimer=null;o=t.target;while(o.nodeType!=1){o=o.parentNode}if(o.tagName!="SELECT"&&o.tagName!="INPUT"&&o.tagName!="TEXTAREA"){s=d.createEvent("MouseEvents");s.initMouseEvent("click",true,true,n.view,1,t.screenX,t.screenY,t.clientX,t.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null);s._fake=true;o.dispatchEvent(s)}},l.options.zoom?250:0)}}}l._resetPos(400);if(l.options.onTouchEnd){l.options.onTouchEnd.call(l,n)}return }if(k<300&&l.options.momentum){h=p?l._momentum(p-l.startX,k,-l.x,l.scrollerW-l.wrapperW+l.x,l.options.bounce?l.wrapperW:0):h;f=m?l._momentum(m-l.startY,k,-l.y,(l.maxScrollY<0?l.scrollerH-l.wrapperH+l.y-l.minScrollY:0),l.options.bounce?l.wrapperH:0):f;p=l.x+h.dist;m=l.y+f.dist;if((l.x>0&&p>0)||(l.x<l.maxScrollX&&p<l.maxScrollX)){h={dist:0,time:0}}if((l.y>l.minScrollY&&m>l.minScrollY)||(l.y<l.maxScrollY&&m<l.maxScrollY)){f={dist:0,time:0}}}if(h.dist||f.dist){g=T.max(T.max(h.time,f.time),10);if(l.options.snap){r=p-l.absStartX;q=m-l.absStartY;if(T.abs(r)<l.options.snapThreshold&&T.abs(q)<l.options.snapThreshold){l.scrollTo(l.absStartX,l.absStartY,200)}else{j=l._snap(p,m);p=j.x;m=j.y;g=T.max(j.time,g)}}l.scrollTo(T.round(p),T.round(m),g);if(l.options.onTouchEnd){l.options.onTouchEnd.call(l,n)}return }if(l.options.snap){r=p-l.absStartX;q=m-l.absStartY;if(T.abs(r)<l.options.snapThreshold&&T.abs(q)<l.options.snapThreshold){l.scrollTo(l.absStartX,l.absStartY,200)}else{j=l._snap(l.x,l.y);if(j.x!=l.x||j.y!=l.y){l.scrollTo(j.x,j.y,j.time)}}if(l.options.onTouchEnd){l.options.onTouchEnd.call(l,n)}return }l._resetPos(200);if(l.options.onTouchEnd){l.options.onTouchEnd.call(l,n)}},_resetPos:function(g){var e=this,h=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,f=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(h==e.x&&f==e.y){if(e.moved){e.moved=false;if(e.options.onScrollEnd){e.options.onScrollEnd.call(e)}}if(e.hScrollbar&&e.options.hideScrollbar){if(Y=="webkit"){e.hScrollbarWrapper.style[E]="300ms"}e.hScrollbarWrapper.style.opacity="0"}if(e.vScrollbar&&e.options.hideScrollbar){if(Y=="webkit"){e.vScrollbarWrapper.style[E]="300ms"}e.vScrollbarWrapper.style.opacity="0"}return }e.scrollTo(h,f,g||0)},_wheel:function(k){var i=this,j,h,g,f,l;if("wheelDeltaX" in k){j=k.wheelDeltaX/12;h=k.wheelDeltaY/12}else{if("wheelDelta" in k){j=h=k.wheelDelta/12}else{if("detail" in k){j=h=-k.detail*3}else{return }}}if(i.options.wheelAction=="zoom"){l=i.scale*Math.pow(2,1/3*(h?h/Math.abs(h):0));if(l<i.options.zoomMin){l=i.options.zoomMin}if(l>i.options.zoomMax){l=i.options.zoomMax}if(l!=i.scale){if(!i.wheelZoomCount&&i.options.onZoomStart){i.options.onZoomStart.call(i,k)}i.wheelZoomCount++;i.zoom(k.pageX,k.pageY,l,400);setTimeout(function(){i.wheelZoomCount--;if(!i.wheelZoomCount&&i.options.onZoomEnd){i.options.onZoomEnd.call(i,k)}},400)}return }g=i.x+j;f=i.y+h;if(g>0){g=0}else{if(g<i.maxScrollX){g=i.maxScrollX}}if(f>i.minScrollY){f=i.minScrollY}else{if(f<i.maxScrollY){f=i.maxScrollY}}if(i.maxScrollY<0){i.scrollTo(g,f,0)}},_transitionEnd:function(g){var f=this;if(g.target!=f.scroller){return }f._unbind(A);f._startAni()},_startAni:function(){var k=this,f=k.x,e=k.y,i=Date.now(),j,h,g;if(k.animating){return }if(!k.steps.length){k._resetPos(400);return }j=k.steps.shift();if(j.x==f&&j.y==e){j.time=0}k.animating=true;k.moved=true;if(k.options.useTransition){k._transitionTime(j.time);k._pos(j.x,j.y);k.animating=false;if(j.time){k._bind(A)}else{k._resetPos(0)}return }g=function(){var l=Date.now(),n,m;if(l>=i+j.time){k._pos(j.x,j.y);k.animating=false;if(k.options.onAnimationEnd){k.options.onAnimationEnd.call(k)}k._startAni();return }l=(l-i)/j.time-1;h=T.sqrt(1-l*l);n=(j.x-f)*h+f;m=(j.y-e)*h+e;k._pos(n,m);if(k.animating){k.aniTime=P(g)}};g()},_transitionTime:function(e){e+="ms";this.scroller.style[K]=e;if(this.hScrollbar){this.hScrollbarIndicator.style[K]=e}if(this.vScrollbar){this.vScrollbarIndicator.style[K]=e}},_momentum:function(l,f,j,e,n){var k=0.0006,g=T.abs(l)/f,h=(g*g)/(2*k),m=0,i=0;if(l>0&&h>j){i=n/(6/(h/g*k));j=j+i;g=g*j/h;h=j}else{if(l<0&&h>e){i=n/(6/(h/g*k));e=e+i;g=g*e/h;h=e}}h=h*(l<0?-1:1);m=g/k;return{dist:h,time:T.round(m)}},_offset:function(e){var g=-e.offsetLeft,f=-e.offsetTop;while(e=e.offsetParent){g-=e.offsetLeft;f-=e.offsetTop}if(e!=this.wrapper){g*=this.scale;f*=this.scale}return{left:g,top:f}},_snap:function(o,n){var k=this,j,h,m,g,f,e;m=k.pagesX.length-1;for(j=0,h=k.pagesX.length;j<h;j++){if(o>=k.pagesX[j]){m=j;break}}if(m==k.currPageX&&m>0&&k.dirX<0){m--}o=k.pagesX[m];f=T.abs(o-k.pagesX[k.currPageX]);f=f?T.abs(k.x-o)/f*500:0;k.currPageX=m;m=k.pagesY.length-1;for(j=0;j<m;j++){if(n>=k.pagesY[j]){m=j;break}}if(m==k.currPageY&&m>0&&k.dirY<0){m--}n=k.pagesY[m];e=T.abs(n-k.pagesY[k.currPageY]);e=e?T.abs(k.y-n)/e*500:0;k.currPageY=m;g=T.round(T.max(f,e))||200;return{x:o,y:n,time:g}},_bind:function(h,g,e){var f=this;if(document.addEventListener){(g||this.scroller).addEventListener(h,this,!!e)}else{this.events[h]=function(i){f.handleEvent.call(f,i)};(g||this.scroller).attachEvent("on"+h,this.events[h])}},_unbind:function(g,f,e){if(document.removeEventListener){(f||this.scroller).removeEventListener(g,this,!!e)}else{if(this.events[g]){(f||this.scroller).detachEvent("on"+g,this.events[g])}}},destroy:function(){var e=this;e.scroller.style[L]="";e.hScrollbar=false;e.vScrollbar=false;e._scrollbar("h");e._scrollbar("v");e._unbind(G,I);e._unbind(B);e._unbind(S,I);e._unbind(C,I);e._unbind(V,I);if(!e.options.hasTouch){e._unbind("DOMMouseScroll");e._unbind("mousewheel")}if(e.options.useTransition){e._unbind(A)}if(e.options.checkDOMChanges){clearInterval(e.checkDOMTime)}if(e.options.onDestroy){e.options.onDestroy.call(e)}},refresh:function(){var h=this,k,g,e,f,m=0,j=0;if(h.scale<h.options.zoomMin){h.scale=h.options.zoomMin}h.wrapperW=h.wrapper.clientWidth||1;h.wrapperH=h.wrapper.clientHeight||1;h.minScrollY=-h.options.topOffset||0;h.scrollerW=T.round(h.scroller.offsetWidth*h.scale);h.scrollerH=T.round((h.scroller.offsetHeight+h.minScrollY)*h.scale);h.maxScrollX=h.wrapperW-h.scrollerW;h.maxScrollY=h.wrapperH-h.scrollerH+h.minScrollY;h.dirX=0;h.dirY=0;if(h.options.onRefresh){h.options.onRefresh.call(h)}h.hScroll=h.options.hScroll&&h.maxScrollX<0;h.vScroll=h.options.vScroll&&(!h.options.bounceLock&&!h.hScroll||h.scrollerH>h.wrapperH);h.hScrollbar=h.hScroll&&h.options.hScrollbar;h.vScrollbar=h.vScroll&&h.options.vScrollbar&&h.scrollerH>h.wrapperH;k=h._offset(h.wrapper);h.wrapperOffsetLeft=-k.left;h.wrapperOffsetTop=-k.top;if(typeof h.options.snap=="string"){h.pagesX=[];h.pagesY=[];f=h.scroller.querySelectorAll(h.options.snap);for(g=0,e=f.length;g<e;g++){m=h._offset(f[g]);m.left+=h.wrapperOffsetLeft;m.top+=h.wrapperOffsetTop;h.pagesX[g]=m.left<h.maxScrollX?h.maxScrollX:m.left*h.scale;h.pagesY[g]=m.top<h.maxScrollY?h.maxScrollY:m.top*h.scale}}else{if(h.options.snap){h.pagesX=[];while(m>=h.maxScrollX){h.pagesX[j]=m;m=m-h.wrapperW;j++}if(h.maxScrollX%h.wrapperW){h.pagesX[h.pagesX.length]=h.maxScrollX-h.pagesX[h.pagesX.length-1]+h.pagesX[h.pagesX.length-1]}m=0;j=0;h.pagesY=[];while(m>=h.maxScrollY){h.pagesY[j]=m;m=m-h.wrapperH;j++}if(h.maxScrollY%h.wrapperH){h.pagesY[h.pagesY.length]=h.maxScrollY-h.pagesY[h.pagesY.length-1]+h.pagesY[h.pagesY.length-1]}}}h._scrollbar("h");h._scrollbar("v");if(!h.zoomed){h.scroller.style[K]="0";h._resetPos(400)}},setPosition:function(e,f){this.stop();this._pos(e,f)},scrollTo:function(e,n,m,k){var j=this,h=e,g,f;j.stop();if(!h.length){h=[{x:e,y:n,time:m,relative:k}]}for(g=0,f=h.length;g<f;g++){if(h[g].relative){h[g].x=j.x-h[g].x;h[g].y=j.y-h[g].y}j.steps.push({x:h[g].x,y:h[g].y,time:h[g].time||0})}j._startAni()},scrollToElement:function(e,g){var f=this,h;e=(e&&e.nodeType)?e:f.scroller.querySelector(e);h=f._offset(e);h.left+=f.wrapperOffsetLeft;h.top+=f.wrapperOffsetTop;h.left=h.left>0?0:h.left<f.maxScrollX?f.maxScrollX:h.left;h.top=h.top>f.minScrollY?f.minScrollY:h.top<f.maxScrollY?f.maxScrollY:h.top;g=g===undefined?T.max(T.abs(h.left)*2,T.abs(h.top)*2):g;f.scrollTo(h.left,h.top,g)},scrollToPage:function(g,f,i){var h=this,e,j;i=i===undefined?400:i;if(h.options.onScrollStart){h.options.onScrollStart.call(h)}if(h.options.snap){g=g=="next"?h.currPageX+1:g=="prev"?h.currPageX-1:g;f=f=="next"?h.currPageY+1:f=="prev"?h.currPageY-1:f;g=g<0?0:g>h.pagesX.length-1?h.pagesX.length-1:g;f=f<0?0:f>h.pagesY.length-1?h.pagesY.length-1:f;h.currPageX=g;h.currPageY=f;e=h.pagesX[g];j=h.pagesY[f]}else{e=-h.wrapperW*g;j=-h.wrapperH*f;if(e<h.maxScrollX){e=h.maxScrollX}if(j<h.maxScrollY){j=h.maxScrollY}}h.scrollTo(e,j,i)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(S,I);this._unbind(C,I);this._unbind(V,I)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind(A)}else{O(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(e,j,i,h){var f=this,g=i/f.scale;if(!f.options.useTransform){return }f.zoomed=true;h=h===undefined?200:h;e=e-f.wrapperOffsetLeft-f.x;j=j-f.wrapperOffsetTop-f.y;f.x=e-e*g+f.x;f.y=j-j*g+f.y;f.scale=i;f.refresh();f.x=f.x>0?0:f.x<f.maxScrollX?f.maxScrollX:f.x;f.y=f.y>f.minScrollY?f.minScrollY:f.y<f.maxScrollY?f.maxScrollY:f.y;f.scroller.style[K]=h+"ms";f.scroller.style[L]="translate("+f.x+"px,"+f.y+"px) scale("+i+")"+b;f.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};function R(e){if(Y===""){return e}e=e.charAt(0).toUpperCase()+e.substr(1);return Y+e}M=null;if(typeof exports!=="undefined"){exports.iScroll=U}else{I.iScroll=U}})(window,document);(function(X){var N="left",O="right",Y="up",F="down",Z="in",E="out",Q="none",J="auto",R="swipe",I="pinch",D="tap",T="doubletap",AA="longtap",M="horizontal",H="vertical",U="all",K=10,W="start",S="move",V="end",L="cancel",AB="ontouchstart" in window,C="TouchSwipe";var P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};X.fn.swipe=function(A){var a=X(this),b=a.data(C);if(b&&typeof A==="string"){if(b[A]){return b[A].apply(this,Array.prototype.slice.call(arguments,1))}else{X.error("Method "+A+" does not exist on jQuery.swipe")}}else{if(!b&&(typeof A==="object"||!A)){return G.apply(this,arguments)}}return a};X.fn.swipe.defaults=P;X.fn.swipe.phases={PHASE_START:W,PHASE_MOVE:S,PHASE_END:V,PHASE_CANCEL:L};X.fn.swipe.directions={LEFT:N,RIGHT:O,UP:Y,DOWN:F,IN:Z,OUT:E};X.fn.swipe.pageScroll={NONE:Q,HORIZONTAL:M,VERTICAL:H,AUTO:J};X.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:U};function G(A){if(A&&(A.allowPageScroll===undefined&&(A.swipe!==undefined||A.swipeStatus!==undefined))){A.allowPageScroll=Q}if(A.click!==undefined&&A.tap===undefined){A.tap=A.click}if(!A){A={}}A=X.extend({},X.fn.swipe.defaults,A);return this.each(function(){var a=X(this);var b=a.data(C);if(!b){b=new B(this,A);a.data(C,b)}})}function B(A,AJ){var AC=(AB||!AJ.fallbackToMouseEvents),v=AC?"touchstart":"mousedown",AE=AC?"touchmove":"mousemove",i=AC?"touchend":"mouseup",k=AC?null:"mouseleave",s="touchcancel";var AX=0,Ao=null,b=0,Ac=0,Ae=0,AD=1,AN=0,Au=0,q=null;var Am=X(A);var d="start";var g=0;var An=null;var j=0,Ab=0,A5=0,AZ=0,p=0;var Ah=null;try{Am.bind(v,Aq);Am.bind(s,A1)}catch(AT){X.error("events not supported "+v+","+s+" on jQuery.swipe")}this.enable=function(){Am.bind(v,Aq);Am.bind(s,A1);return Am};this.disable=function(){At();return Am};this.destroy=function(){At();Am.data(C,null);return Am};this.option=function(A6,A7){if(AJ[A6]!==undefined){if(A7===undefined){return AJ[A6]}else{AJ[A6]=A7}}else{X.error("Option "+A6+" does not exist on jQuery.swipe.options")}};function Aq(A6){if(w()){return }if(X(A6.target).closest(AJ.excludedElements,Am).length>0){return }var A9=A6.originalEvent?A6.originalEvent:A6;var A7,A8=AB?A9.touches[0]:A9;d=W;if(AB){g=A9.touches.length}else{A6.preventDefault()}AX=0;Ao=null;Au=null;b=0;Ac=0;Ae=0;AD=1;AN=0;An=AU();q=c();l();if(!AB||(g===AJ.fingers||AJ.fingers===U)||Ag()){AV(0,A8);j=AL();if(g==2){AV(1,A9.touches[1]);Ac=Ae=AK(An[0].start,An[1].start)}if(AJ.swipeStatus||AJ.pinchStatus){A7=o(A9,d)}}else{A7=false}if(A7===false){d=L;o(A9,d);return A7}else{AP(true)}}function Aa(BC){var A9=BC.originalEvent?BC.originalEvent:BC;if(d===V||d===L||AR()){return }var A6,A7=AB?A9.touches[0]:A9;var BB=Aw(A7);Ab=AL();if(AB){g=A9.touches.length}d=S;if(g==2){if(Ac==0){AV(1,A9.touches[1]);Ac=Ae=AK(An[0].start,An[1].start)}else{Aw(A9.touches[1]);Ae=AK(An[0].end,An[1].end);Au=AM(An[0].end,An[1].end)}AD=A3(Ac,Ae);AN=Math.abs(Ac-Ae)}if((g===AJ.fingers||AJ.fingers===U)||!AB||Ag()){Ao=As(BB.start,BB.end);AS(BC,Ao);AX=Al(BB.start,BB.end);b=Ar();Av(Ao,AX);if(AJ.swipeStatus||AJ.pinchStatus){A6=o(A9,d)}if(!AJ.triggerOnTouchEnd||AJ.triggerOnTouchLeave){var A8=true;if(AJ.triggerOnTouchLeave){var BA=Af(this);A8=AH(BB.end,BA)}if(!AJ.triggerOnTouchEnd&&A8){d=u(S)}else{if(AJ.triggerOnTouchLeave&&!A8){d=u(V)}}if(d==L||d==V){o(A9,d)}}}else{d=L;o(A9,d)}if(A6===false){d=L;o(A9,d)}}function r(A7){var A6=A7.originalEvent;if(AB){if(A6.touches.length>0){AF();return true}}if(AR()){g=AZ}A7.preventDefault();Ab=AL();b=Ar();if(A0()){d=L;o(A6,d)}else{if(AJ.triggerOnTouchEnd||(AJ.triggerOnTouchEnd==false&&d===S)){d=V;o(A6,d)}else{if(!AJ.triggerOnTouchEnd&&A4()){d=V;Ay(A6,d,D)}else{if(d===S){d=L;o(A6,d)}}}}AP(false)}function A1(){g=0;Ab=0;j=0;Ac=0;Ae=0;AD=1;l();AP(false)}function t(A7){var A6=A7.originalEvent;if(AJ.triggerOnTouchLeave){d=u(V);o(A6,d)}}function At(){Am.unbind(v,Aq);Am.unbind(s,A1);Am.unbind(AE,Aa);Am.unbind(i,r);if(k){Am.unbind(k,t)}AP(false)}function u(A9){var BA=A9;var A6=y();var A7=AQ();var A8=A0();if(!A6||A8){BA=L}else{if(A7&&A9==S&&(!AJ.triggerOnTouchEnd||AJ.triggerOnTouchLeave)){BA=V}else{if(!A7&&A9==V&&AJ.triggerOnTouchLeave){BA=L}}}return BA}function o(A6,A8){var A7=undefined;if(x()||h()){A7=Ay(A6,A8,R)}else{if((n()||Ag())&&A7!==false){A7=Ay(A6,A8,I)}}if(Ax()&&A7!==false){A7=Ay(A6,A8,T)}else{if(AO()&&A7!==false){A7=Ay(A6,A8,AA)}else{if(AW()&&A7!==false){A7=Ay(A6,A8,D)}}}if(A8===L){A1(A6)}if(A8===V){if(AB){if(A6.touches.length==0){A1(A6)}}else{A1(A6)}}return A7}function Ay(A9,A8,A6){var A7=undefined;if(A6==R){Am.trigger("swipeStatus",[A8,Ao||null,AX||0,b||0,g]);if(AJ.swipeStatus){A7=AJ.swipeStatus.call(Am,A9,A8,Ao||null,AX||0,b||0,g);if(A7===false){return false}}if(A8==V&&Ai()){Am.trigger("swipe",[Ao,AX,b,g]);if(AJ.swipe){A7=AJ.swipe.call(Am,A9,Ao,AX,b,g);if(A7===false){return false}}switch(Ao){case N:Am.trigger("swipeLeft",[Ao,AX,b,g]);if(AJ.swipeLeft){A7=AJ.swipeLeft.call(Am,A9,Ao,AX,b,g)}break;case O:Am.trigger("swipeRight",[Ao,AX,b,g]);if(AJ.swipeRight){A7=AJ.swipeRight.call(Am,A9,Ao,AX,b,g)}break;case Y:Am.trigger("swipeUp",[Ao,AX,b,g]);if(AJ.swipeUp){A7=AJ.swipeUp.call(Am,A9,Ao,AX,b,g)}break;case F:Am.trigger("swipeDown",[Ao,AX,b,g]);if(AJ.swipeDown){A7=AJ.swipeDown.call(Am,A9,Ao,AX,b,g)}break}}}if(A6==I){Am.trigger("pinchStatus",[A8,Au||null,AN||0,b||0,g,AD]);if(AJ.pinchStatus){A7=AJ.pinchStatus.call(Am,A9,A8,Au||null,AN||0,b||0,g,AD);if(A7===false){return false}}if(A8==V&&A2()){switch(Au){case Z:Am.trigger("pinchIn",[Au||null,AN||0,b||0,g,AD]);if(AJ.pinchIn){A7=AJ.pinchIn.call(Am,A9,Au||null,AN||0,b||0,g,AD)}break;case E:Am.trigger("pinchOut",[Au||null,AN||0,b||0,g,AD]);if(AJ.pinchOut){A7=AJ.pinchOut.call(Am,A9,Au||null,AN||0,b||0,g,AD)}break}}}if(A6==D){if(A8===L||A8===V){clearTimeout(Ah);if(e()&&!z()){p=AL();Ah=setTimeout(X.proxy(function(){p=null;Am.trigger("tap",[A9.target]);if(AJ.tap){A7=AJ.tap.call(Am,A9,A9.target)}},this),AJ.doubleTapThreshold)}else{p=null;Am.trigger("tap",[A9.target]);if(AJ.tap){A7=AJ.tap.call(Am,A9,A9.target)}}}}else{if(A6==T){if(A8===L||A8===V){clearTimeout(Ah);p=null;Am.trigger("doubletap",[A9.target]);if(AJ.doubleTap){A7=AJ.doubleTap.call(Am,A9,A9.target)}}}else{if(A6==AA){if(A8===L||A8===V){clearTimeout(Ah);p=null;Am.trigger("longtap",[A9.target]);if(AJ.longTap){A7=AJ.longTap.call(Am,A9,A9.target)}}}}}return A7}function AQ(){var A6=true;if(AJ.threshold!==null){A6=AX>=AJ.threshold}return A6}function A0(){var A6=false;if(AJ.cancelThreshold!==null&&Ao!==null){A6=(Ak(Ao)-AX)>=AJ.cancelThreshold}return A6}function AY(){if(AJ.pinchThreshold!==null){return AN>=AJ.pinchThreshold}return true}function y(){var A6;if(AJ.maxTimeThreshold){if(b>=AJ.maxTimeThreshold){A6=false}else{A6=true}}else{A6=true}return A6}function AS(A8,A7){if(AJ.allowPageScroll===Q||Ag()){A8.preventDefault()}else{var A6=AJ.allowPageScroll===J;switch(A7){case N:if((AJ.swipeLeft&&A6)||(!A6&&AJ.allowPageScroll!=M)){A8.preventDefault()}break;case O:if((AJ.swipeRight&&A6)||(!A6&&AJ.allowPageScroll!=M)){A8.preventDefault()}break;case Y:if((AJ.swipeUp&&A6)||(!A6&&AJ.allowPageScroll!=H)){A8.preventDefault()}break;case F:if((AJ.swipeDown&&A6)||(!A6&&AJ.allowPageScroll!=H)){A8.preventDefault()}break}}}function A2(){var A7=Ap();var A8=f();var A6=AY();return A7&&A8&&A6}function Ag(){return !!(AJ.pinchStatus||AJ.pinchIn||AJ.pinchOut)}function n(){return !!(A2()&&Ag())}function Ai(){var BB=y();var A9=AQ();var A6=Ap();var A8=f();var A7=A0();var BA=!A7&&A8&&A6&&A9&&BB;return BA}function h(){return !!(AJ.swipe||AJ.swipeStatus||AJ.swipeLeft||AJ.swipeRight||AJ.swipeUp||AJ.swipeDown)}function x(){return !!(Ai()&&h())}function Ap(){return((g===AJ.fingers||AJ.fingers===U)||!AB)}function f(){return An[0].end.x!==0}function A4(){return !!(AJ.tap)}function e(){return !!(AJ.doubleTap)}function Aj(){return !!(AJ.longTap)}function m(){if(p==null){return false}var A6=AL();return(e()&&((A6-p)<=AJ.doubleTapThreshold))}function z(){return m()}function AG(){return((g===1||!AB)&&(isNaN(AX)||AX===0))}function Ad(){return((b>AJ.longTapThreshold)&&(AX<K))}function AW(){return !!(AG()&&A4())}function Ax(){return !!(m()&&e())}function AO(){return !!(Ad()&&Aj())}function AF(){A5=AL();AZ=event.touches.length+1}function l(){A5=0;AZ=0}function AR(){var A7=false;if(A5){var A6=AL()-A5;if(A6<=AJ.fingerReleaseThreshold){A7=true}}return A7}function w(){return !!(Am.data(C+"_intouch")===true)}function AP(A6){if(A6===true){Am.bind(AE,Aa);Am.bind(i,r);if(k){Am.bind(k,t)}}else{Am.unbind(AE,Aa,false);Am.unbind(i,r,false);if(k){Am.unbind(k,t,false)}}Am.data(C+"_intouch",A6===true)}function AV(A7,A8){var A6=A8.identifier!==undefined?A8.identifier:0;An[A7].identifier=A6;An[A7].start.x=An[A7].end.x=A8.pageX||A8.clientX;An[A7].start.y=An[A7].end.y=A8.pageY||A8.clientY;return An[A7]}function Aw(A8){var A6=A8.identifier!==undefined?A8.identifier:0;var A7=a(A6);A7.end.x=A8.pageX||A8.clientX;A7.end.y=A8.pageY||A8.clientY;return A7}function a(A6){for(var A7=0;A7<An.length;A7++){if(An[A7].identifier==A6){return An[A7]}}}function AU(){var A7=[];for(var A6=0;A6<=5;A6++){A7.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return A7}function Av(A7,A6){A6=Math.max(A6,Ak(A7));q[A7].distance=A6}function Ak(A6){return q[A6].distance}function c(){var A6={};A6[N]=AI(N);A6[O]=AI(O);A6[Y]=AI(Y);A6[F]=AI(F);return A6}function AI(A6){return{direction:A6,distance:0}}function Ar(){return Ab-j}function AK(A9,A6){var A7=Math.abs(A9.x-A6.x);var A8=Math.abs(A9.y-A6.y);return Math.round(Math.sqrt(A7*A7+A8*A8))}function A3(A8,A7){var A6=(A7/A8)*1;return A6.toFixed(2)}function AM(){if(AD<1){return E}else{return Z}}function Al(A6,A7){return Math.round(Math.sqrt(Math.pow(A7.x-A6.x,2)+Math.pow(A7.y-A6.y,2)))}function Az(BB,A7){var A8=BB.x-A7.x;var A9=A7.y-BB.y;var A6=Math.atan2(A9,A8);var BA=Math.round(A6*180/Math.PI);if(BA<0){BA=360-Math.abs(BA)}return BA}function As(A7,A8){var A6=Az(A7,A8);if((A6<=45)&&(A6>=0)){return N}else{if((A6<=360)&&(A6>=315)){return N}else{if((A6>=135)&&(A6<=225)){return O}else{if((A6>45)&&(A6<135)){return F}else{return Y}}}}}function AL(){var A6=new Date();return A6.getTime()}function Af(A8){A8=X(A8);var A6=A8.offset();var A7={left:A6.left,right:A6.left+A8.outerWidth(),top:A6.top,bottom:A6.top+A8.outerHeight()};return A7}function AH(A7,A6){return(A7.x>A6.left&&A7.x<A6.right&&A7.y>A6.top&&A7.y<A6.bottom)}}})(jQuery);(function(A){A.fn.rwdImageMaps=function(){var C=this;var B=function(){C.each(function(){if(typeof (A(this).attr("usemap"))=="undefined"){return }var D=this,E=A(D);A("<img />").load(function(){var M="width",H="height",G=E.attr(M),K=E.attr(H);if(!G||!K){var F=new Image();F.src=E.attr("src");if(!G){G=F.width}if(!K){K=F.height}}var N=E.width()/100,J=E.height()/100,L=E.attr("usemap").replace("#",""),I="coords";A('map[name="'+L+'"]').find("area").each(function(){var P=A(this);if(!P.data(I)){P.data(I,P.attr(I))}var Q=P.data(I).split(","),R=new Array(Q.length);for(var O=0;O<R.length;++O){if(O%2===0){R[O]=parseInt(((Q[O]/G)*100)*N)}else{R[O]=parseInt(((Q[O]/K)*100)*J)}}P.attr(I,R.toString())})}).attr("src",E.attr("src"))})};A(window).resize(B).trigger("resize");return this}})(jQuery);(function(){var U=this;var K=U._;var h=Array.prototype,G=Object.prototype,N=Function.prototype;var k=h.push,L=h.slice,C=G.toString,J=G.hasOwnProperty;var S=Array.isArray,E=Object.keys,i=N.bind,a=Object.create;var d=function(){};var m=function(n){if(n instanceof m){return n}if(!(this instanceof m)){return new m(n)}this._wrapped=n};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=m}exports._=m}else{U._=m}m.VERSION="1.8.2";var B=function(o,n,p){if(n===void 0){return o}switch(p==null?3:p){case 1:return function(q){return o.call(n,q)};case 2:return function(r,q){return o.call(n,r,q)};case 3:return function(r,q,s){return o.call(n,r,q,s)};case 4:return function(q,s,r,t){return o.call(n,q,s,r,t)}}return function(){return o.apply(n,arguments)}};var e=function(o,n,p){if(o==null){return m.identity}if(m.isFunction(o)){return B(o,n,p)}if(m.isObject(o)){return m.matcher(o)}return m.property(o)};m.iteratee=function(o,n){return e(o,n,Infinity)};var P=function(o,n){return function(w){var u=arguments.length;if(u<2||w==null){return w}for(var q=1;q<u;q++){var v=arguments[q],t=o(v),p=t.length;for(var s=0;s<p;s++){var r=t[s];if(!n||w[r]===void 0){w[r]=v[r]}}}return w}};var b=function(o){if(!m.isObject(o)){return{}}if(a){return a(o)}d.prototype=o;var n=new d;d.prototype=null;return n};var j=Math.pow(2,53)-1;var c=function(o){var n=o&&o.length;return typeof n=="number"&&n>=0&&n<=j};m.each=m.forEach=function(r,s,o){s=B(s,o);var n,q;if(c(r)){for(n=0,q=r.length;n<q;n++){s(r[n],n,r)}}else{var p=m.keys(r);for(n=0,q=p.length;n<q;n++){s(r[p[n]],p[n],r)}}return r};m.map=m.collect=function(s,u,p){u=e(u,p);var r=!c(s)&&m.keys(s),q=(r||s).length,o=Array(q);for(var n=0;n<q;n++){var t=r?r[n]:n;o[n]=u(s[t],t,s)}return o};function Y(n){function o(t,v,p,s,q,r){for(;q>=0&&q<r;q+=n){var u=s?s[q]:q;p=v(p,t[u],u,t)}return p}return function(u,v,p,r){v=B(v,r,4);var t=!c(u)&&m.keys(u),s=(t||u).length,q=n>0?0:s-1;if(arguments.length<3){p=u[t?t[q]:q];q+=n}return o(u,v,p,t,q,s)}}m.reduce=m.foldl=m.inject=Y(1);m.reduceRight=m.foldr=Y(-1);m.find=m.detect=function(q,n,p){var o;if(c(q)){o=m.findIndex(q,n,p)}else{o=m.findKey(q,n,p)}if(o!==void 0&&o!==-1){return q[o]}};m.filter=m.select=function(q,n,p){var o=[];n=e(n,p);m.each(q,function(t,r,s){if(n(t,r,s)){o.push(t)}});return o};m.reject=function(p,n,o){return m.filter(p,m.negate(e(n)),o)};m.every=m.all=function(s,n,p){n=e(n,p);var r=!c(s)&&m.keys(s),q=(r||s).length;for(var o=0;o<q;o++){var t=r?r[o]:o;if(!n(s[t],t,s)){return false}}return true};m.some=m.any=function(s,n,p){n=e(n,p);var r=!c(s)&&m.keys(s),q=(r||s).length;for(var o=0;o<q;o++){var t=r?r[o]:o;if(n(s[t],t,s)){return true}}return false};m.contains=m.includes=m.include=function(p,o,n){if(!c(p)){p=m.values(p)}return m.indexOf(p,o,typeof n=="number"&&n)>=0};m.invoke=function(p,q){var n=L.call(arguments,2);var o=m.isFunction(q);return m.map(p,function(s){var r=o?q:s[q];return r==null?r:r.apply(s,n)})};m.pluck=function(o,n){return m.map(o,m.property(n))};m.where=function(o,n){return m.filter(o,m.matcher(n))};m.findWhere=function(o,n){return m.find(o,m.matcher(n))};m.max=function(q,s,n){var v=-Infinity,t=-Infinity,u,p;if(s==null&&q!=null){q=c(q)?q:m.values(q);for(var r=0,o=q.length;r<o;r++){u=q[r];if(u>v){v=u}}}else{s=e(s,n);m.each(q,function(y,w,x){p=s(y,w,x);if(p>t||p===-Infinity&&v===-Infinity){v=y;t=p}})}return v};m.min=function(q,s,n){var v=Infinity,t=Infinity,u,p;if(s==null&&q!=null){q=c(q)?q:m.values(q);for(var r=0,o=q.length;r<o;r++){u=q[r];if(u<v){v=u}}}else{s=e(s,n);m.each(q,function(y,w,x){p=s(y,w,x);if(p<t||p===Infinity&&v===Infinity){v=y;t=p}})}return v};m.shuffle=function(r){var s=c(r)?r:m.values(r);var q=s.length;var n=Array(q);for(var o=0,p;o<q;o++){p=m.random(0,o);if(p!==o){n[o]=n[p]}n[p]=s[o]}return n};m.sample=function(p,q,o){if(q==null||o){if(!c(p)){p=m.values(p)}return p[m.random(p.length-1)]}return m.shuffle(p).slice(0,Math.max(0,q))};m.sortBy=function(o,p,n){p=e(p,n);return m.pluck(m.map(o,function(s,q,r){return{value:s,index:q,criteria:p(s,q,r)}}).sort(function(t,s){var r=t.criteria;var q=s.criteria;if(r!==q){if(r>q||r===void 0){return 1}if(r<q||q===void 0){return -1}}return t.index-s.index}),"value")};var Q=function(n){return function(q,r,p){var o={};r=e(r,p);m.each(q,function(u,s){var t=r(u,s,q);n(o,u,t)});return o}};m.groupBy=Q(function(n,p,o){if(m.has(n,o)){n[o].push(p)}else{n[o]=[p]}});m.indexBy=Q(function(n,p,o){n[o]=p});m.countBy=Q(function(n,p,o){if(m.has(n,o)){n[o]++}else{n[o]=1}});m.toArray=function(n){if(!n){return[]}if(m.isArray(n)){return L.call(n)}if(c(n)){return m.map(n,m.identity)}return m.values(n)};m.size=function(n){if(n==null){return 0}return c(n)?n.length:m.keys(n).length};m.partition=function(r,n,p){n=e(n,p);var q=[],o=[];m.each(r,function(t,s,u){(n(t,s,u)?q:o).push(t)});return[q,o]};m.first=m.head=m.take=function(q,p,o){if(q==null){return void 0}if(p==null||o){return q[0]}return m.initial(q,q.length-p)};m.initial=function(q,p,o){return L.call(q,0,Math.max(0,q.length-(p==null||o?1:p)))};m.last=function(q,p,o){if(q==null){return void 0}if(p==null||o){return q[q.length-1]}return m.rest(q,Math.max(0,q.length-p))};m.rest=m.tail=m.drop=function(q,p,o){return L.call(q,p==null||o?1:p)};m.compact=function(n){return m.filter(n,m.identity)};var V=function(t,p,u,x){var o=[],w=0;for(var r=x||0,n=t&&t.length;r<n;r++){var v=t[r];if(c(v)&&(m.isArray(v)||m.isArguments(v))){if(!p){v=V(v,p,u)}var q=0,s=v.length;o.length+=s;while(q<s){o[w++]=v[q++]}}else{if(!u){o[w++]=v}}}return o};m.flatten=function(o,n){return V(o,n,false)};m.without=function(n){return m.difference(n,L.call(arguments,1))};m.uniq=m.unique=function(u,q,t,o){if(u==null){return[]}if(!m.isBoolean(q)){o=t;t=q;q=false}if(t!=null){t=e(t,o)}var w=[];var n=[];for(var s=0,p=u.length;s<p;s++){var v=u[s],r=t?t(v,s,u):v;if(q){if(!s||n!==r){w.push(v)}n=r}else{if(t){if(!m.contains(n,r)){n.push(r);w.push(v)}}else{if(!m.contains(w,v)){w.push(v)}}}}return w};m.union=function(){return m.uniq(V(arguments,true,true))};m.intersection=function(t){if(t==null){return[]}var n=[];var s=arguments.length;for(var p=0,r=t.length;p<r;p++){var q=t[p];if(m.contains(n,q)){continue}for(var o=1;o<s;o++){if(!m.contains(arguments[o],q)){break}}if(o===s){n.push(q)}}return n};m.difference=function(o){var n=V(arguments,true,true,1);return m.filter(o,function(p){return !m.contains(n,p)})};m.zip=function(){return m.unzip(arguments)};m.unzip=function(q){var p=q&&m.max(q,"length").length||0;var n=Array(p);for(var o=0;o<p;o++){n[o]=m.pluck(q,o)}return n};m.object=function(r,o){var n={};for(var p=0,q=r&&r.length;p<q;p++){if(o){n[r[p]]=o[p]}else{n[r[p][0]]=r[p][1]}}return n};m.indexOf=function(r,p,q){var n=0,o=r&&r.length;if(typeof q=="number"){n=q<0?Math.max(0,o+q):q}else{if(q&&o){n=m.sortedIndex(r,p);return r[n]===p?n:-1}}if(p!==p){return m.findIndex(L.call(r,n),m.isNaN)}for(;n<o;n++){if(r[n]===p){return n}}return -1};m.lastIndexOf=function(q,o,p){var n=q?q.length:0;if(typeof p=="number"){n=p<0?n+p+1:Math.min(n,p+1)}if(o!==o){return m.findLastIndex(L.call(q,0,n),m.isNaN)}while(--n>=0){if(q[n]===o){return n}}return -1};function F(n){return function(s,o,q){o=e(o,q);var r=s!=null&&s.length;var p=n>0?0:r-1;for(;p>=0&&p<r;p+=n){if(o(s[p],p,s)){return p}}return -1}}m.findIndex=F(1);m.findLastIndex=F(-1);m.sortedIndex=function(u,s,t,p){t=e(t,p,1);var r=t(s);var n=0,q=u.length;while(n<q){var o=Math.floor((n+q)/2);if(t(u[o])<r){n=o+1}else{q=o}}return n};m.range=function(s,p,r){if(arguments.length<=1){p=s||0;s=0}r=r||1;var q=Math.max(Math.ceil((p-s)/r),0);var o=Array(q);for(var n=0;n<q;n++,s+=r){o[n]=s}return o};var X=function(s,p,r,t,q){if(!(t instanceof p)){return s.apply(r,q)}var o=b(s.prototype);var n=s.apply(o,q);if(m.isObject(n)){return n}return o};m.bind=function(q,o){if(i&&q.bind===i){return i.apply(q,L.call(arguments,1))}if(!m.isFunction(q)){throw new TypeError("Bind must be called on a function")}var n=L.call(arguments,2);var p=function(){return X(q,p,o,this,n.concat(L.call(arguments)))};return p};m.partial=function(o){var p=L.call(arguments,1);var n=function(){var q=0,t=p.length;var r=Array(t);for(var s=0;s<t;s++){r[s]=p[s]===m?arguments[q++]:p[s]}while(q<arguments.length){r.push(arguments[q++])}return X(o,n,this,this,r)};return n};m.bindAll=function(q){var o,p=arguments.length,n;if(p<=1){throw new Error("bindAll must be passed function names")}for(o=1;o<p;o++){n=arguments[o];q[n]=m.bind(q[n],q)}return q};m.memoize=function(o,n){var p=function(s){var r=p.cache;var q=""+(n?n.apply(this,arguments):s);if(!m.has(r,q)){r[q]=o.apply(this,arguments)}return r[q]};p.cache={};return p};m.delay=function(o,p){var n=L.call(arguments,2);return setTimeout(function(){return o.apply(null,n)},p)};m.defer=m.partial(m.delay,m,1);m.throttle=function(o,q,u){var n,s,v;var t=null;var r=0;if(!u){u={}}var p=function(){r=u.leading===false?0:m.now();t=null;v=o.apply(n,s);if(!t){n=s=null}};return function(){var w=m.now();if(!r&&u.leading===false){r=w}var x=q-(w-r);n=this;s=arguments;if(x<=0||x>q){if(t){clearTimeout(t);t=null}r=w;v=o.apply(n,s);if(!t){n=s=null}}else{if(!t&&u.trailing!==false){t=setTimeout(p,x)}}return v}};m.debounce=function(p,r,o){var u,t,n,s,v;var q=function(){var w=m.now()-s;if(w<r&&w>=0){u=setTimeout(q,r-w)}else{u=null;if(!o){v=p.apply(n,t);if(!u){n=t=null}}}};return function(){n=this;t=arguments;s=m.now();var w=o&&!u;if(!u){u=setTimeout(q,r)}if(w){v=p.apply(n,t);n=t=null}return v}};m.wrap=function(n,o){return m.partial(o,n)};m.negate=function(n){return function(){return !n.apply(this,arguments)}};m.compose=function(){var n=arguments;var o=n.length-1;return function(){var q=o;var p=n[o].apply(this,arguments);while(q--){p=n[q].call(this,p)}return p}};m.after=function(o,n){return function(){if(--o<1){return n.apply(this,arguments)}}};m.before=function(p,o){var n;return function(){if(--p>0){n=o.apply(this,arguments)}if(p<=1){o=null}return n}};m.once=m.partial(m.before,2);var f=!{toString:null}.propertyIsEnumerable("toString");var A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function D(r,q){var n=A.length;var o=r.constructor;var p=(m.isFunction(o)&&o.prototype)||G;var s="constructor";if(m.has(r,s)&&!m.contains(q,s)){q.push(s)}while(n--){s=A[n];if(s in r&&r[s]!==p[s]&&!m.contains(q,s)){q.push(s)}}}m.keys=function(p){if(!m.isObject(p)){return[]}if(E){return E(p)}var o=[];for(var n in p){if(m.has(p,n)){o.push(n)}}if(f){D(p,o)}return o};m.allKeys=function(p){if(!m.isObject(p)){return[]}var o=[];for(var n in p){o.push(n)}if(f){D(p,o)}return o};m.values=function(r){var q=m.keys(r);var p=q.length;var n=Array(p);for(var o=0;o<p;o++){n[o]=r[q[o]]}return n};m.mapObject=function(s,u,p){u=e(u,p);var r=m.keys(s),q=r.length,o={},t;for(var n=0;n<q;n++){t=r[n];o[t]=u(s[t],t,s)}return o};m.pairs=function(r){var p=m.keys(r);var o=p.length;var q=Array(o);for(var n=0;n<o;n++){q[n]=[p[n],r[p[n]]]}return q};m.invert=function(r){var n={};var q=m.keys(r);for(var o=0,p=q.length;o<p;o++){n[r[q[o]]]=q[o]}return n};m.functions=m.methods=function(p){var o=[];for(var n in p){if(m.isFunction(p[n])){o.push(n)}}return o.sort()};m.extend=P(m.allKeys);m.extendOwn=m.assign=P(m.keys);m.findKey=function(t,n,q){n=e(n,q);var s=m.keys(t),p;for(var o=0,r=s.length;o<r;o++){p=s[o];if(n(t[p],p,t)){return p}}};m.pick=function(p,t,n){var x={},q=p,s,w;if(q==null){return x}if(m.isFunction(t)){w=m.allKeys(q);s=B(t,n)}else{w=V(arguments,false,false,1);s=function(z,y,AA){return y in AA};q=Object(q)}for(var r=0,o=w.length;r<o;r++){var v=w[r];var u=q[v];if(s(u,v,q)){x[v]=u}}return x};m.omit=function(p,q,n){if(m.isFunction(q)){q=m.negate(q)}else{var o=m.map(V(arguments,false,false,1),String);q=function(s,r){return !m.contains(o,r)}}return m.pick(p,q,n)};m.defaults=P(m.allKeys,true);m.clone=function(n){if(!m.isObject(n)){return n}return m.isArray(n)?n.slice():m.extend({},n)};m.tap=function(o,n){n(o);return o};m.isMatch=function(o,n){var s=m.keys(n),r=s.length;if(o==null){return !r}var t=Object(o);for(var q=0;q<r;q++){var p=s[q];if(n[p]!==t[p]||!(p in t)){return false}}return true};var l=function(v,u,o,q){if(v===u){return v!==0||1/v===1/u}if(v==null||u==null){return v===u}if(v instanceof m){v=v._wrapped}if(u instanceof m){u=u._wrapped}var s=C.call(v);if(s!==C.call(u)){return false}switch(s){case"[object RegExp]":case"[object String]":return""+v===""+u;case"[object Number]":if(+v!==+v){return +u!==+u}return +v===0?1/+v===1/u:+v===+u;case"[object Date]":case"[object Boolean]":return +v===+u}var p=s==="[object Array]";if(!p){if(typeof v!="object"||typeof u!="object"){return false}var t=v.constructor,r=u.constructor;if(t!==r&&!(m.isFunction(t)&&t instanceof t&&m.isFunction(r)&&r instanceof r)&&("constructor" in v&&"constructor" in u)){return false}}o=o||[];q=q||[];var n=o.length;while(n--){if(o[n]===v){return q[n]===u}}o.push(v);q.push(u);if(p){n=v.length;if(n!==u.length){return false}while(n--){if(!l(v[n],u[n],o,q)){return false}}}else{var x=m.keys(v),w;n=x.length;if(m.keys(u).length!==n){return false}while(n--){w=x[n];if(!(m.has(u,w)&&l(v[w],u[w],o,q))){return false}}}o.pop();q.pop();return true};m.isEqual=function(o,n){return l(o,n)};m.isEmpty=function(n){if(n==null){return true}if(c(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))){return n.length===0}return m.keys(n).length===0};m.isElement=function(n){return !!(n&&n.nodeType===1)};m.isArray=S||function(n){return C.call(n)==="[object Array]"};m.isObject=function(o){var n=typeof o;return n==="function"||n==="object"&&!!o};m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(o){return C.call(o)==="[object "+n+"]"}});if(!m.isArguments(arguments)){m.isArguments=function(n){return m.has(n,"callee")}}if(typeof /./!="function"&&typeof Int8Array!="object"){m.isFunction=function(n){return typeof n=="function"||false}}m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};m.isNaN=function(n){return m.isNumber(n)&&n!==+n};m.isBoolean=function(n){return n===true||n===false||C.call(n)==="[object Boolean]"};m.isNull=function(n){return n===null};m.isUndefined=function(n){return n===void 0};m.has=function(o,n){return o!=null&&J.call(o,n)};m.noConflict=function(){U._=K;return this};m.identity=function(n){return n};m.constant=function(n){return function(){return n}};m.noop=function(){};m.property=function(n){return function(o){return o==null?void 0:o[n]}};m.propertyOf=function(n){return n==null?function(){}:function(o){return n[o]}};m.matcher=m.matches=function(n){n=m.extendOwn({},n);return function(o){return m.isMatch(o,n)}};m.times=function(s,r,q){var o=Array(Math.max(0,s));r=B(r,q,1);for(var p=0;p<s;p++){o[p]=r(p)}return o};m.random=function(o,n){if(n==null){n=o;o=0}return o+Math.floor(Math.random()*(n-o+1))};m.now=Date.now||function(){return new Date().getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var M=m.invert(R);var W=function(r){var o=function(s){return r[s]};var q="(?:"+m.keys(r).join("|")+")";var p=RegExp(q);var n=RegExp(q,"g");return function(s){s=s==null?"":""+s;return p.test(s)?s.replace(n,o):s}};m.escape=W(R);m.unescape=W(M);m.result=function(n,p,q){var o=n==null?void 0:n[p];if(o===void 0){o=q}return m.isFunction(o)?o.call(n):o};var Z=0;m.uniqueId=function(n){var o=++Z+"";return n?n+o:o};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/;var H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var I=/\\|'|\r|\n|\u2028|\u2029/g;var g=function(n){return"\\"+H[n]};m.template=function(w,q,t){if(!q&&t){q=t}q=m.defaults({},q,m.templateSettings);var r=RegExp([(q.escape||T).source,(q.interpolate||T).source,(q.evaluate||T).source].join("|")+"|$","g");var s=0;var n="__p+='";w.replace(r,function(y,z,x,AB,AA){n+=w.slice(s,AA).replace(I,g);s=AA+y.length;if(z){n+="'+\n((__t=("+z+"))==null?'':_.escape(__t))+\n'"}else{if(x){n+="'+\n((__t=("+x+"))==null?'':__t)+\n'"}else{if(AB){n+="';\n"+AB+"\n__p+='"}}}return y});n+="';\n";if(!q.variable){n="with(obj||{}){\n"+n+"}\n"}n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var p=new Function(q.variable||"obj","_",n)}catch(u){u.source=n;throw u}var v=function(x){return p.call(this,x,m)};var o=q.variable||"obj";v.source="function("+o+"){\n"+n+"}";return v};m.chain=function(o){var n=m(o);n._chain=true;return n};var O=function(n,o){return n._chain?m(o).chain():o};m.mixin=function(n){m.each(m.functions(n),function(o){var p=m[o]=n[o];m.prototype[o]=function(){var q=[this._wrapped];k.apply(q,arguments);return O(this,p.apply(m,q))}})};m.mixin(m);m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var o=h[n];m.prototype[n]=function(){var p=this._wrapped;o.apply(p,arguments);if((n==="shift"||n==="splice")&&p.length===0){delete p[0]}return O(this,p)}});m.each(["concat","join","slice"],function(n){var o=h[n];m.prototype[n]=function(){return O(this,o.apply(this._wrapped,arguments))}});m.prototype.value=function(){return this._wrapped};m.prototype.valueOf=m.prototype.toJSON=m.prototype.value;m.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return m})}}.call(this));!function(B){if("object"==typeof exports){module.exports=B()}else{if("function"==typeof define&&define.amd){define(B)}else{var A;"undefined"!=typeof window?A=window:"undefined"!=typeof global?A=global:"undefined"!=typeof self&&(A=self),A.s=B()}}}(function(){var D,B,A;return(function C(F,J,H){function G(N,L){if(!J[N]){if(!F[N]){var K=typeof require=="function"&&require;if(!L&&K){return K(N,!0)}if(E){return E(N,!0)}throw new Error("Cannot find module '"+N+"'")}var M=J[N]={exports:{}};F[N][0].call(M.exports,function(O){var P=F[N][1][O];return G(P?P:O)},M,M.exports,C,F,J,H)}return J[N].exports}var E=typeof require=="function"&&require;for(var I=0;I<H.length;I++){G(H[I])}return G})({1:[function(J,I,G){var E=J("./trim");var H=J("./decapitalize");I.exports=function F(L,K){L=E(L).replace(/[-_\s]+(.)?/g,function(M,N){return N?N.toUpperCase():""});if(K===true){return H(L)}else{return L}}},{"./decapitalize":9,"./trim":60}],2:[function(I,G,E){var H=I("./helper/makeString");G.exports=function F(J){J=H(J);return J.charAt(0).toUpperCase()+J.slice(1)}},{"./helper/makeString":19}],3:[function(I,F,E){var H=I("./helper/makeString");F.exports=function G(J){return H(J).split("")}},{"./helper/makeString":19}],4:[function(H,G,F){G.exports=function E(J,I){if(J==null){return[]}J=String(J);I=~~I;return I>0?J.match(new RegExp(".{1,"+I+"}","g")):[J]}},{}],5:[function(K,I,F){var H=K("./capitalize");var E=K("./camelize");var J=K("./helper/makeString");I.exports=function G(L){L=J(L);return H(E(L.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":19}],6:[function(I,H,F){var E=I("./trim");H.exports=function G(J){return E(J).replace(/\s+/g," ")}},{"./trim":60}],7:[function(H,F,E){var G=H("./helper/makeString");F.exports=function(L,K){L=G(L);K=G(K);if(L.length===0||K.length===0){return 0}var J=0,M=0,I=K.length;while(true){M=L.indexOf(K,M);if(M===-1){break}J++;M+=I}return J}},{"./helper/makeString":19}],8:[function(I,G,F){var E=I("./trim");G.exports=function H(J){return E(J).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":60}],9:[function(I,G,E){var H=I("./helper/makeString");G.exports=function F(J){J=H(J);return J.charAt(0).toLowerCase()+J.slice(1)}},{"./helper/makeString":19}],10:[function(I,F,E){var H=I("./helper/makeString");function J(N){var M=N.match(/^[\s\\t]*/gm);var K=M[0].length;for(var L=1;L<M.length;L++){K=Math.min(M[L].length,K)}return K}F.exports=function G(N,M){N=H(N);var K=J(N);var L;if(K===0){return N}if(typeof M==="string"){L=new RegExp("^"+M,"gm")}else{L=new RegExp("^[ \\t]{"+K+"}","gm")}return N.replace(L,"")}},{"./helper/makeString":19}],11:[function(I,G,F){var H=I("./helper/makeString");var J=I("./helper/toPositive");G.exports=function E(M,L,K){M=H(M);L=""+L;if(typeof K=="undefined"){K=M.length-L.length}else{K=Math.min(J(K),M.length)-L.length}return K>=0&&M.indexOf(L,K)===K}},{"./helper/makeString":19,"./helper/toPositive":21}],12:[function(J,G,E){var I=J("./helper/makeString");var H=J("./helper/escapeChars");var K={};for(var F in H){K[H[F]]=F}K["'"]="#39";G.exports=function L(M){return I(M).replace(/[&<>"']/g,function(N){return"&"+K[N]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":19}],13:[function(G,F,E){F.exports=function(){var H={};for(var I in this){if(!this.hasOwnProperty(I)||I.match(/^(?:include|contains|reverse|join)$/)){continue}H[I]=this[I]}return H}},{}],14:[function(E,F,G){function N(O){if(!(this instanceof N)){return new N(O)}this._wrapped=O}N.VERSION="3.0.3";N.isBlank=E("./isBlank");N.stripTags=E("./stripTags");N.capitalize=E("./capitalize");N.decapitalize=E("./decapitalize");N.chop=E("./chop");N.trim=E("./trim");N.clean=E("./clean");N.count=E("./count");N.chars=E("./chars");N.swapCase=E("./swapCase");N.escapeHTML=E("./escapeHTML");N.unescapeHTML=E("./unescapeHTML");N.splice=E("./splice");N.insert=E("./insert");N.replaceAll=E("./replaceAll");N.include=E("./include");N.join=E("./join");N.lines=E("./lines");N.dedent=E("./dedent");N.reverse=E("./reverse");N.startsWith=E("./startsWith");N.endsWith=E("./endsWith");N.pred=E("./pred");N.succ=E("./succ");N.titleize=E("./titleize");N.camelize=E("./camelize");N.underscored=E("./underscored");N.dasherize=E("./dasherize");N.classify=E("./classify");N.humanize=E("./humanize");N.ltrim=E("./ltrim");N.rtrim=E("./rtrim");N.truncate=E("./truncate");N.prune=E("./prune");N.words=E("./words");N.pad=E("./pad");N.lpad=E("./lpad");N.rpad=E("./rpad");N.lrpad=E("./lrpad");N.sprintf=E("./sprintf");N.vsprintf=E("./vsprintf");N.toNumber=E("./toNumber");N.numberFormat=E("./numberFormat");N.strRight=E("./strRight");N.strRightBack=E("./strRightBack");N.strLeft=E("./strLeft");N.strLeftBack=E("./strLeftBack");N.toSentence=E("./toSentence");N.toSentenceSerial=E("./toSentenceSerial");N.slugify=E("./slugify");N.surround=E("./surround");N.quote=E("./quote");N.unquote=E("./unquote");N.repeat=E("./repeat");N.naturalCmp=E("./naturalCmp");N.levenshtein=E("./levenshtein");N.toBoolean=E("./toBoolean");N.exports=E("./exports");N.escapeRegExp=E("./helper/escapeRegExp");N.strip=N.trim;N.lstrip=N.ltrim;N.rstrip=N.rtrim;N.center=N.lrpad;N.rjust=N.lpad;N.ljust=N.rpad;N.contains=N.include;N.q=N.quote;N.toBool=N.toBoolean;N.camelcase=N.camelize;N.prototype={value:function L(){return this._wrapped}};function I(O,P){if(typeof P!=="function"){return }N.prototype[O]=function(){var Q=[this._wrapped].concat(Array.prototype.slice.call(arguments));var R=P.apply(null,Q);return typeof R==="string"?new N(R):R}}for(var M in N){I(M,N[M])}I("tap",function J(O,P){return P(O)});function K(O){I(O,function(Q){var P=Array.prototype.slice.call(arguments,1);return String.prototype[O].apply(Q,P)})}var H=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var M in H){K(H[M])}F.exports=N},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./count":7,"./dasherize":8,"./decapitalize":9,"./dedent":10,"./endsWith":11,"./escapeHTML":12,"./exports":13,"./helper/escapeRegExp":18,"./humanize":22,"./include":23,"./insert":24,"./isBlank":25,"./join":26,"./levenshtein":27,"./lines":28,"./lpad":29,"./lrpad":30,"./ltrim":31,"./naturalCmp":32,"./numberFormat":33,"./pad":34,"./pred":35,"./prune":36,"./quote":37,"./repeat":38,"./replaceAll":39,"./reverse":40,"./rpad":41,"./rtrim":42,"./slugify":43,"./splice":44,"./sprintf":45,"./startsWith":46,"./strLeft":47,"./strLeftBack":48,"./strRight":49,"./strRightBack":50,"./stripTags":51,"./succ":52,"./surround":53,"./swapCase":54,"./titleize":55,"./toBoolean":56,"./toNumber":57,"./toSentence":58,"./toSentenceSerial":59,"./trim":60,"./truncate":61,"./underscored":62,"./unescapeHTML":63,"./unquote":64,"./vsprintf":65,"./words":66}],15:[function(I,F,E){var H=I("./makeString");F.exports=function G(K,J){K=H(K);if(K.length===0){return""}return K.slice(0,-1)+String.fromCharCode(K.charCodeAt(K.length-1)+J)}},{"./makeString":19}],16:[function(I,H,G){var E=I("./escapeRegExp");H.exports=function F(J){if(J==null){return"\\s"}else{if(J.source){return J.source}else{return"["+E(J)+"]"}}}},{"./escapeRegExp":18}],17:[function(H,F,E){var G={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};F.exports=G},{}],18:[function(I,G,F){var H=I("./makeString");G.exports=function E(J){return H(J).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":19}],19:[function(H,F,E){F.exports=function G(I){if(I==null){return""}return""+I}},{}],20:[function(G,F,E){F.exports=function H(J,K){if(K<1){return""}var I="";while(K>0){if(K&1){I+=J}K>>=1,J+=J}return I}},{}],21:[function(G,F,E){F.exports=function H(I){return I<0?0:(+I||0)}},{}],22:[function(K,I,F){var H=K("./capitalize");var G=K("./underscored");var E=K("./trim");I.exports=function J(L){return H(E(G(L).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":60,"./underscored":62}],23:[function(I,G,F){var H=I("./helper/makeString");G.exports=function E(K,J){if(J===""){return true}return H(K).indexOf(J)!==-1}},{"./helper/makeString":19}],24:[function(G,F,E){var I=G("./splice");F.exports=function H(L,J,K){return I(L,J,0,K)}},{"./splice":44}],25:[function(I,G,F){var H=I("./helper/makeString");G.exports=function E(J){return(/^\s*$/).test(H(J))}},{"./helper/makeString":19}],26:[function(H,F,E){var G=H("./helper/makeString");var J=[].slice;F.exports=function I(){var K=J.call(arguments),L=K.shift();return K.join(G(L))}},{"./helper/makeString":19}],27:[function(H,F,E){var G=H("./helper/makeString");F.exports=function I(O,M){O=G(O);M=G(M);var P=[],L,N;for(var K=0;K<=M.length;K++){for(var J=0;J<=O.length;J++){if(K&&J){if(O.charAt(J-1)===M.charAt(K-1)){N=L}else{N=Math.min(P[J],P[J-1],L)+1}}else{N=K+J}L=P[J];P[J]=N}}return P.pop()}},{"./helper/makeString":19}],28:[function(H,G,F){G.exports=function E(I){if(I==null){return[]}return String(I).split(/\r?\n/)}},{}],29:[function(H,G,E){var I=H("./pad");G.exports=function F(L,K,J){return I(L,K,J)}},{"./pad":34}],30:[function(H,F,E){var I=H("./pad");F.exports=function G(L,K,J){return I(L,K,J,"both")}},{"./pad":34}],31:[function(J,H,G){var I=J("./helper/makeString");var F=J("./helper/defaultToWhiteSpace");var E=String.prototype.trimLeft;H.exports=function K(M,L){M=I(M);if(!L&&E){return E.call(M)}L=F(L);return M.replace(new RegExp("^"+L+"+"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],32:[function(G,F,E){F.exports=function H(M,L){if(M==L){return 0}if(!M){return -1}if(!L){return 1}var K=/(\.\d+)|(\d+)|(\D+)/g,J=String(M).match(K),I=String(L).match(K),O=Math.min(J.length,I.length);for(var N=0;N<O;N++){var S=J[N],R=I[N];if(S!==R){var Q=+S;var P=+R;if(Q===Q&&P===P){return Q>P?1:-1}return S<R?-1:1}}if(J.length!=I.length){return J.length-I.length}return M<L?-1:1}},{}],33:[function(H,G,F){G.exports=function E(L,O,I,M){if(isNaN(L)||L==null){return""}L=L.toFixed(~~O);M=typeof M=="string"?M:",";var N=L.split("."),K=N[0],J=N[1]?(I||".")+N[1]:"";return K.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+M)+J}},{}],34:[function(H,F,E){var G=H("./helper/makeString");var I=H("./helper/strRepeat");F.exports=function J(O,M,K,L){O=G(O);M=~~M;var N=0;if(!K){K=" "}else{if(K.length>1){K=K.charAt(0)}}switch(L){case"right":N=M-O.length;return O+I(K,N);case"both":N=M-O.length;return I(K,Math.ceil(N/2))+O+I(K,Math.floor(N/2));default:N=M-O.length;return I(K,N)+O}}},{"./helper/makeString":19,"./helper/strRepeat":20}],35:[function(I,G,F){var H=I("./helper/adjacent");G.exports=function E(J){return H(J,-1)}},{"./helper/adjacent":15}],36:[function(J,H,G){var I=J("./helper/makeString");var F=J("./rtrim");H.exports=function E(N,M,O){N=I(N);M=~~M;O=O!=null?String(O):"...";if(N.length<=M){return N}var K=function(P){return P.toUpperCase()!==P.toLowerCase()?"A":" "},L=N.slice(0,M+1).replace(/.(?=\W*\w*$)/g,K);if(L.slice(L.length-2).match(/\w\w/)){L=L.replace(/\s*\S+$/,"")}else{L=F(L.slice(0,L.length-1))}return(L+O).length>N.length?N:N.slice(0,L.length)+O}},{"./helper/makeString":19,"./rtrim":42}],37:[function(I,H,G){var F=I("./surround");H.exports=function E(K,J){return F(K,J||'"')}},{"./surround":53}],38:[function(H,F,E){var G=H("./helper/makeString");var J=H("./helper/strRepeat");F.exports=function I(M,N,L){M=G(M);N=~~N;if(L==null){return J(M,N)}for(var K=[];N>0;K[--N]=M){}return K.join(L)}},{"./helper/makeString":19,"./helper/strRepeat":20}],39:[function(I,G,F){var H=I("./helper/makeString");G.exports=function E(O,N,K,M){var J=(M===true)?"gi":"g";var L=new RegExp(N,J);return H(O).replace(L,K)}},{"./helper/makeString":19}],40:[function(I,G,E){var H=I("./chars");G.exports=function F(J){return H(J).reverse().join("")}},{"./chars":3}],41:[function(G,F,E){var I=G("./pad");F.exports=function H(L,K,J){return I(L,K,J,"right")}},{"./pad":34}],42:[function(K,I,G){var J=K("./helper/makeString");var F=K("./helper/defaultToWhiteSpace");var H=String.prototype.trimRight;I.exports=function E(M,L){M=J(M);if(!L&&H){return H.call(M)}L=F(L);return M.replace(new RegExp(L+"+$"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],43:[function(L,I,H){var K=L("./helper/makeString");var G=L("./helper/defaultToWhiteSpace");var F=L("./trim");var J=L("./dasherize");I.exports=function E(N){var P="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșšŝťțŭùúüűûñÿýçżźž",O="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz",M=new RegExp(G(P),"g");N=K(N).toLowerCase().replace(M,function(R){var Q=P.indexOf(R);return O.charAt(Q)||"-"});return F(J(N.replace(/[^\w\s-]/g,"-")),"-")}},{"./dasherize":8,"./helper/defaultToWhiteSpace":16,"./helper/makeString":19,"./trim":60}],44:[function(H,F,E){var G=H("./chars");F.exports=function I(N,K,M,L){var J=G(N);J.splice(~~K,~~M,L);return J.join("")}},{"./chars":3}],45:[function(G,F,E){var H=G("./helper/strRepeat");var I=Object.prototype.toString;var J=(function(){function K(N){return I.call(N).slice(8,-1).toLowerCase()}var L=H;var M=function(){if(!M.cache.hasOwnProperty(arguments[0])){M.cache[arguments[0]]=M.parse(arguments[0])}return M.format.call(null,M.cache[arguments[0]],arguments)};M.format=function(U,T){var Y=1,W=U.length,Q="",Z,N=[],R,P,S,O,V,X;for(R=0;R<W;R++){Q=K(U[R]);if(Q==="string"){N.push(U[R])}else{if(Q==="array"){S=U[R];if(S[2]){Z=T[Y];for(P=0;P<S[2].length;P++){if(!Z.hasOwnProperty(S[2][P])){throw new Error(J('[_.sprintf] property "%s" does not exist',S[2][P]))}Z=Z[S[2][P]]}}else{if(S[1]){Z=T[S[1]]}else{Z=T[Y++]}}if(/[^s]/.test(S[8])&&(K(Z)!="number")){throw new Error(J("[_.sprintf] expecting number but found %s",K(Z)))}switch(S[8]){case"b":Z=Z.toString(2);break;case"c":Z=String.fromCharCode(Z);break;case"d":Z=parseInt(Z,10);break;case"e":Z=S[7]?Z.toExponential(S[7]):Z.toExponential();break;case"f":Z=S[7]?parseFloat(Z).toFixed(S[7]):parseFloat(Z);break;case"o":Z=Z.toString(8);break;case"s":Z=((Z=String(Z))&&S[7]?Z.substring(0,S[7]):Z);break;case"u":Z=Math.abs(Z);break;case"x":Z=Z.toString(16);break;case"X":Z=Z.toString(16).toUpperCase();break}Z=(/[def]/.test(S[8])&&S[3]&&Z>=0?"+"+Z:Z);V=S[4]?S[4]=="0"?"0":S[4].charAt(1):" ";X=S[6]-String(Z).length;O=S[6]?L(V,X):"";N.push(S[5]?Z+O:O+Z)}}}return N.join("")};M.cache={};M.parse=function(N){var Q=N,R=[],T=[],S=0;while(Q){if((R=/^[^\x25]+/.exec(Q))!==null){T.push(R[0])}else{if((R=/^\x25{2}/.exec(Q))!==null){T.push("%")}else{if((R=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(Q))!==null){if(R[2]){S|=1;var U=[],P=R[2],O=[];if((O=/^([a-z_][a-z_\d]*)/i.exec(P))!==null){U.push(O[1]);while((P=P.substring(O[0].length))!==""){if((O=/^\.([a-z_][a-z_\d]*)/i.exec(P))!==null){U.push(O[1])}else{if((O=/^\[(\d+)\]/.exec(P))!==null){U.push(O[1])}else{throw new Error("[_.sprintf] huh?")}}}}else{throw new Error("[_.sprintf] huh?")}R[2]=U}else{S|=2}if(S===3){throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported")}T.push(R)}else{throw new Error("[_.sprintf] huh?")}}}Q=Q.substring(R[0].length)}return T};return M})();F.exports=J},{"./helper/strRepeat":20}],46:[function(I,G,E){var H=I("./helper/makeString");var J=I("./helper/toPositive");G.exports=function F(M,L,K){M=H(M);L=""+L;K=K==null?0:Math.min(J(K),M.length);return M.lastIndexOf(L,K)===K}},{"./helper/makeString":19,"./helper/toPositive":21}],47:[function(H,F,E){var G=H("./helper/makeString");F.exports=function I(K,J){K=G(K);J=G(J);var L=!J?-1:K.indexOf(J);return ~L?K.slice(0,L):K}},{"./helper/makeString":19}],48:[function(H,F,E){var G=H("./helper/makeString");F.exports=function I(K,J){K=G(K);J=G(J);var L=K.lastIndexOf(J);return ~L?K.slice(0,L):K}},{"./helper/makeString":19}],49:[function(I,F,E){var H=I("./helper/makeString");F.exports=function G(K,J){K=H(K);J=H(J);var L=!J?-1:K.indexOf(J);return ~L?K.slice(L+J.length,K.length):K}},{"./helper/makeString":19}],50:[function(I,G,E){var H=I("./helper/makeString");G.exports=function F(K,J){K=H(K);J=H(J);var L=!J?-1:K.lastIndexOf(J);return ~L?K.slice(L+J.length,K.length):K}},{"./helper/makeString":19}],51:[function(H,F,E){var G=H("./helper/makeString");F.exports=function I(J){return G(J).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":19}],52:[function(I,G,F){var H=I("./helper/adjacent");G.exports=function E(J){return H(J,1)}},{"./helper/adjacent":15}],53:[function(H,G,F){G.exports=function E(I,J){return[J,I,J].join("")}},{}],54:[function(I,G,F){var H=I("./helper/makeString");G.exports=function E(J){return H(J).replace(/\S/g,function(K){return K===K.toUpperCase()?K.toLowerCase():K.toUpperCase()})}},{"./helper/makeString":19}],55:[function(H,F,E){var G=H("./helper/makeString");F.exports=function I(J){return G(J).toLowerCase().replace(/(?:^|\s|-)\S/g,function(K){return K.toUpperCase()})}},{"./helper/makeString":19}],56:[function(I,H,G){var F=I("./trim");function J(M,K){var L,N,O=M.toLowerCase();K=[].concat(K);for(L=0;L<K.length;L+=1){N=K[L];if(!N){continue}if(N.test&&N.test(M)){return true}if(N.toLowerCase()===O){return true}}}H.exports=function E(M,L,K){if(typeof M==="number"){M=""+M}if(typeof M!=="string"){return !!M}M=F(M);if(J(M,L||["true","1"])){return true}if(J(M,K||["false","0"])){return false}}},{"./trim":60}],57:[function(J,I,G){var F=J("./trim");var H=function(K){return K*1||0};I.exports=function E(L,K){if(L==null){return 0}var M=Math.pow(10,isFinite(K)?K:0);return Math.round(L*M)/M}},{"./trim":60}],58:[function(I,G,F){var E=I("./rtrim");G.exports=function H(O,N,L,K){N=N||", ";L=L||" and ";var J=O.slice(),M=J.pop();if(O.length>2&&K){L=E(N)+L}return J.length?J.join(N)+L+M:M}},{"./rtrim":42}],59:[function(H,F,E){var G=H("./toSentence");F.exports=function I(L,K,J){return G(L,K,J,true)}},{"./toSentence":58}],60:[function(K,H,G){var J=K("./helper/makeString");var F=K("./helper/defaultToWhiteSpace");var I=String.prototype.trim;H.exports=function E(M,L){M=J(M);if(!L&&I){return I.call(M)}L=F(L);return M.replace(new RegExp("^"+L+"+|"+L+"+$","g"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],61:[function(I,G,E){var H=I("./helper/makeString");G.exports=function F(L,K,J){L=H(L);J=J||"...";K=~~K;return L.length>K?L.slice(0,K)+J:L}},{"./helper/makeString":19}],62:[function(I,H,F){var E=I("./trim");H.exports=function G(J){return E(J).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":60}],63:[function(I,F,E){var H=I("./helper/makeString");var G=I("./helper/escapeChars");F.exports=function J(K){return H(K).replace(/\&([^;]+);/g,function(L,N){var M;if(N in G){return G[N]}else{if(M=N.match(/^#x([\da-fA-F]+)$/)){return String.fromCharCode(parseInt(M[1],16))}else{if(M=N.match(/^#(\d+)$/)){return String.fromCharCode(~~M[1])}else{return L}}}})}},{"./helper/escapeChars":17,"./helper/makeString":19}],64:[function(H,G,E){G.exports=function F(J,I){I=I||'"';if(J[0]===I&&J[J.length-1]===I){return J.slice(1,J.length-1)}else{return J}}},{}],65:[function(G,F,E){var I=G("./sprintf");F.exports=function H(K,J){J.unshift(K);return I.apply(null,J)}},{"./sprintf":45}],66:[function(I,H,G){var F=I("./isBlank");var E=I("./trim");H.exports=function J(L,K){if(F(L)){return[]}return E(L,K).split(K||/\s+/)}},{"./isBlank":25,"./trim":60}]},{},[14])(14)});JsBehaviourToolkit={prefix:"jsb_",prefix_regexp:/jsb_([^\s]+)/,handlers:{},listeners:[],last_event_values:{},setPrefix:function(A){this.prefix=A+"_";this.prefix_regexp=new RegExp(this.prefix+"([^s]+)")},registerHandler:function(A,B){this.handlers[A]=B},applyBehaviour:function(G){var A=this.getJsbElementsInDomElement(G);var D=A.length;for(var F=0;F<D;F++){var G=A[F];var C=G.className.match(this.prefix_regexp);var E=C[1];while(E){this.callHandler(E,G);var B=(G.getAttribute("data-jsb-applied"))?G.getAttribute("data-jsb-applied")+" ":"";G.setAttribute("data-jsb-applied",B+E);this.removeClassFromElement(G,this.prefix+E);C=G.className.match(this.prefix_regexp);E=(C)?C[1]:false}this.removeClassFromElement(G,this.prefix)}},fireEvent:function(B,A){A=A||{};this.last_event_values[B]=A;var D=this.listeners;var E=D.length;for(var C=0;C<E;C++){this.rawFireEventToListener(D[C],B,A)}},on:function(C,B,A){var D=B;if(!A){D=null;A=B}this.listeners.push([A,C,D||null]);var E=this;return function(){E.off(C,A)}},off:function(C,A){var D=this.listeners;this.listeners=[];var E=D.length;for(var B=0;B<E;B++){if(!(D[B][0]===A&&D[B][1].toString()===C.toString())){this.listeners.push(D[B])}}},whenFired:function(E,C,B){var F=C;if(!B){F=null;B=C}var A=this.on(E,F,B);var G=(E instanceof RegExp);if(G){for(var D in this.last_event_values){if(this.last_event_values.hasOwnProperty(D)&&D.match(E)){this.rawFireEventToListener([B,E,F],D,this.last_event_values[D]);return A}}}else{if(typeof this.last_event_values[E]!=="undefined"){this.rawFireEventToListener([B,E,F],E,this.last_event_values[E])}}return A},rawFireEventToListener:function(D,B,A){var G=(D[1] instanceof RegExp&&B.match(D[1]));if(G||D[1]===B){var C=D[2];var F=true;if(C){for(var E in C){if(C.hasOwnProperty(E)){F=F&&(typeof A[E]!=="undefined"&&C[E]===A[E])}}}if(F){D[0](A)}}},callHandler:function(A,C){if(typeof this.handlers[A]==="undefined"){if(typeof require==="undefined"){throw new Error("The handler "+A+" is not defined!")}else{require([A],function(){if(typeof JsBehaviourToolkit.handlers[A]==="undefined"){throw new Error("The handler "+A+" is not defined (even with requirejs)!")}JsBehaviourToolkit.callHandler(A,C)});return }}var D;var B=null;if(C.getAttribute("data-jsb")){B=C.getAttribute("data-jsb")}else{if(C.nodeName.toLowerCase()==="input"){D=C;C=D.parentNode;B=D.value}else{D=this.getFirstInputElementInDomElement(C);if(D){B=D.value}}}if(B!==null){new this.handlers[A](C,this.parseValueString(B))}else{new this.handlers[A](C)}},parseValueString:function(E){if(E.substr(0,1)=="{"){return JSON.parse(E)}else{var F={};var G=E.split("&");var D=G.length;for(var B=0;B<D;B++){var C=G[B].split("=");var A=decodeURIComponent(C[0]);var H=decodeURIComponent(C.slice(1).join("="));F[A]=H}return F}},removeClassFromElement:function(C,B){var A=C.className;A=A.replace(new RegExp("(^|[\\s]+)"+B+"($|[\\s]+)"),"$1$2");C.className=A},getFirstInputElementInDomElement:function(A){return A.getElementsByTagName("input")[0]||null},getJsbElementsInDomElement:function(E){var B=[];var A=null;if(E.getElementsByClassName){A=E.getElementsByClassName(this.prefix)}else{A=E.querySelectorAll("."+this.prefix)}var C=A.length;for(var D=0;D<C;D++){B.push(A[D])}return B}};if(typeof jQuery!=="undefined"){JsBehaviourToolkit.removeClassFromElement=function(B,A){jQuery(B).removeClass(A)};JsBehaviourToolkit.getJsbElementsInDomElement=function(A){return jQuery(A).find("."+this.prefix)};JsBehaviourToolkit.parseValueString=function(E){if(E.substr(0,1)=="{"){return jQuery.parseJSON(E)}else{var F={};var G=E.split("&");var D=G.length;for(var B=0;B<D;B++){var C=G[B].split("=");var A=decodeURIComponent(C[0]);var H=decodeURIComponent(C.slice(1).join("="));F[A]=H}return F}};JsBehaviourToolkit.getFirstInputElementInDomElement=function(A){return jQuery(A).find("input")[0]||null};jQuery(window.document).ready(function(){JsBehaviourToolkit.applyBehaviour(window.document)})}else{if(typeof MooTools!=="undefined"){JsBehaviourToolkit.removeClassFromElement=function(B,A){$(B).removeClass(A)};JsBehaviourToolkit.getJsbElementsInDomElement=function(A){return $(A).getElements("."+this.prefix)};JsBehaviourToolkit.parseValueString=function(E){if(E.substr(0,1)=="{"){return JSON.decode(E)}else{var F={};var G=E.split("&");var D=G.length;for(var B=0;B<D;B++){var C=G[B].split("=");var A=decodeURIComponent(C[0]);var H=decodeURIComponent(C.slice(1).join("="));F[A]=H}return F}};JsBehaviourToolkit.getFirstInputElementInDomElement=function(A){return $(A).getFirst("input")||null};$(window).addEvent("domready",function(){JsBehaviourToolkit.applyBehaviour(window.document)})}else{if(window.addEventListener){window.addEventListener("DOMContentLoaded",function(){JsBehaviourToolkit.applyBehaviour(window.document)},true)}else{if(window.attachEvent){window.attachEvent("onLoad",function(){JsBehaviourToolkit.applyBehaviour(window.document)})}}}}jsb=JsBehaviourToolkit;var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&typeof navigator!=="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(it){return ostring.call(it)==="[object Function]"}function isArray(it){return ostring.call(it)==="[object Array]"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split("."),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!=="undefined"){return }if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return }cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part,length=ary.length;for(i=0;i<length;i++){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else{if(part===".."){if(i===1&&(ary[2]===".."||ary[0]==="..")){break}else{if(i>0){ary.splice(i-1,2);i-=2}}}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,baseParts=baseName&&baseName.split("/"),normalizedBaseParts=baseParts,map=config.map,starMap=map&&map["*"];if(name&&name.charAt(0)==="."){if(baseName){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}name=normalizedBaseParts.concat(name);trimDots(name);name=name.join("/")}else{if(name.indexOf("./")===0){name=name.substring(2)}}}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join("/"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.require([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName="";if(!name){isDefine=false;name="_@r"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=normalize(name,parentName,applyMap)}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?"_unnormalized"+(unnormalizedCounter+=1):"";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name==="defined"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name==="error"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit("error",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){apsp.apply(defQueue,[defQueue.length,0].concat(globalDefQueue));globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return(mod.require=context.makeRequire(mod.map))}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return(defined[mod.map.id]=mod.exports)}else{return(mod.exports=defined[mod.map.id]={})}}},module:function(mod){if(mod.module){return mod.module}else{return(mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})})}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit("error",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1000,expired=waitInterval&&(context.startTime+waitInterval)<new Date().getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return }inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return }if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else{if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return(needCycleCheck=false)}}}}});if(expired&&noLoads.length){err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return }this.factory=factory;if(errback){this.on("error",errback)}else{if(this.events.error){errback=bind(this,function(err){this.emit("error",err)})}}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return }this.fetched=true;context.startTime=(new Date()).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return }var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){this.fetch()}else{if(this.error){this.emit("error",this.error)}else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if((this.events.error&&this.map.isDefine)||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else{if(this.usingExports){exports=this.exports}}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?"define":"require";return onError((this.error=err))}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){req.onResourceLoad(context,this.map,this.depMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||""}normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap);on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on("error",bind(this,function(err){this.emit("error",err)}))}normalizedMod.enable()}return }if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return }load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+"_unnormalized")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap==="string"){depMap=makeModuleMap(depMap,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return }this.depCount+=1;on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,"error",bind(this,this.errback))}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name==="error"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,"load","onreadystatechange");removeListener(node,context.onScriptError,"error");return{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]))}else{callGetModule(args)}}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"){cfg.baseUrl+="/"}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj==="string"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||(value.exports&&getGlobal(value.exports))}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps==="string"){if(isFunction(callback)){return onError(makeError("requireargs","Invalid require call"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative=segment==="."||segment==="..";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else{if(args[0]===moduleName){found=true}}callGetModule(args)}mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return }else{return onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,(shim.deps||[]),shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||"")}else{paths=config.paths;syms=moduleName.split("/");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join("/");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join("/");url+=(ext||(/^data\:|\?/.test(url)||skipExt?"":".js"));url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type==="load"||(readyRegExp.test((evt.currentTarget||evt.srcElement).readyState))){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){return onError(makeError("scripterror","Script error for: "+data.id,evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!=="string"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!=="undefined"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");node.type=config.scriptType||"text/javascript";node.charset="utf-8";node.async=true;return node};req.load=function(context,moduleName,url){var config=(context&&context.config)||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute("data-requirecontext",context.contextName);node.setAttribute("data-requiremodule",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;node.attachEvent("onreadystatechange",context.onScriptLoad)}else{node.addEventListener("load",context.onScriptLoad,false);node.addEventListener("error",context.onScriptError,false)}node.src=url;currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else{if(isWebWorker){try{importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState==="interactive"){return(interactiveScript=script)}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!=="string"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?["require"]:["require","exports","module"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute("data-requiremodule")}context=contexts[node.getAttribute("data-requirecontext")]}}(context?context.defQueue:globalDefQueue).push([name,deps,callback])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)}(this));window.project=window.project||{};window.project.logging_level=127;Date.now=(Date.now||function(){return(new Date()).getTime()});jQuery(document).ready(function(){jQuery(document.body).addClass("js");if(Modernizr.touch){jQuery("html").removeClass("no-touch")}jQuery(".socialshareinit").socialSharePrivacy({css_path:"",uri:function(B){return $(B).parent().attr("data-uri")}});var A=(Modernizr.touch)?"touchstart":"click";$(document.body).on(A,function(B){jsb.fireEvent("Body::CLICK",B.target)})});require({baseUrl:"../js/",paths:{},priority:[]});String.prototype.bool=function(A){return(A==="false"||A===false||A===0||A==="0")?false:(A==="true"||A===true||A===1||A==="1")?true:false};jQuery(document).ready(function(){var A=function(){var I=jQuery(".breadcrumb > ol"),G=I.find("li"),D=G.length,F=I.width(),H=0,E=[],C=false;G.each(function(K){H+=parseInt(jQuery(this).outerWidth(true),10);if(K>0&&K<(D-1)){var J=jQuery(this).find("a").html();jQuery(this).attr("title",J);E.push(J)}});var B=function(){F=I.width();if(H>F){G.each(function(J){if(J>0&&J<(D-1)){jQuery(this).find("a").html("…")}});C=true}else{if(C){G.each(function(J){if(J>0&&J<(D-1)){jQuery(this).find("a").html(E[J-1])}});C=false}}};B();jQuery(window).resize(function(){B()})};A()});require({baseUrl:"/basis/js/",paths:{},priority:[]});window.project=(window.project)?window.project:{};(function(B){var A=function(D,C){this.options=C||{};this.dom_element=B(D);this.win=B(window);this.small_on_init=this.dom_element.hasClass("small");this.page_margins=B(".page_margins");this.position_min_top=0;this.window_min_height=500;this.is_sticky=false;this.initialize()};A.prototype.initialize=function(){var C=this;if(!("ontouchstart" in window)&&(this.win.height()>this.window_min_height)){this.setSticky();this.updatePosition();this.win.scroll(function(){C.updatePosition()});this.win.on("resize",function(){C.updateView()})}};A.prototype.setSticky=function(){if(!this.is_sticky){var C=this.dom_element.outerHeight();B("body").addClass("sticky");this.is_sticky=true}};A.prototype.unsetSticky=function(){if(this.is_sticky){B("body").removeClass("sticky");this.dom_element.removeClass("small");this.page_margins.removeClass("small");this.is_sticky=false}};A.prototype.updateView=function(){if(this.win.height()>this.window_min_height){this.setSticky()}else{this.unsetSticky(false)}};A.prototype.updatePosition=function(){var C=this;if(this.is_sticky&&this.win.scrollTop()>this.position_min_top){this.dom_element.addClass("small");this.page_margins.addClass("small")}else{this.page_margins.toggleClass("small",false);if(this.small_on_init===false){this.dom_element.removeClass("small")}}};jsb.registerHandler("sticky_navigation",A)})(jQuery);define("hfredsel",[],function(){var A=function(D,B){var C=this;this.options={queue:false,auto:false,responsive:false,circular:false,infinite:false,pauseOnHover:true,swipe:{onTouch:true},id:_.uniqueId()};this.states={playing:false};$.extend(this.options,B);this.running_portal_player=null;this.is_thumblist="gallery_id" in this.options;this.is_gallery="thumb_list_id" in this.options;this.dom_element=$(D);this.scroll_content=$(".scrollcontent",D);this.pause_btn=$(".pause",this.dom_element).first();this.play_btn=$(".play",this.dom_element).first();this.lightbox_btn=$(".fullscreen",this.dom_element).first();this.description=$(" > .description",this.dom_element);this.items=$("li",this.scroll_content);this.index=0;this.initialize()};jsb.registerHandler("hfredsel",A);A.prototype={initialize:function(){var B=this;var D=this.scroll_content;var C={scroll:{duration:500,pauseOnHover:false,onBefore:function(E){B.resetRunningPortalPlayer();setTimeout(function(){B.updateIndex(B.items.index($("li",B.scroll_content).get(0)));B.updateFocus()},100);$("#main").css("z-index",11)},onAfter:function(E){$("#main").css("z-index","auto")},fx:this.options.fx},prev:{button:$(".skip.back",B.dom_element)},next:{button:$(".skip.forward",B.dom_element)},onCreate:function(){if(B.options.items&&B.options.items.minimum>0&&B.items.length<B.options.items.minimum){B.scroll_content.addClass("inactive")}B.updateIndex(0);B.updateView();B.updateControlsView()}};$.extend(C,this.options);this.scroll_content.carouFredSel(C);if(this.is_thumblist){this.items.attr("tabindex",-1);$("a",this.items).attr("tabindex",-1)}else{this.scroll_content.attr("tabindex",0)}this.initializeEvents();this.initializeButtonEvents()},initializeEvents:function(){var B=this;$(this.dom_element).on("keyup",function(C){switch(C.keyCode){case 37:B.previous();break;case 39:B.next();break}});$(this.dom_element).on("focus",function(C){B.has_focus=true});jsb.on("Portal::PLAYER_INITIALIZED",function(C){B.running_portal_player=C});if(this.is_gallery){jsb.on("Gallery::INDEX_CHANGED",{thumb_list_id:this.options.thumb_list_id},function(C){B.index=C.index;B.updateView()});this.scroll_content.on("focus","a",function(C){B.current_focused_item=$(C.currentTarget).parents("li").get(0)})}if(this.is_thumblist){jsb.on("Gallery::INDEX_CHANGED",{gallery_id:this.options.gallery_id},function(C){B.index=C.index;B.updateView()});this.scroll_content.on("click","li",function(C){C.preventDefault();B.updateIndex(B.items.index(C.currentTarget));B.updateView()})}jsb.on("Epg::SLIDE_TO_PREMIUM_TEASER",function(C){$(".scrollcontent",B.dom_element).trigger("slideTo",$("#"+C.premium))})},resetRunningPortalPlayer:function(){return ;if(this.running_portal_player){this.running_portal_player.reset_func(this.running_portal_player.el,this.running_portal_player.index,this.running_portal_player.el_id);this.running_portal_player=null}},initializeButtonEvents:function(){var B=this;this.lightbox_btn.on("click",function(D){D.preventDefault();D.stopPropagation();var C=$(".scrollcontent.gallerylist li:first-child",B.dom_element).get(0);var F=$("figcaption",C).html();var E=$("img",C).first().attr("data-src-lightbox");if(!E){E=$("img",C).first().attr("src")}jsb.fireEvent("Lightbox::SHOW",{src:E,title:F})});if(this.pause_btn.length&&this.play_btn.length){this.pause_btn.click(function(C){C.preventDefault();B.pause()});this.pause_btn.keydown(function(C){if(C.keyCode=="13"){C.preventDefault();B.pause()}});this.play_btn.click(function(C){C.preventDefault();B.play()});this.play_btn.keydown(function(C){if(C.keyCode=="13"){C.preventDefault();B.play()}})}},play:function(){this.scroll_content.trigger("play");this.scroll_content.trigger("configuration",["auto",true]);this.states.playing=true;this.updateControlsView();this.pause_btn.focus()},pause:function(){this.scroll_content.trigger("pause");this.states.playing=false;this.updateControlsView();this.play_btn.focus()},next:function(){this.pause();this.updateIndex(this.index+1);this.updateView()},previous:function(){this.pause();this.updateIndex(this.index-1);this.updateView()},updateIndex:function(B){if(B>-1&&B<this.items.length){this.index=B;jsb.fireEvent("Gallery::INDEX_CHANGED",{gallery_id:this.options.thumb_list_id?this.options.id:null,thumb_list_id:this.options.gallery_id?this.options.id:null,index:this.index});this.updateDescription()}},updateFocus:function(){this.disableFocus();this.enableFocusForCurrentItem()},disableFocus:function(){this.items.attr("tabindex",-1);$("a",this.items).attr("tabindex",-1)},enableFocusForCurrentItem:function(){if(!this.is_thumblist&&this.has_focus){$(this.items[this.index]).attr("tabindex",0);$("a",this.items[this.index]).attr("tabindex",0);$(this.items[this.index]).focus()}},updateControlsView:function(){var B=this;this.scroll_content.trigger("isPaused",function(C){B.play_btn.toggleClass("hide",!C);B.pause_btn.toggleClass("hide",C)})},updateDescription:function(){if(this.description.length){this.description.empty();this.description.append($(".figcap",this.items[this.index]).clone().children())}},updateView:function(){var B=this;this.scroll_content.trigger("slideTo",this.index,{fx:"none"});if(this.is_thumblist){this.items.removeClass("selected");$(this.items[this.index]).addClass("selected")}else{this.disableFocus();if(this.has_focus){this.enableFocusForCurrentItem();if(this.play_btn){this.play_btn.focus()}else{this.scroll_content.focus()}}}}}});define("vfredsel",[],function(){var A=function(E,C){C=C||{};C.auto=(C.auto&&C.auto=="true")?true:false;C.circular=(C.circular&&C.circular=="true")?true:false;C.infinite=(C.infinite&&C.infinite=="true")?true:false;C.height=C.height||270;C.items=C.items||null;$(".scrollcontent",E).carouFredSel({direction:"up",circular:C.circular,infinite:C.infinite,height:C.height,responsive:false,align:false,items:C.items,auto:C.auto,swipe:true,scroll:{items:1,duration:500,pauseOnHover:true,onBefore:function(){if(typeof jwplayer!="undefined"&&$.isFunction(jwplayer())&&jwplayer().getState()=="PLAYING"){jwplayer().stop()}}},prev:{key:"up",button:$(".skip.up",E)},next:{key:"down",button:$(".skip.down",E)}});var D=$(E).outerHeight();var B=0;$(".scrollcontent li",E).each(function(){B+=$(this).outerHeight()});if(B>D){$(E).addClass("scrollable")}};jsb.registerHandler("vfredsel",A)});define("vertical_scrollbox",[],function(){var A=function(E,B){var C=this;this.dom_element=$(E);this.options=B=B||{};B.scroll_animation_time=B.scroll_animation_time||500;this.current_index=B.current_index||0;this.has_touch=!!("ontouchstart" in window)||!!("onmsgesturechange" in window);if(this.has_touch){this.dom_element.addClass("touch")}this.viewport=this.dom_element.find(".scroll_viewport");if(B.deleteDuplicateTeaser){var D=$(".layoutarticlemodule > h3 > .titletext").text();this.dom_element.find(".manualteasertitle:contains("+D+")").closest("li").remove()}this.scroll_elements=this.dom_element.find("ul li");this.button_up=this.dom_element.find(".skip.up");this.button_down=this.dom_element.find(".skip.down");this.max_item_height=0;this.button_up.on("click",function(){if(C.current_index>0){C.current_index--;var F=C.scroll_elements.eq(C.current_index).data("offset_top");C.iscroll.scrollTo(0,-F,C.options.scroll_animation_time)}});this.button_down.on("click",function(){var G=C.scroll_elements.eq(C.current_index).data("offset_bottom");if((C.current_index+1)<C.scroll_elements.length){C.current_index++;var F=C.scroll_elements.eq(C.current_index).data("offset_top");C.iscroll.scrollTo(0,-F,C.options.scroll_animation_time)}});this.dom_element.closest("section").bind("keydown",function(G){var F=G.which;if(F==38||F==40){G.preventDefault();G.stopPropagation();switch(F){case 38:C.button_up.click();return false;break;case 40:C.button_down.click();return false;break}}});this.updateMaxHeight();this.iscroll=new iScroll(this.viewport.get(0),{bounce:false,hScroll:false,hScrollbar:false,vScrollbar:false});$(window).resize(_.debounce(function(F){C.updateMaxHeight()},200))};A.prototype={updateMaxHeight:function(){var B=this,C=0;this.scroll_elements.each(function(D,E){E=$(E);E.data("offset_top",C);var F=E.outerHeight(true);if(F>B.max_item_height){B.max_item_height=F}C+=E.outerHeight(true)});C=0;$(this.scroll_elements.toArray().reverse()).each(function(D,E){E=$(E);C+=E.outerHeight(true);E.data("offset_bottom",C)});this.viewport.css("height",this.max_item_height)}};jsb.registerHandler("vertical_scrollbox",A)});(function(B){var A=function(D,C){this.dom_element=B(D);this.options=C||{};this.initialize()};A.prototype.initialize=function(){var K=this,O=$("#footer .footer_content"),N=$("#footer .link_list").find("ul"),I=$("footer .footer_expand_link"),P=$("footer .ard_logo"),G=$(".comment header");var F=$(".col_socialshare");var M=this.dom_element.parents(".col_socialshare");var C=F.not(M);var H=this.dom_element.parents(".socialshare_list");var D=window.innerWidth;var E=(this.dom_element.hasClass("share_email")&&this.dom_element.parents(".teaserboxgroup").length)?this.dom_element.find(".share_flyout"):$();if(H.length||(this.dom_element.hasClass("dropdown")&&this.dom_element.parents(".mobile_content_nav").length==0)){jsb.on("Body::CLICK",function(Q){if(K.dom_element.hasClass("toggled")&&!K.dom_element.find(Q).length){K.dom_element.removeClass("toggled");M.removeClass("show")}})}if(typeof K.options.onClose==="string"){$(K.dom_element).on("close",function(){A[K.options.onClose].call(K)})}var L=K.dom_element.find(".js_toggle");var J=(Modernizr.touch)?"touchend":"click";this.is_dragging=false;if(Modernizr.touch){L.on("click",function(Q){Q.preventDefault()});L.on("touchmove",function(Q){K.is_dragging=true});L.on("touchcancel touchleave",function(Q){K.is_dragging=false})}L.on(J+" keyup",function(T){if("keyup"==T.type){if(T.which!=13||T.which==13&&$(this).is("a")){return }}if(Modernizr.touch&&K.is_dragging){K.is_dragging=false;T.preventDefault();return }if(Modernizr.touch&&$(this).find(".ico_mail").length>0&&$(this).attr("href").indexOf("mailto:")>-1){$(this).attr("href",$(this).attr("href")+"?body="+document.location.href);if(D<800){return }}T.preventDefault();if(Modernizr.touch&&window.innerWidth<=767&&K.dom_element.find(".link_list").length>0){jsb.fireEvent("MetaNav::SHOW",{item:K.dom_element})}if(K.dom_element.hasClass("toggled")){$("#header .toggled").removeClass("toggled");K.dom_element.removeClass("toggled");K.dom_element.attr("aria-expanded",false);F.removeClass("show");$("#subnav").find(".link_list").attr("style","");$(K.dom_element).trigger("close")}else{$(".socialshare_list").find(".toggled").removeClass("toggled");$(".layoutcontactflyout").removeClass("toggled");$("#header .toggled").removeClass("toggled");$("#contentnav .dropdown.toggled").removeClass("toggled");K.dom_element.addClass("toggled");K.dom_element.attr("aria-expanded",true);if(M.length){C.removeClass("show");M.addClass("show")}if(E.length){var U=(O.hasClass("toggled")?"-120px":"35px");E.css("top",U)}if($(this).parents("#subnav").length>0){var R=$(this).parent().find(".link_list");var Q=R.outerWidth();var S=R.offset().left;if(S<0){R.css({left:"-14px",right:"auto"})}else{if((S+Q)>window.innerWidth){R.css({right:"-14px",left:"auto"})}}}}if(O.hasClass("toggled")){setTimeout(function(){$(N).hide();$(P).hide()},500)}else{$(N).show();$(P).show()}if(K.dom_element.parent("ol.comment_list")){jsb.fireEvent("Comment::TOGGLED")}});I.on("mouseup",function(){this.blur()});G.on("mouseup",function(){this.blur()});K.dom_element.find("a, .close").last().focusout(function(){if($(K.dom_element).hasClass("footer_content")||$(K.dom_element).hasClass("meta_search")){}else{if($(this).parents(".comment_list").length==0){K.dom_element.removeClass("toggled")}if(M.length>0){M.removeClass("show")}}})};A.submitForms=function(){var D=this;var C=$(D.dom_element).find("form[data-submitOn='toggleClose']");if(C.length!==0){C.submit()}};jsb.registerHandler("toggle",A)})(jQuery);(function(){var A=function(D,B){this.dom_element=$(D);this.options=B=B||{};B.active_classname=B.active_classname||"active";B.tab_switch_space=B.tab_switch_space||100;B.tab_max_width=B.tab_max_width||300;B.scroll_animation_time=B.scroll_animation_time||200;B.follow_links=B.follow_links||false;B.get_active_tab=B.get_active_tab||false;this.current_tab_index=B.current_tab_index||0;this.has_touch=!!("ontouchstart" in window)||!!("onmsgesturechange" in window);this.viewport=this.dom_element.find(".tab_navigation_viewport");this.viewport_width=this.viewport.width();this.tab_nav=this.dom_element.find(".tab_navigation");this.tab_nav_elements=this.tab_nav.children("li");this.tab_content=this.dom_element.find(".tab_content");this.tab_content_elements=this.tab_content.children("li");this.dd_elements=this.tab_nav_elements.clone();this.wrapper_right_button=this.dom_element.find(".wrapper_button_right");this.right_button=this.wrapper_right_button.find(".ico_arrow_wide_right");this.right_dd_list=this.wrapper_right_button.find(".tab_navigation_extend");this.wrapper_left_button=this.dom_element.find(".wrapper_button_left");this.left_button=this.wrapper_left_button.find(".ico_arrow_wide_left");this.left_dd_list=this.wrapper_left_button.find(".tab_navigation_extend");this.initTabsPosition();B.get_active_tab||this.tab_nav_elements.first().addClass(this.options.active_classname);var C=this;this.iscroll=new iScroll(this.viewport.get(0),{bounce:false,hScrollbar:false,vScrollbar:false,onScrollEnd:function(){C.updateView()}});this.bindEvents();this.initTabKeyNavigation();this.updateView();if(B.get_active_tab&&B.get_active_tab!=-1){this.switchTab(this.tab_nav_elements.find("."+this.options.active_classname).closest("li").index())}$(window).resize(function(){C.updateView()});$(window).load(function(){C.initTabsPosition()});jsb.whenFired("Tabnavi::REFRESH",function(){if(C.dom_element.parent().hasClass("accordion_body"&&"active")||C.dom_element.parent().parent().hasClass("accordion_body"&&"active")){C.initTabsPosition()}})};A.prototype={initTabsPosition:function(){var B=this;var C=0;this.tab_nav_elements.each(function(E,D){D=$(D);D.attr("data-left",C);D.css("max-width",B.options.tab_max_width);C+=Math.min(D.outerWidth(true),B.options.tab_max_width)+1});this.content_width=C;this.tab_nav.width(C)},bindEvents:function(){var B=this;this.tab_nav.on("click","li",function(D){var C=B.tab_nav_elements.index(D.currentTarget);B.switchTab(C);B.options.follow_links||D.preventDefault()});this.left_dd_list.on("click","a",function(D){B.left_dd_list.removeClass("show");var C=B.dd_elements.index($(D.currentTarget).parent());B.switchTab(C);B.options.follow_links||D.preventDefault()});this.right_dd_list.on("click","a",function(D){B.right_dd_list.removeClass("show");var C=B.dd_elements.index($(D.currentTarget).parent());B.switchTab(C);B.options.follow_links||D.preventDefault()});this.left_button.on("click",function(){var C=B.dd_elements.index(B.left_dd_list.children().first());var D=B.tab_nav_elements.eq(C);var E=parseInt(D.attr("data-left"));B.iscroll.scrollTo(-E+B.options.tab_switch_space,0,B.options.scroll_animation_time)});this.right_button.on("click",function(){var C=B.dd_elements.index(B.right_dd_list.children().first());var D=B.tab_nav_elements.eq(C);var F=parseInt(D.attr("data-left"));var E=Math.min(D.width(),B.options.tab_max_width);B.iscroll.scrollTo(-F+B.viewport_width-E-B.options.tab_switch_space,0,B.options.scroll_animation_time)});if(!B.has_touch){this.wrapper_left_button.on("hover",function(C){B.initTabsPosition();B.updateView();B.left_dd_list.toggleClass("show",(C.type==="mouseenter"))});this.wrapper_right_button.on("hover",function(C){B.initTabsPosition();B.updateView();B.right_dd_list.toggleClass("show",(C.type==="mouseenter"))})}},switchTab:function(C){if(C!=this.current_tab_index){if(!this.has_touch){this.left_dd_list.find("."+this.options.active_classname).removeClass(this.options.active_classname);this.right_dd_list.find("."+this.options.active_classname).removeClass(this.options.active_classname)}var B=this.tab_nav_elements.eq(this.current_tab_index);B.blur();B.removeClass(this.options.active_classname);this.tab_content_elements.eq(C).addClass(this.options.active_classname);B=this.tab_nav_elements.eq(C);this.tab_content_elements.eq(this.current_tab_index).removeClass(this.options.active_classname);B.addClass(this.options.active_classname);this.current_tab_index=C;if(this.isTabCuttedOff(B,"left")||this.isTabCuttedOff(B,"right")){var D=parseInt(B.attr("data-left"));this.iscroll.scrollTo(-D+this.options.tab_switch_space,0,this.options.scroll_animation_time)}}},isTabCuttedOff:function(C,E){var F=parseInt(C.attr("data-left"));if(E=="right"){var D=(F+Math.min(C.width(),this.options.tab_max_width)+this.iscroll.x>this.viewport_width);return D}else{if(E=="left"){var B=(F+this.iscroll.x<0);return B}}},getHiddenTabs:function(C){var B=this;return this.dd_elements.filter(function(D){var E=B.tab_nav_elements.eq(D);return B.isTabCuttedOff(E,C)})},updateView:function(){this.viewport_width=this.viewport.width();var F=this.getHiddenTabs("left");var E=this.getHiddenTabs("right");var D=F.length;var B=E.length;if(D){this.left_dd_list.empty();this.left_dd_list.append(F.toArray().reverse());if(D>this.current_tab_index){F.eq(this.current_tab_index).addClass(this.options.active_classname)}}if(B){this.right_dd_list.empty();this.right_dd_list.append(E);var C=(this.tab_nav_elements.length-this.current_tab_index);if(C<=B){E.eq(-C).addClass(this.options.active_classname)}}if(!this.has_touch){this.left_dd_list.find("."+this.options.active_classname).removeClass(this.options.active_classname);this.right_dd_list.find("."+this.options.active_classname).removeClass(this.options.active_classname)}this.left_button.toggleClass("show",(D>0));this.right_button.toggleClass("show",(B>0))},initTabKeyNavigation:function(){var B=this;this.tab_nav.on("focusin","li",function(E){var C=B.tab_nav_elements.index(E.currentTarget);var D=B.tab_nav_elements.eq(C);if(B.isTabCuttedOff(D,"left")||B.isTabCuttedOff(D,"right")){var F=parseInt(D.attr("data-left"));B.iscroll.scrollTo(-F+B.options.tab_switch_space,0,B.options.scroll_animation_time)}});this.tab_nav.on("keydown","li",function(F){if(F.keyCode==9){var D=B.tab_nav_elements.index(F.currentTarget);if(!F.shiftKey){if(D==B.current_tab_index){var C=B.tab_content_elements.eq(D).find("a:first, span[tabindex]:first");if(C.length>0){C.focus();F.preventDefault()}}if(B.tab_nav_elements.length==D+1&&B.current_tab_index!=D){var E=B.dom_element.nextAll().find("a, span[tabindex]").filter(":visible").first();if(E.length){E.focus();F.preventDefault()}}}}});this.tab_content_elements.on("keydown","a, span[tabindex]",function(E){if(E.keyCode==9){var C=B.tab_content_elements.eq(B.current_tab_index).find("a, span[tabindex]");if(!E.shiftKey&&C.last().is(E.currentTarget)){var D=B.tab_nav_elements.eq(B.current_tab_index+1).find("a, span[tabindex]");if(D.length){D.focus();E.preventDefault()}}else{if(E.shiftKey&&C.first().is(E.currentTarget)){B.tab_nav_elements.eq(B.current_tab_index).find("a, span[tabindex]").focus();E.preventDefault()}}}})}};jsb.registerHandler("tab_navigation",A)})();(function(){var A=function(E,C){var D=this;this.dom_element=jQuery(E);this.options={first_open:!(this.dom_element.hasClass("layoutexpandableteaser_closed")),all_closable:true,animate:true,initial_open_element_selector:null};this.position=-1;this.options=$.extend(this.options,C);this.button_elements=this.dom_element.find(".js_extend");this.body_elements=this.dom_element.find(".js_content");this.body_element_heights=[];var B=this.dom_element.find(this.options.initial_open_element_selector);if(B.length){this.position=this.body_elements.index(B)}else{if(D.options.first_open){this.position=0}}this.initializeButtonElements();this.initializeShowAllElements();this.setPosition(this.position,false)};jsb.registerHandler("accordion",A);A.prototype.initializeButtonElements=function(){var B=this;this.button_elements.each(function(G,D){D=$(D);var F=$(B.body_elements[G]);var E="accordion_button_"+B.getNextIdSequence();var C="accordion_body_"+B.getNextIdSequence();D.addClass("cursor");D.attr({id:D.attr("id")||E,"aria-controls":C});F.attr({id:C});B.body_element_heights.push(F.outerHeight());D.bind("mouseup",function(I){I.target.blur();var H=F.attr("data-url");if(H){B.loadContent(H,F,G)}else{if(B.position!=G){B.setPosition(G,true)}else{if(B.options.all_closable){B.setPosition(-1,true)}}}});D.bind("keyup",function(I){if(I.keyCode===13){I.stopPropagation();I.preventDefault();var H=F.attr("data-url");if(H){B.loadContent(H,F,G)}else{if(B.position!=G){B.setPosition(G,true)}else{if(B.options.all_closable){B.setPosition(-1,true)}}}}})})};A.prototype.getNextIdSequence=(function(){var B=1;return function(){return B++}})();A.prototype.setPosition=function(B,D){var C=this;this.position=B;this.is_scrolling=D;this.body_elements.each(function(F,E){E=$(E);button_dom_element=$(C.button_elements[F]);button_dom_element.attr("tabindex",0);if(C.position===F||C.position===-2){E.attr("aria-expanded",true);E.addClass("active");button_dom_element.addClass("active");E.find(".manualteaser, div:first").removeClass("hide");jsb.fireEvent("Tabnavi::REFRESH");E.animate({height:C.body_element_heights[F]},{duration:C.options.animate?400:1,queue:false,complete:function(){$(this).height("");if(C.is_scrolling){$("html, body").animate({scrollTop:$(this).offset().top-145},800)}if(C.body_element_heights[F]<10){C.body_element_heights[F]=E.outerHeight()}}});button_dom_element.find("input").attr("checked","checked")}else{E.attr("aria-expanded",false);E.removeClass("active");button_dom_element.removeClass("active");E.animate({height:0},{duration:C.options.animate?400:1,queue:false,complete:function(){$(this).find(".manualteaser, div:first").addClass("hide")}});button_dom_element.find("input").attr("checked",false)}})};A.prototype.initializeShowAllElements=function(){var C=this;var B="";this.dom_element.find(".showall a").bind("click",function(D){D.preventDefault();D.stopPropagation();if(C.position===-2){C.setPosition(-1,true);B="Alle anzeigen"}else{C.setPosition(-2,false);B="Alle ausblenden"}$(this).html(B)})};A.prototype.loadContent=function(C,D,B){D.parent().addClass("loading");D.removeAttr("data-url");var E=this;$.ajax(C,{complete:function(F){D.append(F.responseText);D.parent().removeClass("loading");E.setPosition(B,true);setTimeout(function(){jsb.applyBehaviour(D)},30)}})}})();(function(){var A=function(C){var B=this;this.dom_element=$(C);this.initialize()};A.prototype={initialize:function(){var B=this;this.is_visible=false;this.box_element=this.dom_element.find(".overlaylighbox");this.image_element=this.dom_element.find("img");this.caption_element=this.dom_element.find("figcaption");this.button_close=this.dom_element.find(".ico_close");this.dom_element.on("click",function(){B.hide()});this.image_element.on("load",function(){B.resize()});$(document).on("keydown",function(D){var C=D.keyCode;if(B.is_visible&&(C==27||C==9)){B.hide()}});jsb.on("Lightbox::SHOW",function(C){B.show(C)})},hide:function(){this.is_visible=false;this.dom_element.removeClass("show");this.box_element.attr("style","");this.image_element.attr("style","");this.box_element.hide()},show:function(B){this.box_element.hide();this.image_element.attr("src",B.src);this.caption_element.html(B.title);this.is_visible=true;this.dom_element.addClass("show");this.resize()},resize:function(){var B=this;this.box_element.attr("style","");this.image_element.attr("style","");this.box_element.show();this.image_element_width=this.image_element.width();this.image_element_height=this.image_element.height();this.image_aspect=this.image_element_width/this.image_element_height;this.window_width=window.innerWidth;this.window_height=window.innerHeight;this.window_aspect=this.window_width/this.window_height;if(this.image_element_width<this.window_width&&this.image_element_height<this.window_height){this.position("center")}else{if(this.image_aspect>=this.window_aspect){this.resize_width()}else{this.resize_height()}}},resize_width:function(){this.box_element.css({width:"96%",left:"2%"});this.image_element.css("width","100%");this.position("horizontal")},resize_height:function(){this.box_element.css({height:"96%",top:"2%"});this.image_element.css("height",this.box_element.outerHeight()-this.button_close.outerHeight()-this.caption_element.outerHeight());this.position("vertical")},position:function(B){this.orientation=B;this.box_element_width=this.box_element.outerWidth();this.box_element_height=this.box_element.outerHeight();if(this.orientation=="horizontal"){this.box_element.css("top","50%");if(this.box_element_width>0&&this.box_element_height>0){this.box_element.css("margin-top",-this.box_element_height/2)}else{var C=this;setTimeout(function(){C.box_element.css("margin-top",-Math.round(C.box_element_height)/2)},10)}}if(this.orientation=="vertical"){this.box_element.css("left","50%");if(this.box_element_width>0&&this.box_element_height>0){this.box_element.css("margin-left",-this.box_element_width/2)}else{var C=this;setTimeout(function(){C.box_element.css("margin-left",-Math.round(C.box_element_width)/2)},10)}}if(this.orientation=="center"){this.box_element.css({top:"50%",left:"50%"});if(this.box_element_width>0&&this.box_element_height>0){this.box_element.css({"margin-top":-this.box_element_height/2,"margin-left":-this.box_element_width/2})}else{var C=this;setTimeout(function(){C.box_element.css({"margin-top":-C.box_element_height/2,"margin-left":-C.box_element_width/2})},100)}}}};jsb.registerHandler("lightbox_view",A)})();(function(){var A=function(D,B){var C=this;this.dom_element=$(D);this.options=B;B.image_selector=B.image_selector||".enlargeable";B.trigger_selector=B.trigger_selector||"a";this.images=$(this.options.image_selector);this.images.on("click",B.trigger_selector,function(E){C.show($(E.currentTarget));E.preventDefault()})};A.prototype={show:function(B){var D=B.attr("href")||B.attr("src");var C=B.data("title")||B.attr("title")||B.next("figcaption").text();jsb.fireEvent("Lightbox::SHOW",{src:D,title:C})}};jsb.registerHandler("lightbox",A)})();(function(){var A=function(D,B){var C=this;this.has_touch=!!("ontouchstart" in window)||!!("onmsgesturechange" in window);B.text_value=B.text_value||"Texteingabe";this.dom_element=jQuery(D);this.text_input=this.dom_element.find("input.text").first();this.form_element=this.dom_element.parents("form");$.support.placeholder=(function(){var E=document.createElement("input");return"placeholder" in E})();if(!$.support.placeholder){if(this.text_input.length){this.placeholder_element=jQuery('<input size="15" value="" />');this.placeholder_element.attr("class",this.text_input.attr("class"));this.placeholder_element.addClass("text")}else{this.text_input=this.dom_element.find("textarea.textarea").first();if(!this.text_input.length){throw new Error("The element does not contain an input or textarea element! Placeholder Behaviour cannot be applied!")}this.placeholder_element=jQuery('<textarea rows="3" cols="3"></textarea>');this.placeholder_element.attr("rows",this.text_input.attr("rows"));this.placeholder_element.attr("cols",this.text_input.attr("cols"));this.placeholder_element.attr("class",this.text_input.attr("class"));this.placeholder_element.addClass("textarea")}if(!this.has_touch){this.placeholder_element.addClass("placeholder");this.placeholder_element.insertAfter(this.text_input);if(!this.text_input.val()){this.placeholder_element.show();this.text_input.hide()}else{this.placeholder_element.hide();this.text_input.show()}this.placeholder_element.val(B.text_value);this.placeholder_element.on({focusin:function(){C.text_input.show();setTimeout(function(){C.text_input.focus()},0);C.placeholder_element.hide()}});this.text_input.bind({focusout:function(){if(!C.text_input.val()){C.placeholder_element.show();C.text_input.hide()}}})}}this.form_element.on("reset",function(){setTimeout(function(){C.placeholder_element.show();C.text_input.hide();C.placeholder_element.val(B.text_value)},0)})};jsb.registerHandler("placeholder",A)})();(function(){var A=function(){var D=(window.innerWidth>0)?window.innerWidth:screen.width;var C;var G;var F;var E=function(H,I){if(D>I){F="normal"}else{F="low"}$(H).find("img[data-src]").each(function(J,K){C=$(K);data_src_str=new String(C.attr("data-src"));if(data_src_str.indexOf("{")!=-1){G=JSON.parse(data_src_str);if(!C.attr("data-imgsrc")&&G[F]&&G[F]!=C.attr("src")){C.attr("src",G[F]).addClass("replaced format-"+F)}}})};var B=(function(){var H={};return function(K,I,J){if(!J){J="Don't call this twice without a uniqueId"}if(H[J]){clearTimeout(H[J])}H[J]=setTimeout(K,I)}})();E("body",600);E(".header_slider",479);E(".content_navi_slider",479);E(".layoutcontentbanner",479);E(".layouttopteaser_banner",479);E(".layoutpremium",479);$(window).resize(function(){B(function(){D=(window.innerWidth>0)?window.innerWidth:screen.width;E(".header_slider",479);E(".content_navi_slider",479);E(".layoutcontentbanner",479);E(".layouttopteaser_banner",479);E(".layoutpremium",479)},500,"window")})};$(function(){var B=new A()})})();(function(){var A=function(G,C){var F=this;this.options=C||{};this.dom_element=jQuery(G);this.counter_wrapper=$(".stats_counter");this.source_element=$(".stats_counter li",this.dom_element);var E=this.source_element.text();this.source_element.remove();for(var D=0;D<E.length;D++){var B=$("<li>"+E[D]+"</li>");if((E.length-D)%3==0){B.addClass("separator")}this.counter_wrapper.prepend(B)}this.digit_elements=$(".stats_counter li",this.dom_element);this.tick_rate=this.options.tick_rate||15;this.digit_values_reverse=this.digit_elements.text().split("");this.digit_elements.text("0");this.interval=setInterval(function(){if(F.isInViewport()){clearInterval(F.interval);F.start()}},1000)};A.prototype={start:function(){var B=this;this.interval=setInterval(function(){B.tick()},1000/this.tick_rate)},tick:function(){var B=this;var C=false;this.digit_elements.each(function(D,E){E=$(E);if(B.digit_values_reverse[D]!=E.text()){E.text(parseInt(E.text())+1);C=true;return false}});if(!C){clearInterval(B.interval)}},isInViewport:function(){var D=$(window);var B={top:D.scrollTop(),left:D.scrollLeft()};B.right=B.left+D.width();B.bottom=B.top+D.height();var C=this.dom_element.offset();C.right=C.left+this.dom_element.outerWidth();C.bottom=C.top+this.dom_element.outerHeight();return(!(B.right<C.left||B.left>C.right||B.bottom<C.top||B.top>C.bottom))}};jsb.registerHandler("counter",A)})();(function(){var A=function(D,B){var C=this;this.options=B;this.dom_element=$(D);this.content_wrapper=this.dom_element.find(".content");this.items=this.content_wrapper.find(".layoutbreaking_news");this.content_wrapper_clone=this.content_wrapper.clone().appendTo(this.dom_element);this.width=0;this.content_width=0;this.scroll_left=0;this.x_step=1;this.frame_rate=60;this.hover=false;this.fout_timeout=20;this.initializeEvents();this.calculateWidthAndPositions();this.tick_interval=setInterval(function(){C.renderLoop()},1000/this.frame_rate);this.fout_interval=setInterval(function(){C.calculateWidthAndPositions();C.fout_timeout--;if(C.fout_timeout<=0){clearInterval(C.fout_interval)}},1000)};A.prototype={initializeEvents:function(){var B=this;this.dom_element.mouseenter(function(){B.hover=true});this.dom_element.mouseleave(function(){B.hover=false});$(window).resize(_.debounce(function(){B.calculateWidthAndPositions()},300))},calculateWidthAndPositions:function(){this.viewport_width=this.dom_element.width();this.content_width=this.content_wrapper.outerWidth(true);this.x_clone=this.content_width+1;this.content_wrapper_clone.css({left:this.x_clone});if(this.viewport_width>this.content_width){this.cloneItems();this.calculateWidthAndPositions()}},cloneItems:function(){var E=Math.ceil(this.viewport_width/this.content_width)-1;for(var D=0;D<E;D++){var B=this.items.clone();var C=B.clone();this.content_wrapper.append(B);this.content_wrapper_clone.append(C)}},renderLoop:function(){if(this.hover){return }this.scroll_left+=this.x_step;if(this.scroll_left>this.content_width){this.scroll_left=0}this.dom_element[0].scrollLeft=this.scroll_left}};jsb.registerHandler("newsticker",A)})();(function(){var A=function(E,B){var D=this;var C=$(".layoutcommentmodule .boxheadline","#new_comment_box");B=B||{};this.dom_element=$(E);this.setLinkToExpand=function(F){var G=$(".expand_collapse_all");if(F){$("ol.comment_list li").each(function(){$(this).removeClass("toggled")});G.removeClass("hide_all");G.addClass("show_all");G.text("Kommentartexte aufklappen")}else{$("ol.comment_list li").each(function(){$(this).addClass("toggled")});G.removeClass("show_all");G.addClass("hide_all");G.text("Kommentartexte zuklappen")}};this.currentBatchIndex=B.currentBatchIndex;this.realBatchCount=B.realBatchCount;this.baseBatchUrl=B.baseBatchUrl;this.loadMoreComments=function(I){if(D.currentBatchIndex<D.realBatchCount-1){D.currentBatchIndex++;var F=D.baseBatchUrl.replace("{commentBatchIndex}",D.currentBatchIndex);var H=$(".load_more_comments");var G=jQuery.ajax({type:"GET",url:F,xhrFields:{withCredentials:true},success:function(J){D.dom_element.find("ol.comment_list li:last").after(J);jsb.applyBehaviour("ol.comment_list");if(D.allCommentsLoaded()){H.addClass("hide");H.next("br").addClass("hide")}if(I){D.scrollToAnswerReferrer(I)}}})}};this.allCommentsLoaded=function(){return(D.currentBatchIndex===D.realBatchCount-1)};this.scrollToAnswerReferrer=function(H){if(H){var F=$("#"+H);if(F.length){var G=F.offset();$(document).scrollTop(G.top-100);F.addClass("hilite");setTimeout(function(){F.removeClass("hilite")},200)}else{D.loadMoreComments(H)}}};this.dom_element.on("click","ol.comment_list li a.answer_comment_link",function(L){L.preventDefault();$("#new_comment_box").removeClass("hide").insertAfter($("a[name=new_comment]"));var Q="<h4 class='manualteasersubtitle'>Bitte f&uuml;llen Sie die Felder aus, um eine Antwort zu verfassen.</h4>";var M=$(this).parents(".comment").find("time span").first().html();var O=$(this).parents(".comment").find("time span:nth-child(2)").html();var I=O.substring(O.indexOf(", ")+2,O.indexOf(" |"));var H=O.substring(O.indexOf(" | ")+3,O.indexOf(" Uhr"));var N="Antwort auf ["+M+"] vom "+I+" um "+H;var P=$("#new_comment_box").find("div[class='intro']");if(P){P.html(Q+N)}var K=$(this).parents("li").attr("id");if(K){var F=$("#new_comment_box").find("#comment_form");if(F){var J=F.find("input[type='hidden'][name='answerTo']");if(J&&J.length>0){J.first().val(K)}else{F.append("<input type='hidden' name='answerTo' value='"+K+"'>")}}}C.html("Kommentar");var G=$("#new_comment_box").offset();$(document).scrollTop(G.top-100)});this.dom_element.on("click","ol.comment_list li a.answer_referrer_link",function(I){I.preventDefault();var G=$(this).attr("href");if(G){var F=G.indexOf("#");if(F>-1){var H=G.substring(F+1);D.scrollToAnswerReferrer(H)}}});this.dom_element.on("click",".expand_collapse_all",function(F){F.preventDefault();if($(this).hasClass("show_all")){D.setLinkToExpand(false)}else{D.setLinkToExpand(true)}});this.dom_element.find(".load_more_comments").bind("click",function(F){F.preventDefault();D.loadMoreComments()});$("#new_comment_link").bind("click",function(G){G.preventDefault();$("#new_comment_box").removeClass("hide").insertAfter($("a[name=new_comment]"));C.html("Kommentar");var F=$("#new_comment_box").offset();$(document).scrollTop(F.top-100)})};jsb.registerHandler("comments",A)})();(function(){var A=function(D,B){B=B||{};this.dom_element=$(D);var C=this;$(D).submit(function(E){E.preventDefault();E.stopPropagation();C.dom_element.closest(".share_flyout").addClass("hide");C.dom_element.closest(".share_flyout").closest("li").find(".share_email_confirmation").removeClass("hide");return false})};jsb.registerHandler("mail",A)})();(function(B){var A=function(D,C){this.dom_element=B(D);C=C||{};this.initialize()};A.prototype.initialize=function(){var D=this;var C=$("#share_link_input",this.dom_element);var E=$(".share_message",this.dom_element);this.dom_element.bind("click",function(F){if(window.clipboardData){C.select();window.clipboardData.setData("Text",C.value);E[0].innerHTML="<p>wurde in ihrer Zwischenablage gespeichert.</p>"}else{C.select();E[0].innerHTML="<p>wird nach Drücken von Strg/Apfel + C in ihrer Zwischenablage gespeichert.</p>"}})};jsb.registerHandler("clipboard",A)})(jQuery);(function(){var A=function(D,B){var C=this;this.dom_element=$(D);this.dom_element.find(".jw_play").bind("click",function(){C.dom_element.closest("section").first().find("a.play_icon_layer").click()})};jsb.registerHandler("jwplayer",A)})();(function(B){var A=function(D,C){this.dom_element=$(D);C=C||{};this.initialize();this.initializeSearch()};A.prototype.initialize=function(){var C=this;this.btn_reset=$(".js_input_reset",C.dom_element);this.input_element=$(".js_input",C.dom_element);if($(this.input_element).attr("value")){$(this.btn_reset).css("display","block")}$(this.input_element).on("change keydown keyup",function(){var D=C.input_element.val();if(D){$(C.btn_reset).css("display","block")}else{$(C.btn_reset).css("display","none")}});this.btn_reset.on("click",function(){$(C.input_element).attr("value","");C.btn_reset.css("display","none")})};A.prototype.initializeSearch=function(){var C=this;this.search_label=this.dom_element.find(".js_input_label");this.search_reset=this.dom_element.find(".js_input_reset");this.search_submit=this.dom_element.find(".js_input_submit");this.search_label.on("click keyup",function(D){if("click"==D.type||("keyup"==D.type&&D.which==13)){C.dom_element.addClass("active");C.input_element.focus()}});this.input_element.on("focusin",function(){C.dom_element.addClass("active")})};jsb.registerHandler("input",A)})(jQuery);$(document).ready(function(){$("#skiplinks [href=#search]").click(function(A){A.preventDefault();$("#search .type_text input").focus()})});(function(){var A=function(E,B){B=B||{};this.dom_element=$(E);var D=this;var C=this.dom_element.find("p.manualteasershorttext:first");if(C[0].offsetHeight<C[0].scrollHeight){C.closest(".comment").addClass("hasOverflow")}};jsb.registerHandler("shorttext",A)})();(function(A){var B=function(D,C){this.dom_element=A(D);this.options=C||{};this.initialize();this.has_touch=!!("ontouchstart" in window)||!!("onmsgesturechange" in window)};B.prototype.initialize=function(){var D=this,C=this.dom_element.closest(".share_rating").find("span.ico_star");D.dom_element.find("a").bind("click",function(E){E.preventDefault();D.dom_element.find("li").each(function(F){$(this).removeClass("current")});$(this).closest("li").addClass("current");if(this.has_touch){C.text("Bewertung abgeben");C.closest("a").attr("href",$(this).attr("href")).unbind("click")}})};jsb.registerHandler("rating",B)})(jQuery);(function(){var A=function(D,B){var C=this;this.options=B||{};this.dom_element=D;this.flyout=$("#"+B.id)||$("#contact_flyout");if(typeof C.options.onClose==="string"){$(C.dom_element).on("close",function(){A[C.options.onClose].call(C)})}$(D).on("click",function(E){E.preventDefault();pos=$(C.dom_element).children("span.ico").position();$(C.flyout).css("left",pos.left);$(C.flyout).css("top",pos.top);if($(C.flyout).hasClass("toggled")){$(C.dom_element).trigger("close")}$(C.flyout).toggleClass("toggled")});$(this.flyout).find(".close").on("click",function(E){E.preventDefault();$(C.dom_element).trigger("close");$(C.flyout).removeClass("toggled")})};A.submitForms=function(){var C=this;var B=$(C.flyout).find("form[data-submiton='toggleClose']");if(B.length!==0){B.submit()}};jsb.registerHandler("contact_flyout",A)})();(function(A){A.FormBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("formBehaviour",D);D.init=function(){var F=D.readOptionsFromAttrs();var J=A.extend(true,{},F,C);D.opts=A.extend(true,{},A.FormBehaviour.defaults,J);D.preventSubmit,D.submittingViaAjax=false;var I=D.$el.attr("id");if(A(D.opts.target).length){D.$target=A(D.opts.target)}else{if(typeof I==="string"){var H="#"+I+A.FormBehaviour.TARGET_ID_POSTFIX;if(A(H).length){D.$target=A(H)}}}var E=[];if(D.opts.resetAfterSubmit){E.push(A.proxy(D.successReset,D))}if(D.opts.setTargetHtml){E.push(A.proxy(D.successSetTargetHtml,D))}if(D.opts.ajaxSettings.success){E.push(A.proxy(D.opts.ajaxSettings.success,D))}E.push(A.proxy(function(){D.$el.trigger("submitted_via_ajax",D);jsb.applyBehaviour(D.$target);window.initializeAllPlayers();D.submittingViaAjax=false}));D.opts.ajaxSettings.success=E;var G=[];if(D.opts.setTargetHtml){G.push(A.proxy(D.errorSetTargetHtml,D))}if(D.opts.ajaxSettings.error){G.push(A.proxy(D.opts.ajaxSettings.error,D))}G.push(A.proxy(function(){D.submittingViaAjax=false}));D.opts.ajaxSettings.error=G;D.$el.on({submit:D.onSubmit,prevent_submit:D.onPreventSubmit});A("#"+I+" button").click(function(){A("<input type='hidden' name='"+A(this).attr("name")+"' value='"+A(this).attr("value")+"'>").insertBefore(this)});A("#"+I+" button").click(function(){A("<input type='hidden' name='"+A(this).attr("name")+"' value='"+A(this).attr("value")+"'>").insertBefore(this)});D.finishInit()};D.readOptionsFromAttrs=function(){var G=D.$el.attr("method")||A.FormBehaviour.defaults.ajaxSettings.type;var F=D.$el.attr("action");if(typeof F!=="undefined"){F=A.trim(F);hashIndex=F.indexOf("#");if(hashIndex>0){F=F.substr(0,hashIndex)}}else{F=A.FormBehaviour.defaults.ajaxSettings.url}var E={ajaxSettings:{url:F,type:G},ajaxSubmit:false};return E};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.onSubmit=function(E){if(D.opts.ajaxSubmit){E.preventDefault();if(!D.submittingViaAjax){D.submitViaAjax()}}else{}};D.onPreventSubmit=function(E){D.preventSubmit=true};D.submitViaAjax=function(){if(D.opts.beforeSubmit){D.opts.beforeSubmit()}if(D.preventSubmit){D.preventSubmit=false;return D.$el}D.opts.ajaxSettings.data=D.$el.serialize();D.submittingViaAjax=true;var E=A.ajax(D.opts.ajaxSettings);return D.$el};D.successSetTargetHtml=function(F,E,G){if(this.$target){this.$target.replaceWith(F);this.init()}else{}};D.errorSetTargetHtml=function(E,G,F){throw ("Error: "+G+" ("+F+")")};D.reset=function(){this.$el[0].reset();D.$el.trigger("reset_form",D)};D.init()};A.FormBehaviour.defaults={ajaxSubmit:true,resetAfterSubmit:false,setTargetHtml:true,ajaxSettings:{type:"GET",dataType:"html",url:""}};A.FormBehaviour.TARGET_ID_POSTFIX="_response";A.fn.FormBehaviour=function(B){return this.each(function(){(new A.FormBehaviour(this,B))})};jsb.registerHandler("form",A.FormBehaviour)})(jQuery);(function(A){A.AjaxIncludeBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("ajaxIncludeBehaviour",D);D.opts=C;D.init=function(){var E=[];E.push(A.proxy(D.successSetTargetHtml,D));D.opts.ajaxSettings={};D.opts.ajaxSettings.success=E;D.finishInit();var F=A.ajax(C.url,D.opts.ajaxSettings)};D.successSetTargetHtml=function(F,E,G){if(this.$el){this.$el.html(F);jsb.applyBehaviour(D.$el);window.initializeAllPlayers()}else{}};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.init()};A.fn.AjaxIncludeBehaviour=function(B){return this.each(function(){(new A.AjaxIncludeBehaviour(this,B))})};jsb.registerHandler("cq5fwkajaxinclude",A.AjaxIncludeBehaviour)})(jQuery);(function(A){A.CalendarNavigationBehaviour=function(B,C){var D=this;this.dom_element=A(B);D.$el=A(B);D.el=B;D.$el.data("calendarNavigation",D);D.opts=C;this.item_prev=A(".calnavmonth .previous a",this.dom_element);this.item_next=A(".calnavmonth .next a",this.dom_element);D.addEvents=function(){var E=this;this.item_prev.on("click",function(F){F.preventDefault();D.el.className="jsb_ jsb_CalendarNavigation loading";E.loadCalendarEvent(E.item_prev.attr("href"))});this.item_next.on("click",function(F){F.preventDefault();D.el.className="jsb_ jsb_CalendarNavigation loading";E.loadCalendarEvent(E.item_next.attr("href"))})};D.loadCalendarEvent=function(F){var E=[];E.push(A.proxy(D.successSetTargetHtml,D));D.opts={url:F};D.opts.ajaxSettings={};D.opts.ajaxSettings.success=E;var G=A.ajax(F,D.opts.ajaxSettings)};D.successSetTargetHtml=function(F,E,G){if(this.$el){this.$el.html(F);D.el.className="jsb_ jsb_CalendarNavigation";A.CalendarNavigationBehaviour(D.el)}else{}};D.addEvents()};A.fn.CalendarNavigationBehaviour=function(B){return this.each(function(){(new A.CalendarNavigationBehaviour(this,B))})};jsb.registerHandler("CalendarNavigation",A.CalendarNavigationBehaviour)})(jQuery);(function(){var B=function(){var C=$("#col2 .manualteaser.layoutcalendar").addClass("collapsed"),D=$('<a class="calToggle" href="javascript:void(0);">Kalender öffnen</a>');D.click(function(E){E.preventDefault();C.toggleClass("collapsed")}).prependTo(C);C.prependTo("#col1")},A=($("#col2").css("display")!=="none");if(!A){B()}}());(function(A){A.TrafficBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("TrafficBehaviour",D);D.$mehrlinks=A(".mehrlink",D.$el);D.init=function(){D.opts=A.extend(true,{},A.TrafficBehaviour.defaults,C);A(".layouttrafficteaser .traffic_icon").click(function(){var E=A(this).closest("li").index();D.toggleTrafficLink(E)});D.toggleTrafficLink(0);D.finishInit()};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.toggleTrafficLink=function(E){D.$mehrlinks.hide();D.$mehrlinks.eq(E).show()};D.init()};A.fn.TrafficBehaviour=function(B){return this.each(function(){(new A.TrafficBehaviour(this,B))})};jsb.registerHandler("traffic",A.TrafficBehaviour)})(jQuery);(function(A){A.SportBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("SportBehaviour",D);D.init=function(){D.opts=A.extend(true,{},A.SportBehaviour.defaults,C);var G=A(".layoutsportresults");if(!G){return }var E=G.find(".boxheadline:eq(0)");D.result=G.find("*[data-xslt-result]:eq(0)");var H=D.result.find("ul:eq(0)");D.sport=[];var F=false;H.children("li").each(function(K,J){var L={name:A(this).data("sport"),league:[]};A(J).find("li").each(function(O,N){var P=A(this).children("a:eq(0)");var Q={name:P.text(),href:P.attr("href")};var M=A(this).attr("selected");if(M){F=true;L.selected=true;Q.selected=true}L.league.push(Q)});D.sport.push(L)});D.resetContainer(D.result,F);var I=A("<select />").attr({id:"sportresult_type_input","class":"text",name:"sportresult_type",role:"textbox",size:1}).html("<option selected>Sportart wählen</option>");D.selectLeague=A("<select />").attr({id:"sportresult_subtype_input","class":"text",name:"sportresult_subtype",role:"textbox",size:1,disabled:"disabled"}).html("<option selected>Liga wählen</option>");A(D.sport).each(function(J,L){var K=A("<option />").text(D.sport[J].name).data("index",J).appendTo(I);if(D.sport[J].selected){K.attr("selected","true");D.fillLeagueSelect(J)}});I.change(function(K){K.preventDefault();D.selectLeague.html("<option selected>Liga wählen</option>").attr("disabled","");var J=A(this).find(":selected").data("index");if(typeof J==="undefined"){D.resetContainer(D.result);return false}D.fillLeagueSelect(J)});D.selectLeague.change(function(K){K.preventDefault();var J=A(this).find(":selected").data("href");if(typeof J==="undefined"){return false}window.location.href=J});A('<div class="type-select" />').append(I).append(D.selectLeague).appendTo(E);A("<label />").attr({"class":"hideme","for":"sportresult_type_input"}).text("Sportart wählen").insertBefore(I);A("<label />").attr({"class":"hideme","for":"sportresult_subtype_input"}).text("Liga wählen").insertBefore(D.selectLeague);D.finishInit()};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.resetContainer=function(E,F){var G=(F?"":"<p class=manualteasershorttext>Bitte eine Sportart und die dazugehörige Liga auswählen</p>");E.html(G)};D.fillLeagueSelect=function(E){var G=D.sport[E];var F=false;A(G.league).each(function(H,J){var I=A("<option />").text(J.name).data("href",J.href).appendTo(D.selectLeague);if(J.selected){F=true;I.attr("selected","selected")}});D.selectLeague.removeAttr("disabled");D.resetContainer(D.result,F)};D.init()};A.fn.SportBehaviour=function(B){return this.each(function(){(new A.SportBehaviour(this,B))})};jsb.registerHandler("sport",A.SportBehaviour)})(jQuery);(function(A){A.WeatherBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("WeatherBehaviour",D);D.init=function(){D.opts=A.extend(true,{},A.WeatherBehaviour.defaults,C);jQuery(document).ready(function(){jQuery(".flashmapteaserbox:gt(0)").hide();D.hideIfNoFlash("flashMapContainer")});window.setRegionTitle=window.setRegionTitle||function(F){if((F==" ")||(F=="null")){F=""}var E=(F.length==0)?"none":"inline";jQuery("#mgFlashMapsBackButton").css("display",E);jQuery("#regionTitle").html(F+"&nbsp;")};D.initEvents();D.finishInit()};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.initEvents=function(){jQuery(".forecast_navigation a").click(function(G){G.preventDefault();var E=jQuery(this).data("forecast-day");var F="flashMaps";D.setFlashMapsDay(E,F)});jQuery("#mgFlashMapControl1").click(function(){D.setFlashMapsData("symb","flashMaps");A(this).addClass("active");A("#mgFlashMapControl2").removeClass("active")});jQuery("#mgFlashMapControl2").click(function(){D.setFlashMapsData("wind","flashMaps");A(this).addClass("active");A("#mgFlashMapControl1").removeClass("active")});jQuery("#mgFlashMapsBackButton").click(function(){D.setFlashMapsRegion("country","flashMaps")})};D.setFlashMapsDay=function(F,G){var E=D.thisMovie(G);if(typeof E.setDay==="function"){E.setDay(F)}D.showTeaserBox(F)};D.thisMovie=function(F){var E=jQuery("#"+F)[0];return E};D.setFlashMapsData=function(G,F){var E=D.thisMovie(F);if(typeof E.setData==="function"){E.setData(G)}};D.loadNewXml=function(F,G){var E=D.thisMovie(G);if(typeof E.loadNewXml==="function"){E.loadNewXml(F)}};D.setFlashMapsRegion=function(G,F){var E=D.thisMovie(F);if(typeof E.setRegion==="function"){E.setRegion(G)}};D.showTeaserBox=function(E){if(E>2){E=2}jQuery(".flashmapteaserbox").hide();jQuery("#teaserbox_"+E).show()};D.hideIfNoFlash=function(G){var F=false;var K=jQuery("#"+G);if(navigator.plugins&&navigator.plugins.length>0){var J="application/x-shockwave-flash";var I=navigator.mimeTypes;if(I&&I[J]&&I[J].enabledPlugin&&I[J].enabledPlugin.description){F=true}}else{var E=null;try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(H){return false}if(E!=null){F=true}}if(K&&!F){K.hide()}};D.init()};A.fn.WeatherBehaviour=function(B){return this.each(function(){(new A.WeatherBehaviour(this,B))})};jsb.registerHandler("weather",A.WeatherBehaviour)})(jQuery);!function(){$("ul.level2","#contentnav .expanded").length||$("#contentheader").removeClass("second_level_nav");$('.programme_anchor a[href^="#"]').click(function(){var B=$(this.hash);if(B.length){var A=$("html,body");A.scrollTop(1);var E=$("#header");if("fixed"===E.css("position")){var D=E.height(),C=B.offset().top-D;return A.scrollTop(C),!1}}});!function(){var A=function(){if(navigator.cookieEnabled){return !0}document.cookie="cookietest=1";var B=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",B};A()||$(document).on("click",'button[name="votingsubmit"], button[name="_forward.x"]',function(){return alert("Zur Teilnahme aktivieren Sie bitte die Cookie-Funktion in Ihrem Browser."),!1})}();$(window).load(function(){var B=window.location.hash;if(!B){return }var A=$(".layoutexpandableteaser "+B);if(A.length&&!A.hasClass("active")){setTimeout(function(){A.mouseup()},250)}});$(document).ready(function(A){if($.fn.rwdImageMaps){$("img[usemap]").rwdImageMaps()}});$(document).ready(function(){var A=$("iframe");if(A.length>0){A.each(function(B,C){if(C.src&&~C.src.indexOf("scribble")){$(this).addClass("scribble")}})}})}();!function(){var M="https://script.ioam.de/iam.js";var K="rbb";var H="mobrbbon";var U="http://logc406";var W="https://logs1406";var A=function(){return !!~window.location.protocol.indexOf("https")};var J=function(c,a,Z){if(c==null){return""}c=String(c);a=a||"";if(arguments.length<3){Z="_"}c=Y(c);c=b(c);c=$.trim(c).replace(/ +/g,Z);c=c.replace(/\W/g,a);return c;function Y(e){if(e==null){return""}e=e.replace(/\u00DF/g,"ss");var g="\u00E4\u00F6\u00FC\u00C4\u00D6\u00DC",f="aouAOU",d=new RegExp("["+g+"]","g");e=e.replace(d,function(i){var h=g.indexOf(i);return f.charAt(h)+"e"||"_"});return e}function b(e){if(e==null){return""}var g="\u0105\u00E0\u00E1\u00E4\u00E2\u00E3\u00E5\u00E6\u0103\u0107\u0119\u00E8\u00E9\u00EB\u00EA\u00EC\u00ED\u00EF\u00EE\u0142\u0144\u00F2\u00F3\u00F6\u00F4\u00F5\u00F8\u015B\u0219\u021B\u00F9\u00FA\u00FC\u00FB\u00F1\u00E7\u017C\u017A\u0104\u00C0\u00C1\u00C4\u00C2\u00C3\u00C5\u00C6\u0102\u0106\u0118\u00C8\u00C9\u00CB\u00CA\u00CC\u00CD\u00CF\u00CE\u0141\u0143\u00D2\u00D3\u00D6\u00D4\u00D5\u00D8\u015A\u0218\u021A\u00D9\u00DA\u00DC\u00DB\u00D1\u00C7\u017B\u0179",f="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczzAAAAAAAAACEEEEEIIIILNOOOOOOSSTUUUUNCZZ",d=new RegExp("["+g+"]","g");e=e.replace(d,function(i){var h=g.indexOf(i);return f.charAt(h)||"_"});return e}};var G=function(g){if(!g){return""}var c=g.length;var e=Math.ceil(c/2);var d=g.substr(0,e);var Z=g.substr(e,c);var f=0;var Y="";for(;f<e;f++){Y+=d[f]+(Z[f]||"")}return Y};var V=function(){if(Y("iPad|Windows NT|Kindle|PlayBook")||(Y("Android")&&!Y("Mobile"))){return true}return false;function Y(a){var Z=new RegExp(a,"gi");return(Z.test(navigator.appVersion)||Z.test(navigator.userAgent))?true:false}};var Q=function(Z){var Y=typeof orientation!=="undefined"?true:false;if(Z){if(V()){Y=false}}return Y};var N=function(){return($(".ico_menu").css("display")=="block")};var S=function(Y){if(!Y){return 0}var Z=0;Y=$.trim(String(Y)).toLowerCase();switch(Y){case"de":Z=1;break;case"pl":Z=2;break;case"hsb":case"dsb":case"wen":Z=3;break;case"en":Z=4;break}return Z};var O=function(d,e){var f=0;if(!d){return f}var c=G(d.replace(/\-/g,""));var Z=c.substr(0,16);var Y=c.substr(16,16);f=Math.abs(parseInt(Z,16)^parseInt(Y,16));return f};var I=function(a){var Z=[0,0];if(!a){return Z}var Y=[];var b=0;if(a.split){Y=a.split(",");Y[1]=Y[1]||Y[0];for(;b<2;b++){Z[b]=parseInt(J(Y[b],"",""));if(isNaN(Z[b])){Z[b]=0}}}else{Z[0]=Z[1]=parseInt(J(a))}return Z};var P=function(Y){for(var Z=0;Z<Y.length;Z++){if(!J(Y[Z],"","")){Y.splice(Z,1);Z--}}};var R=function(Z,a,f,Y){if(!Z||!$.isArray(Z)){return""}if(!Y){P(Z)}a=a||",";f=f||"";var e=f.length>1?1:0;var d="";var c=[];for(var b=0;b<Z.length;b++){d=f.charAt(0)+String(Z[b])+f.charAt(e);c.push(d)}return c.join(a)};var E=function(Y){if(!Y||!$.isArray(Y)){return""}var Z="";var a=[];for(var b=0;b<Y.length;b++){Z=Y[b];Z=Z.split(":")[1]||Z;Z=encodeURIComponent(Z);a.push(Z)}return a};var X=function(Y){var Z=[];if(!Y||!$.isArray(Y)){return Z}var b=0;for(b=0;b<Y.length;b++){if(Y[b+1]===Y[b]){Y.splice(b,1);b--}}if(Y.length>3){Y.splice(2,Y.length-3)}var a="";for(b=0;b<Y.length;b++){Z.push(encodeURIComponent(Y[b]))}return Z};var D=function(Z){if(!Z){return false}var a={};var Y=Q();a.x1=encodeURIComponent(Z.title);a.x2=encodeURIComponent(Z.handle)||"";a.x3=J(Z.media)||0;a.x4=Y?1:0;a.x5=J(Z.createDate)||0;a.x6=J(Z.lastModified).substr(0,8)||0;a.x7=encodeURIComponent(Z.crid);a.x8=J(Z.doctype)||0;a.x9=0;a.x10=N()?"burger":"normal";a.x11=J(Z.login)||0;a.x12=S(Z.lang);a.xtsite=J(Z.ATIxtsite);a.xtn2=I(Z.ATIxtn2)[(Y?1:0)];a.xtpage=a.x1;a.xt_pageID=O(Z.uuid);a.xt_pageDate=a.x6;a.xt_tags=R(E(Z.tags),"|","[]");a.xt_chap=R(X(Z.chapter),"::");return a};var T=function(Y,Z){if(!Y||!"xtsite" in Y){return false}xtnv=window.xtnv||document;xtsd=A()?W:U;xtsite=window.xtsite||Y.xtsite;xtn2=window.xtn2||Y.xtn2;xtpage=window.xtpage||Y.xtpage;xt_multc=window.xt_multc||"&x1="+Y.x1+"&x2="+Y.x2+"&x3="+Y.x3+"&x4="+Y.x4+"&x5="+Y.x5+"&x6="+Y.x6+"&x7="+Y.x7+"&x8="+Y.x8+"&x9="+Y.x9+"&x10="+Y.x10+"&x11="+Y.x11+"&x12="+Y.x12;xt_pageID=window.xt_pageID||Y.xt_pageID;xt_chap=window.xt_chap||Y.xt_chap;xt_pageDate=window.xt_pageDate||Y.xt_pageDate;xt_tags=window.xt_tags||Y.xt_tags;xtdi=window.xtdi||"";xt_an=window.xt_an||"";xt_ac=window.xt_ac||"";if(Z!=="disabled"){if(window.xtparam!=null){window.xtparam+="&pid="+xt_pageID+"&pchap="+xt_chap+"&pidt="+xt_pageDate+"&an="+xt_an+xt_multc}else{window.xtparam="&pid="+xt_pageID+"&pchap="+xt_chap+"&pidt="+xt_pageDate+"&an="+xt_an+xt_multc}}};var L=function(Z){if(!Z){return false}var Y={};Y.cp=J(Z.IVWcp,"-")||"default_rbb";if(Q("ivw")){Y.st=H;Y.cp+="_mobil"}else{Y.st=K;Y.cp+=""}return Y};var F=function(b,c){if(!b||!"cp" in b){return false}var a=false;var Y=function(e,g){var f=document.getElementsByTagName("head")[0];var d=document.createElement("script");d.type="text/javascript";d.src=e;d.onreadystatechange=g;d.onload=g;f.appendChild(d);a=true};var Z=function(){if(iom&&c!=="disabled"){iom.c(b,2)}};if(!a){Y(M,function(){Z()})}};var C=function(a){var c={};if(!a){return c}var d=a.mode;if(d){var b=d.split(",");var e=[];var g="";var Y="";var f="undefined";for(var Z=0;Z<b.length;Z++){e=b[Z].split(":");g=e[0]||f;Y=e[1]||f;c[g]=Y}}return c};var B=function(){var Y=$.parseJSON($("body").attr("data-analytics"));var Z=C(Y);ATIdata=window.ATIdata||D(Y);IVWdata=window.IVWdata||L(Y);T(ATIdata,Z.ati);F(IVWdata,Z.ivw)};B()}();window.Xtconf={xt1:".rbb-online.de",xtLogDom:".xiti.com/hit.xiti",xtfirst:false,xt2:"1",xt3:365,xt4sec:"20",xt4rss:"20",xt4epr:"20",xt4erec:"20",xt4adi:"20",xt4adc:"20",xt4al:"20",xtsds:"https://logs1406",xtsd:"http://logc406",xtsts:0,xtsite:function(A){return A},xtscript:"",xtpreview:false,xtnocookies:false,xtcode:"",xt46:"1",xt50:"1",xt48:"",xt54:false,xt58:false,xtdocl:false,xttredir:500,xtkwv:"xtmc",xtkwp:"xtnp"};window.Xtcore=function(){function BT(A){return"undefined"!==typeof A}function By(F){var D=typeof F;if("object"!==D||null===F){return"string"===D&&(F=encodeURIComponent('"'+F+'"')),String(F)}var B,A,E=[],C=F&&F.constructor==Array;for(B in F){A=F[B],D=typeof A,F.hasOwnProperty(B)&&"function"!==D&&("string"===D?A=encodeURIComponent('"'+A.replace(/[^\\]"/g,'\\"')+'"'):"object"===D&&null!==A&&(A=By(A)),E.push((C?"":encodeURIComponent('"'+B+'":'))+String(A)))}return(C?"[":"{")+String(E)+(C?"]":"}")}function Bc(A){return A.replace(/%3C/g,"<").replace(/%3E/g,">").replace(/[<>]/g,"")}function BP(E,B,C,A,D){B=0===D?B:encodeURIComponent(B);BD||(BQ.cookie=E+"="+B+";expires="+C.toGMTString()+";path=/"+A)}function BR(H,E,D){var A;try{A=Bj.location.href}catch(F){A=BW.location.href}E=null===E||!BT(E)?Bc(A.toLowerCase().replace(/%3d/g,"=")):E;if(0<E.indexOf(H+"=")){E=E.substr(1);H=E.substr(E.indexOf(H+"="));if(2!=D){if(1!=D){try{H=decodeURIComponent(H)}catch(B){H=unescape(H)}}if(E=H.match(/(\[[^\]]*\])/g)){A="";for(var C=0,G=E.length;C<G;C++){A=E[C].substring(1,E[C].length-1),H=H.replace(A,encodeURIComponent(A))}}}E=H.indexOf("#");A=H.search(/&.[^&]+=/gi);A=-1==A?-1==E?H.length:E:0<E&&E<A?E:A;return 1==D?decodeURIComponent(H.substring(H.indexOf("=")+1,A)):2==D?H.substring(H.indexOf("=")+1,A):H.substring(H.indexOf("=")+1,A).replace("&","%26")}return null}function B4(D,B,C,A){if((0===A3||3==A3||"C"!=D)&&"P"!=D){A5&&"0"==CK&&"F"==D?(BG=BG.replace("&p="+BR("p",BG,2),""),BG=BG.replace("&s2="+BR("s2",BG),""),AT_hit.isPreviewOrPrerendering()||AT_hit.sendTag(D,null,null,B),A5=!1):AT_hit.sendTag(D,B)}null!==C&&(BT(C)&&"M"!=D)&&(""===A||null===A?BQ.location=C:window.open(C,"xfen","").focus())}function B3(A){A-=100*Math.floor(A/100);return 10>A?"0"+A:A}function Bi(A){return Math.floor(Math.random()*Math.pow(10,A))}var Au=this;Au.sentHits=[];var BO=Xtconf.xt1,Aw=Xtconf.xtscript,Al=window.xtLogDom=Xtconf.xtLogDom,AB=Xtconf.xtpreview,B9=Xtconf.xtfirst,BD=Xtconf.xtnocookies,CJ=Xtconf.xtcode,CK=Xtconf.xt46,Aj=Xtconf.xt50,Bz=Xtconf.xt48,f=Xtconf.xt54,CS=Xtconf.xt58,CG=Xtconf.xtdocl,Am=Xtconf.xt2,Ac=Xtconf.xt3;window.xttredir=Xtconf.xttredir;var BU=Xtconf.xtkwv,A7=Xtconf.xtkwp,AZ=[],B7=[];B7.sec=Xtconf.xt4sec;B7.rss=Xtconf.xt4rss;B7.epr=Xtconf.xt4epr;B7.erec=Xtconf.xt4erec;B7.adi=Xtconf.xt4adi;B7.adc=Xtconf.xt4adc;B7.al=Xtconf.xt4al;B7.es=Xtconf.xt4epr;B7.ad=Xtconf.xt4adi;var AR=[],A5=!0,Bq=!1,AJ=null,BW=window.xw=window,BQ=window.xd=document,BJ=navigator,AS=window.xtv=BT(BW.xtczv)?"4.5.5-"+BW.xtczv:"4.5.5",BO=window.xt1=BT(BW.xtdmc)?";domain="+BW.xtdmc:""!==BO?";domain="+BO:"",Bj=BT(BW.xtnv)?BW.xtnv:BQ,AK=window.xt7=BT(BW.xtsdi)?BW.xtsdi:BT(BW.xtsd)?BW.xtsd+Al:("https:"===BQ.location.protocol?Xtconf.xtsds:Xtconf.xtsd)+Al,B1=BT(BW.xtsts)?BW.xtsts:Xtconf.xtsts,BV="";if(f){var AC="";try{AC=Bj.location.href}catch(CI){AC=BW.location.href}var AD=/#.*/,i=null;try{i=AC.match(AD)[0]}catch(Bx){i=null}BV=(BV=i)?"&sta="+encodeURIComponent(Bc(BV)):""}var Ay=BT(BW.xtcustom)?By(BW.xtcustom):"",Bw=window.xt8=BT(BW.xtsite)?BW.xtsite:0,k=window.xt9=BT(BW.xtn2)?"&s2="+BW.xtn2:"",CU=window.xt8b=(0===Bw?"":"s="+Bw)+(0===B1?"":0===Bw?"sts="+B1:"&sts="+B1),Bv=window.xtp=BT(BW.xtpage)?BW.xtpage:"",Ap=BT(BW.xto_force)?BW.xto_force.toLowerCase():null,Bu="redirect"===Bw,CM=BW.xtdi?"&di="+BW.xtdi:"",CA=BW.xtidp?"&idpays="+BW.xtidp:"",BX=BW.xtidprov?"&idprov="+BW.xtidprov:"",BN=BT(BW.xtparam)?BW.xtparam:"",CK=BT(BW.xtnopage)&&"1"===BW.xtnopage?"0":CK,Aj=BT(BW.xtergo)&&"0"===BW.xtergo?"0":Aj,A3=BT(BW.scriptOnClickZone)&&"1"===Aj?BW.scriptOnClickZone:0;BT(BW.xt_orderid);BT(BW.xtidcart);var A9=""!==CJ?"&code="+CJ:"",CT=[],A8=[],Bh=[],Az=[],CH=[],Bs=[];window.xt44=BT(BW.xtprod_load)?"&pdtl="+BW.xtprod_load:"";BW.addEventListener?BW.addEventListener("unload",function(){},!1):BW.attachEvent&&BW.attachEvent("onunload",function(){});BQ.addEventListener?(BQ.addEventListener("keydown",function(){Bq=!0},!1),BQ.addEventListener("keyup",function(){Bq=!1},!1)):BQ.attachEvent&&(BQ.attachEvent("onkeydown",function(){Bq=!0}),BQ.attachEvent("onkeyup",function(){Bq=!1}));var A0=BW.roimt&&0>BN.indexOf("&roimt",0)?"&roimt="+BW.roimt:"",Ar=0>BN.indexOf("&mc=",0)?BW.xtmc?"&mc="+BW.xtmc:BR(BU)?"&mc="+BR(BU):BR("xtmc")?"&mc="+BR("xtmc"):"":"",Ag=BR("xtcr")?"&mcrg="+BR("xtcr"):"",AW=BW.xtac&&0>BN.indexOf("&ac=",0)?"&ac="+BW.xtac:"",AO=BW.xtat&&0>BN.indexOf("&at=",0)?"&at="+BW.xtat:"",Ae=BW.xtan&&0>BN.indexOf("&an=",0)?"&an="+BW.xtan:"",AG=0>BN.indexOf("&np=",0)?BW.xtnp?"&np="+BW.xtnp:BR(A7)?"&np="+BR(A7):BR("xtnp")?"&np="+BR("xtnp"):"":"",s=BT(BW.xtprm)&&0>BN.indexOf("&x",0)?BW.xtprm:"",BN=BN+(A0+Ar+Ag+AW+(""!==Ae?Ae:AO)+AG+s+BV),Ao="";try{Ao=top.document.referrer}catch(BS){try{Ao=Bj.referrer}catch(A6){}}var Aq=screen,BH=window.xt21=new Date,AU=BH.getTime()/3600000,BM=window.xtf1=function(C,A){if(BD){return null}A=null!==A&&BT(A)?A:"0";var B=RegExp("(?:^| )"+C+"=([^;]+)").exec(BQ.cookie)||null;B&&(B=Bc(B[1]),"1"!=A&&(B=decodeURIComponent(B)));return B};window.xt_addchain=function(D,B){var C=B?B:"abmv",A=!AZ[C]?0:AZ[C];A++;BN+="&"+C+""+A+"="+D;AZ[C]=A};"function"===typeof xt_adch&&xt_adch();window.wck=BP;window.xtf3=BR;window.xt_mvt=function(F,B,D,A,E){if(A){for(var C=1;C<A.length+1;C++){D+="&"+(E?E:"abmv")+C+"="+A[C-1]}}B4("","&p="+F+"&s2="+B+"&abmvc="+D+"&type=mvt")};window.xt_med=function(H,B,E,A,F,C,D,G){A="F"==H&&(null===A||!BT(A))?"":"M"==H?"&a="+A+"&m1="+F+"&m2="+C+"&m3="+D+"&m4="+G:"&clic="+A+(D?"&stc="+By(D):"");B4(H,"&s2="+B+"&p="+E+A,F,C)};if(B9=window.xtfirst=-1!=BJ.userAgent.indexOf("Safari")&&0>BJ.userAgent.indexOf("Chrome")||-1!=BJ.userAgent.indexOf("iPhone")||-1!=BJ.userAgent.indexOf("iPod")||-1!=BJ.userAgent.indexOf("iPad")||B9||BW.xtidc||BD){var B2=BT(BW.xtidc)?BW.xtidc:BM("xtidc"),B0;null===B2&&(B2=Math.floor(999999*Math.random()),B0=BH.getYear(),100>B0&&(B0+=2000),100<B0&&2000>B0&&(B0+=1900),B2=B3(B0)+""+B3(BH.getMonth())+""+B3(BH.getDate())+""+B3(BH.getHours())+""+B3(BH.getMinutes())+""+B3(BH.getSeconds())+""+B2);var Ad=new Date;Ad.setTime(Ad.getTime()+315360000000);BP("xtidc",B2,Ad,BO,1);var AM=BM("xtidc"),B2=B2+(!BW.xtidc&&(null===AM||AM!=B2)?"-NO":"")}window.xt_ad=function(D,C,B,A){B4("AT","&atc="+D+"&type=AT&patc="+Bv+"&s2atc="+BW.xtn2+(A?"&stc="+By(A):""),C,B)};window.xt_adi=function(C,A,B){B4("AT","&ati="+C+"&type=AT",A,B)};window.xt_adc=function(E,C,B,A,D){B4("AT","&atc="+C+"&type=AT&patc="+Bv+"&s2atc="+BW.xtn2+(D?"&stc="+By(D):""));return AT_click.do_navig(E,B,A?"_blank":null,!0)};window.xt_click=function(H,B,E,A,F,C,D,G){F="F"==B&&(null===F||!BT(F))?"":"&clic="+F+(G?"&stc="+By(G):"");B4(B,"&s2="+E+"&p="+A+F);return AT_click.do_navig(H,C,D?"_blank":null,!0)};window.xt_form=function(G,B,E,A,F,C,D){F="F"==B&&(null===F||!BT(F))?"":"&clic="+F+(D?"&stc="+By(D):"");B4(B,"&s2="+E+"&p="+A+F);return AT_click.do_submit(G,!0,C)};window.xt_rm=function(L,J,I,M,K,E,A,B,N,H,G,D,C,F){K="&p="+I+"&s2="+J+"&type="+L+"&a="+M+"&m5="+G+"&m6="+D+(null!==K&&"0"!=K?"&"+K:"")+(null!==A&&"pause"!=M&&"stop"!=M?"&m1="+A+"&"+B+"&m3="+N+"&m4="+H+"&m7="+C+"&m8="+F+"&prich="+Bv+"&s2rich="+BW.xtn2:"")+(null!==E&&"0"!=E&&null!==A?"&rfsh="+E:"")+"&rn="+Bi(10);B4(L,K);K=new Date;if(null!==E&&"0"!=E&&("play"==M||"play&buf=1"==M||"refresh"==M)){Bs[L]&&1800000<K.getTime()-Bs[L]&&(Bh[L]=0);if(("play"==M||"play&buf=1"==M)&&!Bh[L]){Bh[L]=K.getTime()/1000,Az[L]=parseInt(A),M=Math.floor(E),M=1500<M?1500:5>M?5:M,CT[L]=M,A8[L]=M,Bs[L]=!1}else{if("refresh"==M&&("live"==D||!Az[L]||300<Az[L]&&2>100*CT[L]/Az[L])){M=Bs[L]?CH[L]:K.getTime()/1000-Bh[L],5>100*A8[L]/(M+30)&&(A8[L]=5*((M+30)/100)),Bs[L]&&(Bs[L]=!1,Bh[L]=K.getTime()/1000-CH[L]),CH[L]=M}}AR[L]=BW.setTimeout("xt_rm('"+L+"','"+J+"','"+I+"','refresh','0','"+E+"',null,'"+B+"','"+N+"','"+H+"','"+G+"','"+D+"')",1000*A8[L])}else{if(("pause"==M||"stop"==M)&&null!==AR){BW.clearTimeout(AR[L]),"stop"==M?CT[L]=0:Bs[L]=K.getTime()}}};var AT=window.xtidpg=B3(BH.getHours())+""+B3(BH.getMinutes())+""+B3(BH.getSeconds())+""+Bi(7),BI=0,o=0;window.xt16="";window.xt_addProduct=function(F,D,C,A,E,B){BI++;BW.xt16+="&pdt"+BI+"=";BW.xt16+=F?F+"::":"";BW.xt16+=D?D:"";BW.xt16+=C?"&qte"+BI+"="+C:"";BW.xt16+=A?"&mt"+BI+"="+A:"";BW.xt16+=E?"&dsc"+BI+"="+E:"";BW.xt16+=B?"&pcode"+BI+"="+B:""};window.xt_rd=Bi;window.xt_addProduct_v2=function(H,F,E,I,G,C,A,B,D){BI++;BW.xt16+="&pdt"+BI+"=";BW.xt16+=H?H+"::":"";BW.xt16+=F?F:"";BW.xt16+=E?"&qte"+BI+"="+E:"";BW.xt16+=I?"&mt"+BI+"="+I:"";BW.xt16+=G?"&mtht"+BI+"="+G:"";BW.xt16+=C?"&dsc"+BI+"="+C:"";BW.xt16+=A?"&dscht"+BI+"="+A:"";BW.xt16+=D?"&roimt"+BI+"="+D:"";BW.xt16+=B?"&pcode"+BI+"="+B:""};window.xt_addProduct_load=function(C,B,A){B&&(o++,BW.xt44+=1==o?"&pdtl=":"|",BW.xt44+=C?C+"::":"",BW.xt44+=B,BW.xt44+=A?";"+A:"")};"function"==typeof xt_cart?xt_cart():BW.xt16="";window.xt_ParseUrl=function(C,A,B){AT_hit.sendTag(B?"F":"old",A)};window.xt_ParseUrl3=function(E,B,C,A,D){AT_hit.sendTag("&ati="==D?"AT":"PDT",B,null,"&type="+("&ati="==D?"AT":"PDT"))};window.AT_click={id:0,objs:[],elem:function(G,I,E,H,F,C,A,B){var D={};D.urlDest=F;D.type=G;D.n2=I;D.label=E;D.typeClick=H;D.target=C;D.submit=!1!==F;D.redir=!BT(A)?!0:A;D.xtcust=BT(B)?"&stc="+By(B):"";return D},addListener:function(C,A,B){window.addEventListener?C.addEventListener(A,B,!1):window.attachEvent&&C.attachEvent("on"+A,B)},tag:function(J,G,F,I,H,C,A,D,E){if(J&&"function"==typeof J.setAttribute){this.addElem(J,G,F,I,H,C,A,D,E)}else{if("object"==typeof J){for(var B in J){J.hasOwnProperty(B)&&"function"==typeof J[B].setAttribute&&this.addElem(J[B],G,F,I,H,C,A,D,E)}}}},addElem:function(I,F,E,H,G,B,C,D,A){this.id++;I.setAttribute("data-xtclickid",this.id);this.objs[this.id]=this.elem(F,E,H,G,B,C,D,A);"FORM"!=I.nodeName?this.addListener(I,"click",this.on_click_submit):this.addListener(I,"submit",this.on_click_submit)},on_click_submit:function(I){try{var F=I.target||I.srcElement,E=F.getAttribute("data-xtclickid"),H={},G="",B=I.defaultPrevented,C=window.AT_click;if(!E){for(var D=F.parentNode;D;){if(D.getAttribute("data-xtclickid")){E=D.getAttribute("data-xtclickid");break}D=D.parentNode}}E&&(H=C.objs[E],"AT"!=H.type?G+="&p="+H.label+("C"==H.type?"&clic="+H.typeClick+H.xtcust:""):"AT"==H.type&&(G+="&type=AT&atc="+H.label+H.xtcust),B4(H.type,"&s2="+H.n2+G),!B&&H.redir&&(I.preventDefault(),"FORM"!=F.nodeName?C.do_navig(F,H.urlDest,H.target):C.do_submit(F,null,H.submit)))}catch(A){}},do_navig:function(G,E,D,A){var F=null;if("A"!=G.nodeName){for(var B=G.parentNode;B;){if("A"==B.nodeName){F=B;break}B=B.parentNode}}else{F=G}if(F){if(F.target=D||G.target||"_self",F.href=E||G.href||F.href,!A||A&&!Bq){if(0>F.href.indexOf("mailto:")){var C=F.href.split('"').join('\\"');if("_self"==F.target.toLowerCase()){if(setTimeout('self.location.href="'+C+'"',BW.xttredir),A){return !1}}else{if("_top"==F.target.toLowerCase()){if(setTimeout('top.location.href="'+C+'"',BW.xttredir),A){return !1}}else{if("_parent"==F.target.toLowerCase()){if(setTimeout('parent.location.href="'+C+'"',BW.xttredir),A){return !1}}else{if("_blank"==F.target.toLowerCase()&&(setTimeout('(xw.open("'+C+'","_blank")).focus();',1),A)){return !1}}}}}else{if(setTimeout('AT_click.mail_to("'+C+'");',BW.xttredir),A){return !1}}}}else{if(E||G.href){if(E=E?E:G.href,0>E.indexOf("mailto:")){if("_blank"==D){setTimeout('(xw.open("'+E.split('"').join('\\"')+'","_blank")).focus();',1)}else{if(setTimeout('self.location.href="'+E.split('"').join('\\"')+'"',BW.xttredir),A){return !1}}}else{if(setTimeout('AT_click.mail_to("'+E.split('"').join('\\"')+'");',BW.xttredir),A){return !1}}}}if(A){return Bq=!1,!0}},do_submit:function(A,C,B){if(B&&(setTimeout(function(){A.submit()},500),C&&B)){return !1}},mail_to:function(A){window.location=A}};window.AT_hit={first:!0,referrer:("acc_dir"==BR("xtref")?"":null!==BR("xtref")?BR("xtref"):"acc_dir"==BM("xtref")?"":BM("xtref")||Ao.replace(/[<>]/g,"")||"").replace(/[<>]/g,"").substring(0,1600),parse:function(L,I,H,K){var J=[""];if(1600>=I.length){J[0]=I}else{L=AT_hit.first&&"F"==L?AT:AT.substring(0,6)+Bi(8);var G="",E="",C,D={};C=[];var F=0;0<=I.indexOf("&ref=")&&(G=I.substring(I.indexOf("&ref=")),I=I.replace(G,""));if(K){for(var A in K){if(K.hasOwnProperty(A)&&0<=I.indexOf("&"+A+"=")&&1600<(E=BR(A,I,2)).length){I=I.replace("&"+A+"="+E,""),C=RegExp("["+K[A]+"]","gi"),D[A]=E.replace(/&/g,"%26").split(C)}}}C=RegExp("["+H+"]","gi");C=I.split(C);for(var M in C){C.hasOwnProperty(M)&&(1600>=J[F].length+C[M].length+1?J[F]+=""!==C[M]?"&"+C[M]:"":(J.push(""),F++,J[F]=1600>C[M].length?J[F]+(""!==C[M]?"&"+C[M]:""):J[F]+("&mherr=1&"+C[M].substring(0,1600))))}for(var B in D){if(D.hasOwnProperty(B)){I="&"+B+"=";H=!1;A=D[B].length;for(M=0;M<A;M++){1600>=J[F].length+D[B][M].length+1?(H||(J[F]+=I,H=!0),J[F]+=""!==D[B][M]?D[B][M]+("stc"===B&&A-1===M?"":K[B]):""):(J.push(I),H=!0,F++,J[F]=1600>D[B][M].length?J[F]+(""!==D[B][M]?D[B][M]+("stc"===B&&A-1===M?"":K[B]):""):J[F]+("mherr=1"+K[B]))}}}G&&(1600>=J[F].length+G.length||(J.push(""),F++),J[F]+=G);for(K=0;K<J.length;K++){J[K]="&mh="+(K+1)+"-"+J.length+"-"+L+J[K]}}return J},sendTag:function(E,C,B,A){var D=[];B=B||d+CU;B+=BW.xtfirst?"&idclient="+B2:"";E=E||"F";C=C||BG;C+=(A?A:"")+"&vtag="+AS+AT_hit.localHour()+AT_hit.resolution();AT_hit.first&&"F"==E&&(C+=Ay?"&stc="+Ay:"",C+="&ref="+AT_hit.referrer.replace(/&/g,"$"));"C"===E&&(C+="&pclick="+Bv+"&s2click="+(BT(BW.xtn2)?BW.xtn2:""));D=AT_hit.parse(E,C,"&",{ati:",",atc:",",pdtl:"|",stc:",",dz:"|"});for(C=0;C<D.length;C++){AT_hit.loadImage(B+D[C])}AT_hit.first&&("F"==E&&""!==Aw)&&AT_hit.loadFile("script",Aw,!0,"text/javascript");"F"==E&&(AT_hit.first=!1)},loadImage:function(A){var B=new Image;B.src=A;Au.sentHits instanceof Array&&Au.sentHits.push(A);B.onload=function(){B.onload=null}},loadFile:function(B,D,C,A,E){B=document.createElement(B);B.type=A;B.async=C;B.src=D;(E||document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(B,null)},localHour:function(A){A=A?A:new Date;return"&hl="+A.getHours()+"x"+A.getMinutes()+"x"+A.getSeconds()},resolution:function(){if(4<=parseFloat(BJ.appVersion)){try{var A;A="undefined"!==typeof window.devicePixelRatio?window.devicePixelRatio:1;return"&r="+Aq.width*A+"x"+Aq.height*A+"x"+Aq.pixelDepth+"x"+Aq.colorDepth}catch(B){}}return""},prerenderDisplaying:function(){AT_hit.first&&(AT_hit.sendTag("F"),""!==xt44&&AT_hit.sendTag("PDT",xt44,null,"&type=PDT&p="+Bv+(BW.xt_pageID?"&pid="+BW.xt_pageID+"&pchap="+(BW.xt_chap||"")+"&pidt="+(BW.xt_pageDate||""):"")))},isPreviewOrPrerendering:function(){return window.navigator&&"preview"===window.navigator.loadPurpose&&-1!=BJ.userAgent.indexOf("Safari")&&0>BJ.userAgent.indexOf("Chrome")?(AB&&(AT_hit.sendTag("F",null,null,"&pvw=1"),""!==xt44&&AT_hit.sendTag("PDT",xt44,null,"&type=PDT&p="+Bv+(BW.xt_pageID?"&pid="+BW.xt_pageID+"&pchap="+(BW.xt_chap||"")+"&pidt="+(BW.xt_pageDate||""):""))),!0):"prerender"==BQ.webkitVisibilityState?(BQ.addEventListener("webkitvisibilitychange",AT_hit.prerenderDisplaying,!1),!0):!1}};if(0!==Bw||0!==B1||Bu){var Bg="";if(""!==Bz){Bg=BM("xtvid");Bg||(AJ=Bg=BH.getTime()+""+Bi(6));var AL=new Date;AL.setMinutes(AL.getMinutes()+30);BP("xtvid",Bg,AL,"",1)}window.xtvid=Bg;var b=Xtconf.xtsite("xtor"),AE=Xtconf.xtsite("xtdate"),CO=Xtconf.xtsite("xtocl"),n=Xtconf.xtsite("xtan"),CV=Xtconf.xtsite("xtat"),Bf=Xtconf.xtsite("xtant"),Br=BR("xtor"),CN=BR("xtdt"),BF=BR("xtan"),BE=BR("xtat"),CB=BR("an",BN),BY=BR("at",BN),CC=BR("ac",BN),BZ=BM(CO),BA=BM("xtgo"),A1=BM("xtord"),BB=BM("xtvrn"),Be=null!==BZ?BZ:"$",CQ="0"===BA?A1:null,As=null!==BA?BA:"0",Af=null!==BB?BB:"$",A2=BH.getTime()/60000,Bd=null!==CN&&(BR("xts")==Bw||Bu)?30>A2-CN&&0<=A2-CN?"2":"1":As,CE="1"==As?"&pgt="+A1:"1"==Bd&&null!==Br?"&pgt="+Br:"",Bp=null!==Ap?Ap:null!==Br&&"0"==Bd?Br:!Bu?CQ:null,Bp=0>Be.indexOf("$"+Bp+"$")||"$"==Be?Bp:null,B5="0"==Bd?Bp:"2"==As?A1:"2"==Bd?Br:null,Bo,Ah;null!==B5?(Ah=B5.substring(0,B5.indexOf("-")),Bo=B7[Ah]):Bo="1";if(null===Bo||!BT(Bo)){Bo=B7.ad}null===BF&&!Bu&&(BF=BM("xtanrd"));null===BE&&!Bu&&(BE=BM("xtatrd"));var At=BM(n),Ai=BM(CV),AV=BM(Bf),B6=new Date,BC=window.xt29=new Date,AX=new Date;Bu?B6.setTime(B6.getTime()+30000):B6.setTime(B6.getTime()+86400000*Bo);AX.setTime(AX.getTime()+1800000);BC.setTime(BC.getTime()+86400000*Ac);var AP=null!==BF?BF.indexOf("-"):0,AH=null!==BE?BE.indexOf("-"):0,AY=null!==CB?"":null!==BF&&0<AP?"&ac="+BF.substring(0,AP)+"&ant=0&an="+BF.substring(AP+1,BF.length):null!==At?"&anc="+At+"&anct="+AV:"",Bl=null!==BY?"":null!==BE&&0<AH?"&ac="+BE.substring(0,AH)+"&ant=0&at="+BE.substring(AH+1,BE.length):null!==Ai?"&attc="+Ai+"&anct="+AV:"",Bt=0>Af.indexOf("$"+Bw+"$")?"&vrn=1":"",BK=null!==BR("xtatc")&&null===BR("atc",BN)?"&atc="+BR("xtatc"):"";""!==Bt&&BP("xtvrn",141>Af.length?Af+Bw+"$":Af.substring(0,141),BC,BO,0);Bt+=null===Bp?"":"&xto="+Bp;Bt+=(""!==AY?AY:Bl)+CE+BK;null!==CB?(BP(n,CC+"-"+CB,BC,BO,1),BP(Bf,"1",BC,BO,1)):null!==BF&&"1"!=AV&&(BP(n,BF,BC,BO,1),BP(Bf,"0",BC,BO,1));null!==BY?(BP(CV,CC+"-"+BY,BC,BO,1),BP(Bf,"1",BC,BO,1)):null!==BE&&"1"!=AV&&(BP(CV,BE,BC,BO,1),BP(Bf,"0",BC,BO,1));var AA=BM(b),CL=BM(AE),CL=(/[a-zA-Z]/.test(CL)?(new Date(CL)).getTime()/3600000:parseFloat(BM(AE)))||(new Date).getTime()/3600000,A4=0<=Math.floor(AU-CL)?Math.floor(AU-CL):0,Bt=Bt+(null===AA?"":"&xtor="+AA+"&roinbh="+A4);if(Bu){BP("xtgo",Bd,B6,BO,1),null!==Br&&BP("xtord",Br,B6,BO,1),null!==BF&&BP("xtanrd",BF,B6,BO,1),null!==BE&&BP("xtatrd",BE,B6,BO,1),BP("xtref",AT_hit.referrer?AT_hit.referrer.replace(/&/g,"$"):"acc_dir",B6,BO,0),BT(BW.xtloc)&&(Bj.location=BW.xtloc)}else{null!==B5&&(0>Be.indexOf("$"+encodeURIComponent(B5)+"$")||"$"==Be)&&BP(CO,Be+B5+"$",AX,BO,1);var AN=BJ.appName+" "+BJ.appVersion,Bn=AN.indexOf("MSIE"),Bk;0<=Bn?(Bk=parseInt(AN.substr(Bn+5)),Bn=!0):(Bk=parseFloat(BJ.appVersion),Bn=!1);var Av=0<=AN.indexOf("Netscape"),Ak=0<=AN.indexOf("Mac"),e=0<=BJ.userAgent.indexOf("Opera"),AF="",AQ="",CR="",CF="";if(Bn&&5<=Bk&&!Ak&&!e&&!Bu){try{BQ.body.addBehavior("#default#clientCaps"),AF="&cn="+BQ.body.connectionType,AF+="&ul="+BQ.body.UserLanguage,BQ.body.addBehavior("#default#homePage"),AQ=BQ.body.isHomePage(location.href)?"&hm=1":"&hm=0",CF="&re="+BQ.body.offsetWidth+"x"+BQ.body.offsetHeight}catch(Ax){}}else{5<=Bk&&(CF="&re="+BW.innerWidth+"x"+BW.innerHeight)}Av&&4<=Bk||e?CR="&lng="+BJ.language:Bn&&(4<=Bk&&!e)&&(CR="&lng="+BJ.userLanguage);BP("xtord","",BH,BO,1);if(null!==B5&&(null===AA||"1"==Am)){BP(b,B5,B6,BO,1),BP(AE,BH.getTime()/3600000,B6,BO,1)}var B8=CG?"&docl="+encodeURIComponent(Bj.location.href.replace(/&/g,"#ec#")):"",BG=k+"&p="+Bv+CM+CA+BX+Bt+B8+A9+BN+AF+AQ+CR+"&idp="+AT,Bm=BM("xtvalCZ",1);if(null!==Bm){var BG=BG+Bm.replace("&c=","&current=").replace("&b=","&before=").replace("&a=","&after="),BL=new Date;BL.setTime(BL.getTime()-3600000);BP("xtvalCZ",Bm,BL,BO,1)}var d=window.Xt_id=AK+"?",r=BM("xtide");if(null!==B5){switch(Ah.toLowerCase()){case"erec":case"epr":case"es":var c=null;try{var CP=B5.match(/(\[[^\]]*\])|([^\-]+)|(-)/g),AI=0,CD;for(CD in CP){"-"==CP[CD]&&AI++,5==AI&&"-"!=CP[CD]&&(c=CP[CD])}}catch(An){c=null}null!==c&&(r=c,BP("xtide",r,BC,"",1))}}BG+="&jv="+(BJ.javaEnabled()?"1":"0")+CF+xt16+(null!==r?"&ide="+r:"");AJ&&(BG+="&lnk="+Bz+"&vid="+AJ);"0"!=CK&&!AT_hit.isPreviewOrPrerendering()&&(AT_hit.sendTag("F"),""!==xt44&&AT_hit.sendTag("PDT",xt44,null,"&type=PDT&p="+Bv+(BW.xt_pageID?"&pid="+BW.xt_pageID+"&pchap="+(BW.xt_chap||"")+"&pidt="+(BW.xt_pageDate||""):"")))}}0<A3&&"function"==typeof xtNodesload&&(CS?BW.addEventListener?BW.addEventListener("load",xtNodesload,!1):BW.attachEvent&&BW.attachEvent("onload",xtNodesload):xtNodesload())};window.attag=new Xtcore;var GeoRSSLayer=function(E,J,A){var O=null,F=$.extend(true,{},E),H=$.extend(true,{},J),B=$.extend(true,{},A),N=[];function D(Q){var P=new Microsoft.Maps.EntityCollection();$(Q).find("item").each(function(){var R=I($(this));if(R!=null){P.push(R)}});$(Q).find("entry").each(function(){var R=I($(this));if(R!=null){P.push(R)}});if(O!=null){O(P)}}function I(Q){var X=null;var W,Y,V,U,T,S,Z=false;var R=null;Q.children().each(function(){var b=this.tagName.toLowerCase();switch(b){case"title":W=$(this).text();break;case"content":case"summary":case"description":Y=$(this).text();break;case"icon":case"mappoint:icon":V=$(this).text();break;case"link":U=$(this).text();break;case"geo:lat":var g=parseFloat($(this).text());if(X==null){X=g}else{X=new Microsoft.Maps.Location(g,X);N.push(X);R=new Microsoft.Maps.Pushpin(X);Z=true}break;case"geo:lon":case"geo:long":var g=parseFloat($(this).text());if(X==null){X=g}else{X=new Microsoft.Maps.Location(X,g);N.push(X);R=new Microsoft.Maps.Pushpin(X);Z=true}break;case"geo:point":var e,f;Q.children().each(function(){if(this.tagName.toLowerCase()=="geo:lat"){e=parseFloat($(this).text())}else{if(this.tagName.toLowerCase()=="geo:long"){f=parseFloat($(this).text())}}});if(e!=null&&f!=null){X=new Microsoft.Maps.Location(e,f);N.push(X);R=new Microsoft.Maps.Pushpin(X);Z=true}break;case"georss:point":X=C($(this).text());if(X!=null){N.push(X);R=new Microsoft.Maps.Pushpin(X);Z=true}break;case"georss:line":X=K($(this).text(),2);if(X!=null&&X.length>=2){N=N.concat(X);R=new Microsoft.Maps.Polyline(X,H)}break;case"georss:polygon":X=K($(this).text(),2);if(X!=null&&X.length>=3){N=N.concat(X);R=new Microsoft.Maps.Polygon(X,B)}break;case"georss:where":var a=M(this.firstChild);R=a.shape;Z=a.isPushpin;break;case"georss:circle":var d=$.trim($(this).text().replace(/,/g," ").replace(/[\s]{2,}/g," ")).split(" ");if(d.length>2){X=geoTools.GenerateRegularPolygon(new Microsoft.Maps.Location(parseFloat(d[0]),parseFloat(d[1])),parseFloat(d[2]),geoTools.Constants.EARTH_RADIUS_METERS,25,0);N=N.concat(X);R=new Microsoft.Maps.Polygon(X,B)}break;case"dc:subject":T=$(this).text();break;case"dc:type":S=$(this).text();break;default:if(b.match("^gml:")=="gml:"){var a=M(this);R=a.shape;Z=a.isPushpin}break}});if(R!=null){R.Metadata={title:W,description:Y,icon:V,link:U,subject:T,type:S};var P=F;if(Z&&S!=null&&S!=""){P.typeName=S.split("/")[1]}R.setOptions(P)}return R}function M(S){var T=null,R=false;if(S!=null&&S.tagName==null){if(S.nextSibling.tagName!=null){S=S.nextSibling}else{S==null}}if(S!=null){switch(S.tagName.toLowerCase()){case"gml:point":var V=null;$(S).children().each(function(){if(this.tagName.toLowerCase()=="gml:pos"||this.tagName.toLowerCase()=="gml:coordinates"){V=C($(this).text())}});if(V!=null){N.push(V);T=new Microsoft.Maps.Pushpin(V);R=true}break;case"gml:linestring":var P=[];$(S).children().each(function(){var W=G(this);if(W!=null&&W.length>=2){P.push(W)}});if(P.length>0){N.concat(P);T=new Microsoft.Maps.Polyline(P[0],H)}break;case"gml:polygon":var U=[],Q=[];$(S).children().each(function(){switch(this.tagName.toLowerCase()){case"gml:exterior":case"gml:outerboundaryis":var W=L(this);if(W!=null&&W.length>=3){U=W}break;case"gml:interior":case"gml:innerboundaryis":var W=L(this);if(W!=null&&W.length>=3){Q.push(W)}break}});if(U.length>0){N.concat(U);T=new Microsoft.Maps.Polygon(U,B)}break;break;default:break}}return{shape:T,isPushpin:R}}function L(P){var Q=null;$(P).children().each(function(){if(this.tagName.toLowerCase()=="gml:linearring"){$(this).children().each(function(){var R=G(this);if(R!=null&&R.length>=3){Q=R}})}});return Q}function G(P){if(P.tagName.toLowerCase()=="gml:poslist"||P.tagName.toLowerCase()=="gml:coordinates"){var Q=$(P).attr("dimension");if(Q!=null&&Q!=""){Q=parseInt(Q);if(Q==null||Q<1){Q=2}}else{Q=2}return K($(P).text(),Q)}return null}function K(Q,S){if(S==null||S<1){S=2}var P=$.trim(Q.replace(/,/g," ").replace(/[\s]{2,}/g," ")).split(" ");if(P.length>1){var T=[];for(var R=0;R<P.length;R=R+S){T.push(new Microsoft.Maps.Location(parseFloat(P[R]),parseFloat(P[R+1])))}return T}return null}function C(Q){var P=$.trim(Q.replace(/,/g," ").replace(/[\s]{2,}/g," ")).split(" ");if(P.length>1){return new Microsoft.Maps.Location(parseFloat(P[0]),parseFloat(P[1]))}return null}this.LoadGeoRSS=function(P,Q){O=Q;_bounds=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(0,0),360,180);$.ajax({type:"GET",url:P,dataType:"xml",success:function(R){D(R)},error:function(T,R,S){alert(S.description)}})};this.GetBounds=function(){if(N!=null&&N.length>0){return Microsoft.Maps.LocationRect.fromLocations(N)}return null}};var InitializeAllMaps=function(I){if(typeof Microsoft=="undefined"||(!Microsoft.Maps)){return false}var A={credentials:"Aj2JmEvd2E3AiNBYq90sP9UffOVTv9K6ZWYGqfTGnIVeuhlhgNCVNXm8aM1PlGNB",center:new Microsoft.Maps.Location(52.508472,13.275223),mapTypeId:Microsoft.Maps.MapTypeId.road,zoom:13,showDashboard:true,showMapTypeSelector:true,showScalebar:true,showBreadcrumb:false,enableSearchLogo:false,enableClickableLogo:false,disableKeyboardInput:true,helpURL:"http://www.rbb-online.de/hilfe/bing_maps.html",infoboxMore:"Mehr Infos",mapControlLinks:true,shapePath:"/static/rbb/bingmaps/BerlinBrandenburg/Georss/{shape}.rss.xml",pushpinsZ:99,shapesZ:0,linkTargetBlank:false,route:false,clustering:true,filters:false,pushpinOptions:{icon:"/content/dam/rbb/rbb/layout/bing_map_grafiken/rbbPin.png",width:34,height:48,anchor:new Microsoft.Maps.Point(17,48)},polygonOptions:[{strokeColor:new Microsoft.Maps.Color(128,153,0,0),fillColor:new Microsoft.Maps.Color(128,128,128,128)},{strokeColor:new Microsoft.Maps.Color(128,153,0,0),fillColor:new Microsoft.Maps.Color(128,128,128,128)},{strokeColor:new Microsoft.Maps.Color(128,153,0,0),fillColor:new Microsoft.Maps.Color(128,128,128,128)}],routeOptions:{strokeColor:new Microsoft.Maps.Color(255,153,0,0),strokeThickness:4,strokeDashArray:"3 2 3 2",visible:true},clusteringOptions:{gridSize:20,info:"Hier gibt es {n_items} Einträge",pushpinOptions:{typeName:"pushpinCluster",icon:"/content/dam/rbb/rbb/layout/bing_map_grafiken/rbbPinCluster.png",width:43,height:60,anchor:new Microsoft.Maps.Point(21,60),textOffset:new Microsoft.Maps.Point(0,14)}}};var J=window.LOCAL_MAP_DEFAULTS||{};var H=window.LOCAL_MINIMAL_MAP_DEFAULTS||{};var C='<div class="infobox"><a class="infobox_close" title="Infobox schließen" href="javascript:void(0);">Infobox schließen</a><div class="infobox_content">{content}</div><div class="arrow"></div></div>';var O='<div class="infobox clustered"><a class="infobox_close" title="Infobox schließen" href="javascript:void(0);">Infobox schließen</a><p class="contains">{clusterInfo} (<span class="itemCounter">{item_counter}</span>)</p><div class="infobox_content">{content}</div><div class="arrow"></div></div>';var D="Ausschnitt zurücksetzen";var P="Hilfe zur Karte";var N=5;var G=[];var L=0;var M=(Modernizr.touch&&!!window.matchMedia&&window.matchMedia("(max-width:479px)").matches);function B(l){var r=$(this);if(r.hasClass("initialized")){return }var f="map_"+L+"_"+l;r.attr("id",f);r.wrap('<div class="mapContainer"></div>');var V=r.closest(".mapContainer");var o=r.data("map-feed");var c=r.data("map-options");var X=(r.parents(".accordion_body").length||r.parents(".tab_content").length);var j=null;if(X){j=r.closest("li").find(".js_extend");if(!j.length){j=r.closest(".layouttabbedteasermodule").find(".tab_navigation li").eq(r.closest("li").index()).children("a")}}if(r.parents("#rightcol").length||r.parents(".layoutgrey_short").length||r.parents(".layoutblack_short").length){r.addClass("minimal")}var T=r.hasClass("minimal");var n={};if(T){n=$.extend(true,{},A,J,H,c)}else{n=$.extend(true,{},A,J,c)}var p=new Microsoft.Maps.Map(r[0],n);var q=new Microsoft.Maps.EntityCollection();q.setOptions({zIndex:n.pushpinsZ});p.entities.push(q);var d=0;var k={};if(o){Q(o)}if(n.shapes){R(n.shapes)}if(n.mapControlLinks){e()}r.addClass("initialized");Microsoft.Maps.Events.addHandler(p,"click",h);Microsoft.Maps.Events.addHandler(p,"viewchangestart",E);G.push(p);function Q(t){var i=new GeoRSSLayer(n.pushpinOptions);i.LoadGeoRSS(t,s);function s(u){Z(u);if(u.getLength()<1){return }d=u.getLength();k=i.GetBounds();if(n.filters){S(u)}Y(u)}}function Z(s){var u;var t=s.getLength();while(t--){u=s.get(t).getLocation();if(isNaN(u.latitude)||isNaN(u.longitude)){s.removeAt(t)}}}function Y(i){q.clear();if(n.clustering){m(i);Microsoft.Maps.Events.addHandler(p,"viewchangeend",function(s){m(i)})}else{q.push(i)}if(X&&j){j.click(function(){setTimeout(function(){var s=r.width();var t=r.height();p.setOptions({width:s,height:t});if(n.clustering){m(i)}U()},1000)})}if(n.route){W(n.route,i)}U()}function m(z){q.clear();var y=n.clusteringOptions.gridSize;var AH=p.getWidth();var AC=p.getHeight();var x=parseInt(Math.ceil(AH/y));var AA=parseInt(Math.ceil(AC/y));var v=new Array(x*AA);var AB=z.getLength();var AG,u,AI,AE,AF,AJ,w,t,s;AG=AB;while(AG--){AI=z.get(AG);if(!AI.getVisible()){continue}u=p.tryLocationToPixel(AI.getLocation(),Microsoft.Maps.PixelReference.control);if(u&&u.x<=AH&&u.y<=AC&&u.x>=0&&u.y>=0){AE=Math.floor(u.x/y);AF=Math.floor(u.y/y);AJ=AE+AF*x;if(v[AJ]==null){v[AJ]=[]}v[AJ].push(AI);AI.GridKey=AJ}else{AI.GridKey=-1}}AG=v.length;while(AG--){if(v[AG]!=null){switch(v[AG].length){case 1:w=v[AG][0];w.setOptions(n.pushpinOptions),w.isClustered=false;break;default:t=AD(v[AG],AG);w=new Microsoft.Maps.Pushpin(t);s=$.extend(true,{},n.clusteringOptions.pushpinOptions,{text:""+v[AG].length});w.setOptions(s);w.isClustered=true;w.containedPushpins=v[AG];break}w.GridKey=AG;q.push(w)}}function AD(AK,AM){var AN=0,AP=0,AO;var AL=AK.length;while(AL--){AO=AK[AL].getLocation();AN+=AO.latitude;AP+=AO.longitude}return new Microsoft.Maps.Location(AN/AK.length,AP/AK.length)}}function W(i,s){Microsoft.Maps.loadModule("Microsoft.Maps.Directions",{callback:t});function t(){var v=new Microsoft.Maps.Directions.DirectionsManager(p);var z=Microsoft.Maps.Directions.RouteMode.driving;if(typeof i=="string"){switch(i.toLowerCase()){case"transit":z=Microsoft.Maps.Directions.RouteMode.transit;break;case"walking":z=Microsoft.Maps.Directions.RouteMode.walking;break}}var y={};var x={};var u={};var w=s.getLength();while(w--){y=s.get(w);x=y.getLocation();u=new Microsoft.Maps.Directions.Waypoint({location:x});v.addWaypoint(u)}v.setRequestOptions({routeDraggable:false,routeMode:z});v.setRenderOptions({autoUpdateMapView:false,displayRouteSelector:false,drivingPolylineOptions:n.routeOptions,walkingPolylineOptions:n.routeOptions,transitPolylineOptions:n.routeOptions,waypointPushpinOptions:{visible:false}});v.calculateDirections()}}function R(u){if($.isArray(u)){for(var t=0;t<u.length;t++){v(u[t],t)}}else{v(u)}function v(AA,y){y=y||0;var x=new GeoRSSLayer({},{},n.polygonOptions[y]);var w=AA.split(" ");var AC="";for(var z=0;z<w.length;z++){AC=n.shapePath.replace("{shape}",w[z]);x.LoadGeoRSS(AC,AB)}function AB(i){i.setOptions({zIndex:n.shapesZ});p.entities.push(i)}}}function h(x){var z={};var s={};var v="";var u={};var t=0;switch(x.targetType){case"pushpin":if(!x.target.isNotClickable){z=x.target;if(z.isClustered){v='<ul class="itemPager"><a href="javascript:void(0);" class="itemBwd" alt="zurück">zurück</a><a href="javascript:void(0);" class="itemFwd" alt="weiter">weiter</a></ul>';v+='<ul class="itemList">';t=z.containedPushpins.length;while(t--){s=z.containedPushpins[t];if(s.Metadata){v+=y(s.Metadata,true)}}v+="</ul>";v=O.replace("{content}",v);v=v.replace("{clusterInfo}",n.clusteringOptions.info);v=v.replace("{n_items}",z.containedPushpins.length);v=v.replace("{item_counter}","1/"+z.containedPushpins.length);u=$(v);w(u)}else{v=y(z.Metadata);v=C.replace("{content}",v);u=$(v)}}break;default:break}if(!!u.length){F.empty().append(u);AA(u)}function AA(AI){var AC=r.offset();var AK=r.height();var AH=r.width();var AP=p.tryLocationToPixel(z.getLocation());var AG=z.getHeight();var AM=AI.outerHeight(false);var AJ=AI.outerWidth(false);var AF=$(window).width();var AB=$(window).height();var AE=$(window).scrollTop();var AD=AE+AB;var i="";var AO=parseInt(AC.left+(AH/2)+AP.x);var AN=parseInt(AC.top+(AK/2)+AP.y-AM-AG);var AL=15;if(M){i+="mobile ";AN=parseInt(AC.top+(AK/2)+AP.y-AG);AM=AN-AE-AL;AI.css({top:AE+"px"});if(AM+AL+AG/2<AB/2){i+="bottom ";AN=AN+AG+AL;AM=AD-AN;AI.css({top:AN+"px"})}AI.css({height:AM+"px"}).addClass(i);K(".infoboxContainer .infobox.mobile::after","left:"+AO+"px")}else{if(AO+AJ+N>AF){AO-=AJ;i+="left "}if((AN-N<AE)||AN+AM<AC.top){AN+=AM+AG;i+="bottom "}AI.css({left:AO+"px",top:AN+"px"}).removeClass("left bottom").addClass(i)}}function y(AC,AB){var i="";var AE=AB?"li":"div";var AD=(n.linkTargetBlank||AC.subject=="blank")?'target="_blank" ':"";if(!AC.title){return i}i="<"+AE+' class="item">';i+='<h5 class="itemTitle">'+AC.title+"</h5>";if(AC.description){i+='<p class="itemDescr">'+AC.description+"</p>"}if(AC.link){i+='<p class="itemLink"><a '+AD+'href="'+AC.link+'">'+n.infoboxMore+"</a></p>"}i+="</"+AE+">";return i}function w(AF){var AG=AF.find(".itemPager a.itemBwd");var AD=AF.find(".itemPager a.itemFwd");var AB=AF.find(".itemList .item");var i=AB.length;var AC=AF.find(".itemCounter");AB.not(":first").hide();AD.click(function(){AE()});AG.click(function(){AE(true)});function AE(AJ){var AI=AB.filter(":visible:first");AI.hide();var AH=AJ?AI.prev():AI.next();if(!AH.length){if(AJ){AH=AB.last()}else{AH=AB.first()}}AC.text((AB.index(AH)+1)+"/"+i);AH.show();AA(AF);return false}}}function e(){var i=$('<a class="map_reset" href="javascript:void(0);">'+D+"</a>").click(U);var t=$('<a class="map_help" href="'+n.helpURL+'">'+P+"</a>");var s=i.add(t).appendTo(V)}function S(u){var z=[];var s=0;z["technisch:veranstaltungen/ausstellung"]={wording:"Ausstellungen",classname:"maps_ausstellungen",n:0};z["technisch:veranstaltungen/buehne"]={wording:"Bühne",classname:"maps_buehne",n:0};z["technisch:veranstaltungen/event"]={wording:"Events",classname:"maps_events",n:0};z["technisch:veranstaltungen/festival"]={wording:"Festivals",classname:"maps_festivals",n:0};z["technisch:veranstaltungen/hoerspiel"]={wording:"Hörspiele",classname:"maps_hoerspiele",n:0};z["technisch:veranstaltungen/kinder"]={wording:"Kinder",classname:"maps_kinder",n:0};z["technisch:veranstaltungen/konzert"]={wording:"Konzerte",classname:"maps_konzert",n:0};z["technisch:veranstaltungen/musical"]={wording:"Musicals",classname:"maps_musicals",n:0};z["technisch:veranstaltungen/oper"]={wording:"Oper",classname:"maps_oper",n:0};z["technisch:veranstaltungen/party"]={wording:"Partys",classname:"maps_partys",n:0};z["technisch:veranstaltungen/theater"]={wording:"Theater",classname:"maps_theater",n:0};var x;var w=u.getLength();while(w--){x=u.get(w).Metadata.type;if(x&&z[x]){z[x].n++;s++}}if(s){var y=$('<form class="filters" action="javascript:void(0);"/>');var v=$("<ul />");for(var t in z){if(z[t].n){b(t,z[t].classname,z[t].wording).appendTo(v)}}v.appendTo(y);y.change(function(){g(u,a($(this)[0]));if(n.clustering){m(u)}});y.prependTo(V);r.addClass("filtered")}}function b(s,u,v){var t=Math.floor(Math.random()*9000000)+1000000;var i='<li class="{classname}"><input type="checkbox" name="'+f+'_filter" id="'+f+"_checkbox_"+t+'" value="{name}" checked="checked"> <label for="'+f+"_checkbox_"+t+'"><span class="ico ico_{classname}"></span> {wording}</label></li>';i=i.replace(/{classname}/g,u);i=i.replace(/{wording}/g,v);i=i.replace(/{name}/g,s);return $(i)}function a(u){var s=[];var t=u.length;while(t--){s[u[t].value]=u[t].checked}return s}function g(t,s){var w;var v;var u=t.getLength();while(u--){w=t.get(u);w.setOptions({visible:true});v=w.Metadata.type;if(v&&typeof s[v]!=="undefined"&&!s[v]){w.setOptions({visible:false})}}}function U(){var i=null;if(d<2){p.setView({bounds:k});p.setView({zoom:n.zoom})}else{if(k&&k.center){p.setView({bounds:k});setTimeout(function(){i=p.getZoom();if(i>2){i--}p.setView({zoom:i})},400)}}}}var F=$('<div class="infoboxContainer" />').appendTo("body");F.on("click",".infobox_close",E);$(window).on("resize",E);if(M){$(window).on("scroll",E)}function E(){F.empty()}var K=(function(){if(!document.styleSheets){return function(){}}var S=document.styleSheets;var R=null;if(S){var Q=S.length;while(Q--){if(document.styleSheets[Q].media&&document.styleSheets[Q].media.mediaText&&~document.styleSheets[Q].media.mediaText.indexOf("screen")){R=document.styleSheets[Q];if(R.insertRule&&R.cssRules){return function(T,U){R.insertRule(T+"{"+U+"}",R.cssRules.length)}}}}}return function(){}})();window.initializeMaps=window.initializeMaps||function(){var Q=$("."+I);Q.each(B);L++};initializeMaps();return G};$(function(){var A=new InitializeAllMaps("bingmap")});"undefined"===typeof jwplayer&&(jwplayer=function(){if(jwplayer.api){return jwplayer.api.selectPlayer.apply(this,arguments)}},jwplayer.version="6.12.4945",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(){var J={},L=Array.prototype,E=Object.prototype,N=L.slice,G=L.concat,M=E.toString,I=E.hasOwnProperty,F=L.map,O=L.forEach,K=L.filter,A=L.every,B=L.some,H=L.indexOf,E=Array.isArray,C=Object.keys,D=function(R){if(R instanceof D){return R}if(!(this instanceof D)){return new D(R)}},P=D.each=D.forEach=function(U,R,S){if(null==U){return U}if(O&&U.forEach===O){U.forEach(R,S)}else{if(U.length===+U.length){for(var W=0,T=U.length;W<T;W++){if(R.call(S,U[W],W,U)===J){return }}}else{for(var V=D.keys(U),W=0,T=V.length;W<T;W++){if(R.call(S,U[V[W]],V[W],U)===J){return }}}}return U};D.map=D.collect=function(S,U,R){var T=[];if(null==S){return T}if(F&&S.map===F){return S.map(U,R)}P(S,function(V,X,W){T.push(U.call(R,V,X,W))});return T};D.find=D.detect=function(S,U,R){var T;Q(S,function(V,X,W){if(U.call(R,V,X,W)){return T=V,!0}});return T};D.filter=D.select=function(S,R,T){var U=[];if(null==S){return U}if(K&&S.filter===K){return S.filter(R,T)}P(S,function(V,X,W){R.call(T,V,X,W)&&U.push(V)});return U};D.every=D.all=function(S,U,R){U||(U=D.identity);var T=!0;if(null==S){return T}if(A&&S.every===A){return S.every(U,R)}P(S,function(V,X,W){if(!(T=T&&U.call(R,V,X,W))){return J}});return !!T};var Q=D.some=D.any=function(S,U,R){U||(U=D.identity);var T=!1;if(null==S){return T}if(B&&S.some===B){return S.some(U,R)}P(S,function(V,X,W){if(T||(T=U.call(R,V,X,W))){return J}});return !!T};D.size=function(R){return null==R?0:R.length===+R.length?R.length:D.keys(R).length};D.after=function(R,S){return function(){if(1>--R){return S.apply(this,arguments)}}};D.sortedIndex=function(S,V,T,R){T=null==T?D.identity:D.isFunction(T)?T:D.property(T);V=T.call(R,V);for(var X=0,U=S.length;X<U;){var W=X+U>>>1;T.call(R,S[W])<V?X=W+1:U=W}return X};D.find=D.detect=function(S,U,T){var R;Q(S,function(V,X,W){if(U.call(T,V,X,W)){return R=V,!0}});return R};Q=D.some=D.any=function(S,U,T){U||(U=D.identity);var R=!1;if(null==S){return R}if(B&&S.some===B){return S.some(U,T)}P(S,function(V,X,W){if(R||(R=U.call(T,V,X,W))){return J}});return !!R};D.contains=D.include=function(R,S){if(null==R){return !1}R.length!==+R.length&&(R=D.values(R));return 0<=D.indexOf(R,S)};D.where=function(R,S){return D.filter(R,D.matches(S))};D.difference=function(R){var S=G.apply(L,N.call(arguments,1));return D.filter(R,function(T){return !D.contains(S,T)})};D.without=function(R){return D.difference(R,N.call(arguments,1))};D.indexOf=function(S,U,R){if(null==S){return -1}var V=0,T=S.length;if(R){if("number"==typeof R){V=0>R?Math.max(0,T+R):R}else{return V=D.sortedIndex(S,U),S[V]===U?V:-1}}if(H&&S.indexOf===H){return S.indexOf(U,R)}for(;V<T;V++){if(S[V]===U){return V}}return -1};D.partial=function(R){var S=N.call(arguments,1);return function(){for(var T=0,U=S.slice(),W=0,V=U.length;W<V;W++){U[W]===D&&(U[W]=arguments[T++])}for(;T<arguments.length;){U.push(arguments[T++])}return R.apply(this,U)}};D.memoize=function(S,T){var R={};T||(T=D.identity);return function(){var U=T.apply(this,arguments);return D.has(R,U)?R[U]:R[U]=S.apply(this,arguments)}};D.delay=function(R,T){var S=N.call(arguments,2);return setTimeout(function(){return R.apply(null,S)},T)};D.defer=function(R){return D.delay.apply(D,[R,1].concat(N.call(arguments,1)))};D.keys=function(S){if(!D.isObject(S)){return[]}if(C){return C(S)}var T=[],R;for(R in S){D.has(S,R)&&T.push(R)}return T};D.pick=function(R){var T={},S=G.apply(L,N.call(arguments,1));P(S,function(U){U in R&&(T[U]=R[U])});return T};D.isArray=E||function(R){return"[object Array]"==M.call(R)};D.isObject=function(R){return R===Object(R)};P("Arguments Function String Number Date RegExp".split(" "),function(R){D["is"+R]=function(S){return M.call(S)=="[object "+R+"]"}});D.isArguments(arguments)||(D.isArguments=function(R){return !(!R||!D.has(R,"callee"))});"function"!==typeof /./&&(D.isFunction=function(R){return"function"===typeof R});D.isFinite=function(R){return isFinite(R)&&!isNaN(parseFloat(R))};D.isNaN=function(R){return D.isNumber(R)&&R!=+R};D.isBoolean=function(R){return !0===R||!1===R||"[object Boolean]"==M.call(R)};D.isNull=function(R){return null===R};D.isUndefined=function(R){return void 0===R};D.has=function(R,S){return I.call(R,S)};D.identity=function(R){return R};D.constant=function(R){return function(){return R}};D.property=function(R){return function(S){return S[R]}};D.matches=function(R){return function(T){if(T===R){return !0}for(var S in R){if(R[S]!==T[S]){return !1}}return !0}};D.result=function(S,T){if(null!=S){var R=S[T];return D.isFunction(R)?R.call(S):R}};this._=D}.call(jwplayer),function(F){function G(I){return function(){return E(I)}}function B(I,K,M,L,J){return function(){var P,O;if(J){M(I)}else{try{if(P=I.responseXML){if(O=P.firstChild,P.lastChild&&"parsererror"===P.lastChild.nodeName){L&&L("Invalid XML",K,I);return }}}catch(N){}if(P&&O){return M(I)}(P=A.parseXML(I.responseText))&&P.firstChild?(I=A.extend({},I,{responseXML:P}),M(I)):L&&L(I.responseText?"Invalid XML":K,K,I)}}}var A=F.utils={},D=F._;A.exists=function(I){switch(typeof I){case"string":return 0<I.length;case"object":return null!==I;case"undefined":return !1}return !0};A.styleDimension=function(I){return I+(0<I.toString().indexOf("%")?"":"px")};A.getAbsolutePath=function(I,M){A.exists(M)||(M=document.location.href);if(A.exists(I)){var O;if(A.exists(I)){O=I.indexOf("://");var N=I.indexOf("?");O=0<O&&(0>N||N>O)}else{O=void 0}if(O){return I}O=M.substring(0,M.indexOf("://")+3);var N=M.substring(O.length,M.indexOf("/",O.length+1)),J;0===I.indexOf("/")?J=I.split("/"):(J=M.split("?")[0],J=J.substring(O.length+N.length+1,J.lastIndexOf("/")),J=J.split("/").concat(I.split("/")));for(var L=[],K=0;K<J.length;K++){J[K]&&(A.exists(J[K])&&"."!==J[K])&&(".."===J[K]?L.pop():L.push(J[K]))}return O+N+"/"+L.join("/")}};A.extend=function(){var I=Array.prototype.slice.call(arguments,0);if(1<I.length){for(var J=I[0],L=function(N,M){void 0!==M&&null!==M&&(J[N]=M)},K=1;K<I.length;K++){A.foreach(I[K],L)}return J}return null};var H=window.console=window.console||{log:function(){}};A.log=function(){var I=Array.prototype.slice.call(arguments,0);"object"===typeof H.log?H.log(I):H.log.apply(H,I)};var E=D.memoize(function(I){return null!==navigator.userAgent.toLowerCase().match(I)});A.isFF=G(/firefox/i);A.isChrome=G(/chrome/i);A.isIPod=G(/iP(hone|od)/i);A.isIPad=G(/iPad/i);A.isSafari602=G(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);A.isIETrident=function(I){return I?(I=parseFloat(I).toFixed(1),E(RegExp("trident/.+rv:\\s*"+I,"i"))):E(/trident/i)};A.isMSIE=function(I){return I?(I=parseFloat(I).toFixed(1),E(RegExp("msie\\s*"+I,"i"))):E(/msie/i)};A.isIE=function(I){return I?(I=parseFloat(I).toFixed(1),11<=I?A.isIETrident(I):A.isMSIE(I)):A.isMSIE()||A.isIETrident()};A.isSafari=function(){return E(/safari/i)&&!E(/chrome/i)&&!E(/chromium/i)&&!E(/android/i)};A.isIOS=function(I){return I?E(RegExp("iP(hone|ad|od).+\\sOS\\s"+I,"i")):E(/iP(hone|ad|od)/i)};A.isAndroidNative=function(I){return A.isAndroid(I,!0)};A.isAndroid=function(I,J){return J&&E(/chrome\/[123456789]/i)&&!E(/chrome\/18/)?!1:I?(A.isInt(I)&&!/\./.test(I)&&(I=""+I+"."),E(RegExp("Android\\s*"+I,"i"))):E(/Android/i)};A.isMobile=function(){return A.isIOS()||A.isAndroid()};A.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName};A.saveCookie=function(I,J){document.cookie="jwplayer."+I+"\x3d"+J+"; path\x3d/"};A.getCookies=function(){for(var J={},K=document.cookie.split("; "),I=0;I<K.length;I++){var L=K[I].split("\x3d");0===L[0].indexOf("jwplayer.")&&(J[L[0].substring(9,L[0].length)]=L[1])}return J};A.isInt=function(I){return 0===parseFloat(I)%1};A.typeOf=function(I){if(null===I){return"null"}var J=typeof I;return"object"===J&&D.isArray(I)?"array":J};A.translateEventResponse=function(I,J){var L=A.extend({},J);if(I===F.events.JWPLAYER_FULLSCREEN&&!L.fullscreen){L.fullscreen="true"===L.message,delete L.message}else{if("object"===typeof L.data){var K=L.data;delete L.data;L=A.extend(L,K)}else{"object"===typeof L.metadata&&A.deepReplaceKeyName(L.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"])}}A.foreach(["position","duration","offset"],function(M,N){L[N]&&(L[N]=Math.round(1000*L[N])/1000)});return L};A.flashVersion=function(){if(A.isAndroid()){return 0}var I=navigator.plugins,J;try{if("undefined"!==I&&(J=I["Shockwave Flash"])){return parseInt(J.description.replace(/\D+(\d+)\..*/,"$1"),10)}}catch(L){}if("undefined"!==typeof window.ActiveXObject){try{if(J=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")){return parseInt(J.GetVariable("$version").split(" ")[1].split(",")[0],10)}}catch(K){}}return 0};A.getScriptPath=function(J){for(var K=document.getElementsByTagName("script"),L=0;L<K.length;L++){var I=K[L].src;if(I&&0<=I.indexOf(J)){return I.substr(0,I.indexOf(J))}}return""};A.deepReplaceKeyName=function(I,J,L){switch(F.utils.typeOf(I)){case"array":for(var K=0;K<I.length;K++){I[K]=F.utils.deepReplaceKeyName(I[K],J,L)}break;case"object":A.foreach(I,function(M,Q){var P;if(J instanceof Array&&L instanceof Array){if(J.length!==L.length){return }P=J}else{P=[J]}for(var N=M,O=0;O<P.length;O++){N=N.replace(RegExp(J[O],"g"),L[O])}I[N]=F.utils.deepReplaceKeyName(Q,J,L);M!==N&&delete I[M]})}return I};var C=A.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};A.getPluginPathType=function(I){if("string"===typeof I){I=I.split("?")[0];var J=I.indexOf("://");if(0<J){return C.ABSOLUTE}var K=I.indexOf("/");I=A.extension(I);return 0>J&&0>K&&(!I||!isNaN(I))?C.CDN:C.RELATIVE}};A.getPluginName=function(I){return I.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")};A.getPluginVersion=function(I){return I.replace(/[^-]*-?([^\.]*).*$/,"$1")};A.isYouTube=function(I,J){return"youtube"===J||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(I)};A.youTubeID=function(I){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(I).slice(1).join("").replace("?","")}catch(J){return""}};A.isRtmp=function(I,J){return 0===I.indexOf("rtmp")||"rtmp"===J};A.foreach=function(I,J){var L,K;for(L in I){"function"===A.typeOf(I.hasOwnProperty)?I.hasOwnProperty(L)&&(K=I[L],J(L,K)):(K=I[L],J(L,K))}};A.isHTTPS=function(){return 0===window.location.href.indexOf("https")};A.repo=function(){var I="http://p.jwpcdn.com/"+F.version.split(/\W/).splice(0,2).join("/")+"/";try{A.isHTTPS()&&(I=I.replace("http://","https://ssl."))}catch(J){}return I};A.versionCheck=function(J){J=("0"+J).split(/\W/);var L=F.version.split(/\W/),I=parseFloat(J[0]),K=parseFloat(L[0]);return I>K||I===K&&parseFloat("0"+J[1])>parseFloat(L[1])?!1:!0};A.ajax=function(R,Q,P,N){var M,I=!1;0<R.indexOf("#")&&(R=R.replace(/#.*$/,""));if(R&&0<=R.indexOf("://")&&R.split("/")[2]!==window.location.href.split("/")[2]&&A.exists(window.XDomainRequest)){M=new window.XDomainRequest,M.onload=B(M,R,Q,P,N),M.ontimeout=M.onprogress=function(){},M.timeout=5000}else{if(A.exists(window.XMLHttpRequest)){var K=M=new window.XMLHttpRequest,L=R;M.onreadystatechange=function(){if(4===K.readyState){switch(K.status){case 200:B(K,L,Q,P,N)();break;case 404:P("File not found",L,K)}}}}else{return P&&P("",R,M),M}}M.overrideMimeType&&M.overrideMimeType("text/xml");var O=R,S=M;M.onerror=function(){P("Error loading file",O,S)};try{M.open("GET",R,!0)}catch(J){I=!0}setTimeout(function(){if(I){P&&P(R,R,M)}else{try{M.send()}catch(T){P&&P(R,R,M)}}},0);return M};A.parseXML=function(J){var K;try{if(window.DOMParser){if(K=(new window.DOMParser).parseFromString(J,"text/xml"),K.childNodes&&K.childNodes.length&&"parsererror"===K.childNodes[0].firstChild.nodeName){return }}else{K=new window.ActiveXObject("Microsoft.XMLDOM"),K.async="false",K.loadXML(J)}}catch(I){return }return K};A.between=function(J,K,I){return Math.max(Math.min(J,I),K)};A.seconds=function(J){if(D.isNumber(J)){return J}J=J.replace(",",".");var K=J.split(":"),I=0;"s"===J.slice(-1)?I=parseFloat(J):"m"===J.slice(-1)?I=60*parseFloat(J):"h"===J.slice(-1)?I=3600*parseFloat(J):1<K.length?(I=parseFloat(K[K.length-1]),I+=60*parseFloat(K[K.length-2]),3===K.length&&(I+=3600*parseFloat(K[K.length-3]))):I=parseFloat(J);return I};A.serialize=function(I){return null===I?null:"true"===I.toString().toLowerCase()?!0:"false"===I.toString().toLowerCase()?!1:isNaN(Number(I))||5<I.length||0===I.length?I:Number(I)};A.addClass=function(I,L){var K=D.isString(I.className)?I.className.split(" "):[],J=D.isArray(L)?L:L.split(" ");D.each(J,function(M){D.contains(K,M)||K.push(M)});I.className=A.trim(K.join(" "))};A.removeClass=function(I,L){var K=D.isString(I.className)?I.className.split(" "):[],J=D.isArray(L)?L:L.split(" ");I.className=A.trim(D.difference(K,J).join(" "))};A.emptyElement=function(I){for(;I.firstChild;){I.removeChild(I.firstChild)}};A.indexOf=D.indexOf;A.noop=function(){};A.canCast=function(){var I=F.cast;return !(!I||!D.isFunction(I.available)||!I.available())}}(jwplayer),function(G){function I(M){var N=document.createElement("style");M&&N.appendChild(document.createTextNode(M));N.type="text/css";document.getElementsByTagName("head")[0].appendChild(N);return N}function C(N,M,O){if(!J.exists(M)){return""}O=O?" !important":"";return"string"===typeof M&&isNaN(M)?/png|gif|jpe?g/i.test(M)&&0>M.indexOf("url")?"url("+M+")":M+O:0===M||"z-index"===N||"opacity"===N?""+M+O:/color/i.test(N)?"#"+J.pad(M.toString(16).replace(/^0x/i,""),6)+O:Math.ceil(M)+"px"+O}function K(N,S){for(var M=0;M<N.length;M++){var Q=N[M],R,P;if(void 0!==Q&&null!==Q){for(R in S){P=R;P=P.split("-");for(var O=1;O<P.length;O++){P[O]=P[O].charAt(0).toUpperCase()+P[O].slice(1)}P=P.join("");Q.style[P]!==S[R]&&(Q.style[P]=S[R])}}}}function E(T){var M=F[T].sheet,R,S,O;if(M){R=M.cssRules;S=A[T];O=T;var P=L[O];O+=" { ";for(var Q in P){O+=Q+": "+P[Q]+"; "}O+="}";if(void 0!==S&&S<R.length&&R[S].selectorText===T){if(O===R[S].cssText){return }M.deleteRule(S)}else{S=R.length,A[T]=S}try{M.insertRule(O,S)}catch(N){}}}var J=G.utils,F={},D,L={},H=null,A={};J.cssKeyframes=function(N,R){var M=F.keyframes;M||(M=I(),F.keyframes=M);var M=M.sheet,Q="@keyframes "+N+" { "+R+" }";try{M.insertRule(Q,M.cssRules.length)}catch(O){}Q=Q.replace(/(keyframes|transform)/g,"-webkit-$1");try{M.insertRule(Q,M.cssRules.length)}catch(P){}};var B=J.css=function(S,M,Q){L[S]||(L[S]={});var O=L[S];Q=Q||!1;var N=!1,P,R;for(P in M){R=C(P,M[P],Q),""!==R?R!==O[P]&&(O[P]=R,N=!0):void 0!==O[P]&&(delete O[P],N=!0)}if(N){if(!F[S]){M=D&&D.sheet&&D.sheet.cssRules&&D.sheet.cssRules.length||0;if(!D||50000<M){D=I()}F[S]=D}null!==H?H.styleSheets[S]=L[S]:E(S)}};B.style=function(M,R,Q){if(!(void 0===M||null===M)){void 0===M.length&&(M=[M]);var P={},N;for(N in R){P[N]=C(N,R[N])}if(null!==H&&!Q){R=(R=M.__cssRules)||{};for(var O in P){R[O]=P[O]}M.__cssRules=R;0>G._.indexOf(H.elements,M)&&H.elements.push(M)}else{K(M,P)}}};B.block=function(M){null===H&&(H={id:M,styleSheets:{},elements:[]})};B.unblock=function(M){if(H&&(!M||H.id===M)){for(var N in H.styleSheets){E(N)}for(M=0;M<H.elements.length;M++){N=H.elements[M],K(N,N.__cssRules)}H=null}};J.clearCss=function(O){for(var M in L){0<=M.indexOf(O)&&delete L[M]}for(var N in F){0<=N.indexOf(O)&&E(N)}};J.transform=function(N,O){var M={};O=O||"";M.transform=O;M["-webkit-transform"]=O;M["-ms-transform"]=O;M["-moz-transform"]=O;M["-o-transform"]=O;"string"===typeof N?B(N,M):B.style(N,M)};J.dragStyle=function(M,N){B(M,{"-webkit-user-select":N,"-moz-user-select":N,"-ms-user-select":N,"-webkit-user-drag":N,"user-select":N,"user-drag":N})};J.transitionStyle=function(M,N){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||B(M,{"-webkit-transition":N,"-moz-transition":N,"-o-transition":N,transition:N})};J.rotate=function(N,M){J.transform(N,"rotate("+M+"deg)")};J.rgbHex=function(M){M=String(M).replace("#","");3===M.length&&(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]);return"#"+M.substr(-6)};J.hexToRgba=function(N,P){var M="rgb",O=[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)];void 0!==P&&100!==P&&(M+="a",O.push(P/100));return M+"("+O.join(",")+")"}}(jwplayer),function(D){var E=jwplayer._,B=D.foreach,A={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},C={mp4:A.mp4,f4v:A.mp4,m4v:A.mp4,mov:A.mp4,m4a:A.aac,f4a:A.aac,aac:A.aac,mp3:A.mp3,ogv:A.ogg,ogg:A.ogg,oga:A.vorbis,vorbis:A.vorbis,webm:A.webm,m3u8:A.hls,m3u:A.hls,hls:A.hls},F=D.extensionmap={};B(C,function(G,H){F[G]={html5:H}});B({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},function(G,H){F[G]||(F[G]={});F[G].flash=H});F.types=A;F.mimeType=function(H){var G;E.find(A,function(J,I){if(J===H){return G=I,!0}});return G};F.extType=function(G){return F.mimeType(C[G])}}(jwplayer.utils),function(A){var B=A.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3};A.scriptloader=function(D){function C(I){E=B.ERROR;G.sendEvent(H.ERROR,I)}function F(I){E=B.COMPLETE;G.sendEvent(H.COMPLETE,I)}var H=jwplayer.events,G=A.extend(this,new H.eventdispatcher),E=B.NEW;this.load=function(){if(E===B.NEW){var I=A.scriptloader.loaders[D];if(I&&(E=I.getStatus(),2>E)){I.addEventListener(H.ERROR,C);I.addEventListener(H.COMPLETE,F);return }var L=document.getElementsByTagName("head")[0]||document.documentElement,J=document.createElement("script"),K=!1;J.onload=J.onreadystatechange=function(M){if(!K&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)){K=!0,F(M),J.onload=J.onreadystatechange=null,L&&J.parentNode&&L.removeChild(J)}};J.onerror=C;J.src=D;L.insertBefore(J,L.firstChild);E=B.LOADING;A.scriptloader.loaders[D]=this}};this.getStatus=function(){return E}};A.scriptloader.loaders={}}(jwplayer.utils),function(A){A.trim=function(B){return B.replace(/^\s+|\s+$/g,"")};A.pad=function(D,C,B){for(B||(B="0");D.length<C;){D=B+D}return D};A.xmlAttribute=function(D,C){for(var B=0;B<D.attributes.length;B++){if(D.attributes[B].name&&D.attributes[B].name.toLowerCase()===C.toLowerCase()){return D.attributes[B].value.toString()}}return""};A.extension=function(C){if(!C||"rtmp"===C.substr(0,4)){return""}var B;B=-1<C.indexOf("(format\x3dm3u8-")?"m3u8":!1;if(B){return B}C=C.substring(C.lastIndexOf("/")+1,C.length).split("?")[0].split("#")[0];if(-1<C.lastIndexOf(".")){return C.substr(C.lastIndexOf(".")+1,C.length).toLowerCase()}};A.stringToColor=function(B){B=B.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");3===B.length&&(B=B.charAt(0)+B.charAt(0)+B.charAt(1)+B.charAt(1)+B.charAt(2)+B.charAt(2));return parseInt(B,16)}}(jwplayer.utils),function(B){var C="touchmove",A="touchstart";B.touch=function(L){function G(N){N.type===A?(M=!0,D=I(H.DRAG_START,N)):N.type===C?M&&(E||(K(H.DRAG_START,N,D),E=!0),K(H.DRAG,N)):(M&&(E?K(H.DRAG_END,N):(N.cancelBubble=!0,K(H.TAP,N))),M=E=!1,D=null)}function K(O,P,N){if(J[O]&&(P.preventManipulation&&P.preventManipulation(),P.preventDefault&&P.preventDefault(),P=N?N:I(O,P))){J[O](P)}}function I(O,Q){var N=null;Q.touches&&Q.touches.length?N=Q.touches[0]:Q.changedTouches&&Q.changedTouches.length&&(N=Q.changedTouches[0]);if(!N){return null}var P=F.getBoundingClientRect(),N={type:O,target:F,x:N.pageX-window.pageXOffset-P.left,y:N.pageY,deltaX:0,deltaY:0};O!==H.TAP&&D&&(N.deltaX=N.x-D.x,N.deltaY=N.y-D.y);return N}var F=L,M=!1,J={},D=null,E=!1,H=B.touchEvents;document.addEventListener(C,G);document.addEventListener("touchend",function(N){M&&E&&K(H.DRAG_END,N);M=E=!1;D=null});document.addEventListener("touchcancel",G);L.addEventListener(A,G);L.addEventListener("touchend",G);this.addEventListener=function(N,O){J[N]=O};this.removeEventListener=function(N){delete J[N]};return this}}(jwplayer.utils),function(A){A.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(A){A.key=function(F){var C,B,D;this.edition=function(){return D&&D.getTime()<(new Date).getTime()?"invalid":C};this.token=function(){return B};A.exists(F)||(F="");try{F=A.tea.decrypt(F,"36QXq4W@GSBV^teR");var G=F.split("/");(C=G[0])?/^(free|pro|premium|enterprise|ads)$/i.test(C)?(B=G[1],G[2]&&0<parseInt(G[2])&&(D=new Date,D.setTime(String(G[2])))):C="invalid":C="free"}catch(E){C="invalid"}}}(jwplayer.utils),function(C){var D=C.tea={};D.encrypt=function(I,N){if(0==I.length){return""}var K=D.strToLongs(A.encode(I));1>=K.length&&(K[1]=0);for(var H=D.strToLongs(A.encode(N).slice(0,16)),O=K.length,M=K[O-1],L=K[0],E,J=Math.floor(6+52/O),F=0;0<J--;){F+=2654435769;E=F>>>2&3;for(var G=0;G<O;G++){L=K[(G+1)%O],M=(M>>>5^L<<2)+(L>>>3^M<<4)^(F^L)+(H[G&3^E]^M),M=K[G]+=M}}K=D.longsToStr(K);return B.encode(K)};D.decrypt=function(H,M){if(0==H.length){return""}for(var J=D.strToLongs(B.decode(H)),G=D.strToLongs(A.encode(M).slice(0,16)),N=J.length,L=J[N-1],K=J[0],E,I=2654435769*Math.floor(6+52/N);0!=I;){E=I>>>2&3;for(var F=N-1;0<=F;F--){L=J[0<F?F-1:N-1],L=(L>>>5^K<<2)+(K>>>3^L<<4)^(I^K)+(G[F&3^E]^L),K=J[F]-=L}I-=2654435769}J=D.longsToStr(J);J=J.replace(/\0+$/,"");return A.decode(J)};D.strToLongs=function(E){for(var G=Array(Math.ceil(E.length/4)),F=0;F<G.length;F++){G[F]=E.charCodeAt(4*F)+(E.charCodeAt(4*F+1)<<8)+(E.charCodeAt(4*F+2)<<16)+(E.charCodeAt(4*F+3)<<24)}return G};D.longsToStr=function(E){for(var G=Array(E.length),F=0;F<E.length;F++){G[F]=String.fromCharCode(E[F]&255,E[F]>>>8&255,E[F]>>>16&255,E[F]>>>24&255)}return G.join("")};var B={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(M,N){var J,H,O,L,K=[],E="",I,F,G=B.code;F=("undefined"==typeof N?0:N)?A.encode(M):M;I=F.length%3;if(0<I){for(;3>I++;){E+="\x3d",F+="\x00"}}for(I=0;I<F.length;I+=3){J=F.charCodeAt(I),H=F.charCodeAt(I+1),O=F.charCodeAt(I+2),L=J<<16|H<<8|O,J=L>>18&63,H=L>>12&63,O=L>>6&63,L&=63,K[I/3]=G.charAt(J)+G.charAt(H)+G.charAt(O)+G.charAt(L)}K=K.join("");return K=K.slice(0,K.length-E.length)+E},decode:function(M,N){N="undefined"==typeof N?!1:N;var J,H,O,L,K,E=[],I,F=B.code;I=N?A.decode(M):M;for(var G=0;G<I.length;G+=4){J=F.indexOf(I.charAt(G)),H=F.indexOf(I.charAt(G+1)),L=F.indexOf(I.charAt(G+2)),K=F.indexOf(I.charAt(G+3)),O=J<<18|H<<12|L<<6|K,J=O>>>16&255,H=O>>>8&255,O&=255,E[G/4]=String.fromCharCode(J,H,O),64==K&&(E[G/4]=String.fromCharCode(J,H)),64==L&&(E[G/4]=String.fromCharCode(J))}L=E.join("");return N?A.decode(L):L}},A={encode:function(E){E=E.replace(/[\u0080-\u07ff]/g,function(F){F=F.charCodeAt(0);return String.fromCharCode(192|F>>6,128|F&63)});return E=E.replace(/[\u0800-\uffff]/g,function(F){F=F.charCodeAt(0);return String.fromCharCode(224|F>>12,128|F>>6&63,128|F&63)})},decode:function(E){E=E.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(F){F=(F.charCodeAt(0)&15)<<12|(F.charCodeAt(1)&63)<<6|F.charCodeAt(2)&63;return String.fromCharCode(F)});return E=E.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(F){F=(F.charCodeAt(0)&31)<<6|F.charCodeAt(1)&63;return String.fromCharCode(F)})}}}(jwplayer.utils),function(A){A.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_AUDIO_TRACKS:"jwplayerAudioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"jwplayerAudioTrackChanged",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_PROVIDER_CLICK:"jwplayerProviderClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"}}(jwplayer),function(A){var B=A.utils;A.events.eventdispatcher=function(D,C){function E(M,I,H){if(M){for(var K=0;K<M.length;K++){var L=M[K];if(L){null!==L.count&&0===--L.count&&delete M[K];try{L.listener(I)}catch(J){B.log('Error handling "'+H+'" event listener ['+K+"]: "+J.toString(),L.listener,I)}}}}}var G,F;this.resetEventListeners=function(){G={};F=[]};this.resetEventListeners();this.addEventListener=function(H,I,K){try{B.exists(G[H])||(G[H]=[]),"string"===B.typeOf(I)&&(I=(new Function("return "+I))()),G[H].push({listener:I,count:K||null})}catch(J){B.log("error",J)}return !1};this.removeEventListener=function(H,I){var K;if(G[H]){try{if(void 0===I){G[H]=[];return }for(K=0;K<G[H].length;K++){if(G[H][K].listener.toString()===I.toString()){G[H].splice(K,1);break}}}catch(J){B.log("error",J)}return !1}};this.addGlobalListener=function(H,I){try{"string"===B.typeOf(H)&&(H=(new Function("return "+H))()),F.push({listener:H,count:I||null})}catch(J){B.log("error",J)}return !1};this.removeGlobalListener=function(H){if(H){try{for(var I=F.length;I--;){F[I].listener.toString()===H.toString()&&F.splice(I,1)}}catch(J){B.log("error",J)}return !1}};this.sendEvent=function(I,H){B.exists(H)||(H={});B.extend(H,{id:D,version:A.version,type:I});C&&B.log(I,H);E(G[I],H,I);E(F,H,I)}}}(window.jwplayer),function(B){var C={},A={};B.plugins=function(){};B.plugins.loadPlugins=function(D,E){A[D]=new B.plugins.pluginloader(new B.plugins.model(C),E);return A[D]};B.plugins.registerPlugin=function(D,F,H,G){var E=B.utils.getPluginName(D);C[E]||(C[E]=new B.plugins.plugin(D));C[E].registerPlugin(D,F,H,G)}}(jwplayer),function(A){A.plugins.model=function(B){this.addPlugin=function(D){var C=A.utils.getPluginName(D);B[C]||(B[C]=new A.plugins.plugin(D));return B[C]};this.getPlugins=function(){return B}}}(jwplayer),function(B){var C=jwplayer.utils,A=jwplayer.events;B.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2};B.plugin=function(L){function G(){switch(C.getPluginPathType(L)){case C.pluginPathType.ABSOLUTE:return L;case C.pluginPathType.RELATIVE:return C.getAbsolutePath(L,window.location.href)}}function K(){E=setTimeout(function(){F=C.loaderstatus.COMPLETE;H.sendEvent(A.COMPLETE)},1000)}function I(){F=C.loaderstatus.ERROR;H.sendEvent(A.ERROR,{url:L})}var F=C.loaderstatus.NEW,M,J,D,E,H=new A.eventdispatcher;C.extend(this,H);this.load=function(){if(F===C.loaderstatus.NEW){if(0<L.lastIndexOf(".swf")){M=L,F=C.loaderstatus.COMPLETE,H.sendEvent(A.COMPLETE)}else{if(C.getPluginPathType(L)===C.pluginPathType.CDN){F=C.loaderstatus.COMPLETE,H.sendEvent(A.COMPLETE)}else{F=C.loaderstatus.LOADING;var N=new C.scriptloader(G());N.addEventListener(A.COMPLETE,K);N.addEventListener(A.ERROR,I);N.load()}}}};this.registerPlugin=function(N,Q,O,P){E&&(clearTimeout(E),E=void 0);D=Q;O&&P?(M=P,J=O):"string"===typeof O?M=O:"function"===typeof O?J=O:!O&&!P&&(M=N);F=C.loaderstatus.COMPLETE;H.sendEvent(A.COMPLETE)};this.getStatus=function(){return F};this.getPluginName=function(){return C.getPluginName(L)};this.getFlashPath=function(){if(M){switch(C.getPluginPathType(M)){case C.pluginPathType.ABSOLUTE:return M;case C.pluginPathType.RELATIVE:return 0<L.lastIndexOf(".swf")?C.getAbsolutePath(M,window.location.href):C.getAbsolutePath(M,G())}}return null};this.getJS=function(){return J};this.getTarget=function(){return D};this.getPluginmode=function(){if("undefined"!==typeof M&&"undefined"!==typeof J){return B.pluginmodes.HYBRID}if("undefined"!==typeof M){return B.pluginmodes.FLASH}if("undefined"!==typeof J){return B.pluginmodes.JAVASCRIPT}};this.getNewInstance=function(O,N,P){return new J(O,N,P)};this.getURL=function(){return L}}}(jwplayer.plugins),function(D){var E=D.utils,B=D.events,A=D._,C=E.foreach;D.plugins.pluginloader=function(N,K){function L(){G||(G=!0,F=E.loaderstatus.COMPLETE,Q.sendEvent(B.COMPLETE))}function O(){if(!P&&((!J||0===A.keys(J).length)&&L(),!G)){var R=N.getPlugins();I=A.after(H,L);E.foreach(J,function(S){S=E.getPluginName(S);var U=R[S];S=U.getJS();var T=U.getTarget(),U=U.getStatus();U===E.loaderstatus.LOADING||U===E.loaderstatus.NEW||(S&&!E.versionCheck(T)&&Q.sendEvent(B.ERROR,{message:"Incompatible player version"}),I())})}}function M(R){P||(Q.sendEvent(B.ERROR,{message:"File not found"}),R.url&&E.log("File not found",R.url),O())}var F=E.loaderstatus.NEW,G=!1,J=K,H=A.size(J),I,P=!1,Q=new B.eventdispatcher;E.extend(this,Q);this.setupPlugins=function(S,R,X){var V={length:0,plugins:{}},W=0,U={},T=N.getPlugins();C(R.plugins,function(f,e){var a=E.getPluginName(f),d=T[a],Y=d.getFlashPath(),b=d.getJS(),h=d.getURL();Y&&(V.plugins[Y]=E.extend({},e),V.plugins[Y].pluginmode=d.getPluginmode(),V.length++);try{if(b&&R.plugins&&R.plugins[h]){var Z=document.createElement("div");Z.id=S.id+"_"+a;Z.style.position="absolute";Z.style.top=0;Z.style.zIndex=W+10;U[a]=d.getNewInstance(S,E.extend({},R.plugins[h]),Z);W++;S.onReady(X(U[a],Z,!0));S.onResize(X(U[a],Z))}}catch(g){E.log("ERROR: Failed to load "+a+".")}});S.plugins=U;return V};this.load=function(){if(!(E.exists(K)&&"object"!==E.typeOf(K))){F=E.loaderstatus.LOADING;C(K,function(S){E.exists(S)&&(S=N.addPlugin(S),S.addEventListener(B.COMPLETE,O),S.addEventListener(B.ERROR,M))});var R=N.getPlugins();C(R,function(T,S){S.load()})}O()};this.destroy=function(){P=!0;Q&&(Q.resetEventListeners(),Q=null)};this.pluginFailed=M;this.getStatus=function(){return F}}}(jwplayer),function(A){A.parsers={localName:function(B){return B?B.localName?B.localName:B.baseName?B.baseName:"":""},textContent:function(B){return B?B.textContent?A.utils.trim(B.textContent):B.text?A.utils.trim(B.text):"":""},getChildNode:function(C,B){return C.childNodes[B]},numChildren:function(B){return B.childNodes?B.childNodes.length:0}}}(jwplayer),function(A){var B=A.parsers;(B.jwparser=function(){}).parseEntry=function(E,C){for(var G=[],J=[],H=A.utils.xmlAttribute,F=0;F<E.childNodes.length;F++){var D=E.childNodes[F];if("jwplayer"===D.prefix){var I=B.localName(D);"source"===I?(delete C.sources,G.push({file:H(D,"file"),"default":H(D,"default"),label:H(D,"label"),type:H(D,"type")})):"track"===I?(delete C.tracks,J.push({file:H(D,"file"),"default":H(D,"default"),kind:H(D,"kind"),label:H(D,"label")})):(C[I]=A.utils.serialize(B.textContent(D)),"file"===I&&C.sources&&delete C.sources)}C.file||(C.file=C.link)}if(G.length){C.sources=[];for(F=0;F<G.length;F++){0<G[F].file.length&&(G[F]["default"]="true"===G[F]["default"]?!0:!1,G[F].label.length||delete G[F].label,C.sources.push(G[F]))}}if(J.length){C.tracks=[];for(F=0;F<J.length;F++){0<J[F].file.length&&(J[F]["default"]="true"===J[F]["default"]?!0:!1,J[F].kind=!J[F].kind.length?"captions":J[F].kind,J[F].label.length||delete J[F].label,C.tracks.push(J[F]))}}return C}}(jwplayer),function(E){var F=jwplayer.utils,B=F.xmlAttribute,A=E.localName,C=E.textContent,G=E.numChildren,D=E.mediaparser=function(){};D.parseGroup=function(M,I){var O,K,L=[];for(K=0;K<G(M);K++){if(O=M.childNodes[K],"media"===O.prefix&&A(O)){switch(A(O).toLowerCase()){case"content":B(O,"duration")&&(I.duration=F.seconds(B(O,"duration")));0<G(O)&&(I=D.parseGroup(O,I));B(O,"url")&&(I.sources||(I.sources=[]),I.sources.push({file:B(O,"url"),type:B(O,"type"),width:B(O,"width"),label:B(O,"label")}));break;case"title":I.title=C(O);break;case"description":I.description=C(O);break;case"guid":I.mediaid=C(O);break;case"thumbnail":I.image||(I.image=B(O,"url"));break;case"group":D.parseGroup(O,I);break;case"subtitle":var J={};J.file=B(O,"url");J.kind="captions";if(0<B(O,"lang").length){var N=J;O=B(O,"lang");var H={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};O=H[O]?H[O]:O;N.label=O}L.push(J)}}}I.hasOwnProperty("tracks")||(I.tracks=[]);for(K=0;K<L.length;K++){I.tracks.push(L[K])}return I}}(jwplayer.parsers),function(E){function F(L){for(var H={},J=0;J<L.childNodes.length;J++){var K=L.childNodes[J],I=D(K);if(I){switch(I.toLowerCase()){case"enclosure":H.file=B.xmlAttribute(K,"url");break;case"title":H.title=A(K);break;case"guid":H.mediaid=A(K);break;case"pubdate":H.date=A(K);break;case"description":H.description=A(K);break;case"link":H.link=A(K);break;case"category":H.tags=H.tags?H.tags+A(K):A(K)}}}H=E.mediaparser.parseGroup(L,H);H=E.jwparser.parseEntry(L,H);return new jwplayer.playlist.item(H)}var B=jwplayer.utils,A=E.textContent,C=E.getChildNode,G=E.numChildren,D=E.localName;E.rssparser={};E.rssparser.parse=function(H){for(var J=[],M=0;M<G(H);M++){var L=C(H,M);if("channel"===D(L).toLowerCase()){for(var I=0;I<G(L);I++){var K=C(L,I);"item"===D(K).toLowerCase()&&J.push(F(K))}}}return J}}(jwplayer.parsers),function(C){var D=C.utils,B=C._;C.playlist=function(E){var F=[];E=B.isArray(E)?E:[E];B.each(E,function(G){F.push(new C.playlist.item(G))});return F};C.playlist.filterPlaylist=function(F,G){var E=[];B.each(F,function(I){I=D.extend({},I);I.sources=A(I.sources,!1,G);if(I.sources.length){for(var H=0;H<I.sources.length;H++){I.sources[H].label=I.sources[H].label||H.toString()}E.push(I)}});return E};var A=C.playlist.filterSources=function(E,J,H){var G,F=[],I=J?C.embed.flashCanPlay:C.embed.html5CanPlay;if(E){return B.each(E,function(K){if(!K||!K.file){K=void 0}else{var M=D.trim(""+K.file),L=K.type;L||(L=D.extension(M),L=D.extensionmap.extType(L));K=D.extend({},K,{file:M,type:L})}K&&I(K.file,K.type,H)&&(G=G||K.type,K.type===G&&F.push(K))}),F}}}(jwplayer),function(A){var B=A.item=function(D){var C=jwplayer.utils,E=C.extend({},B.defaults,D),G,F;E.tracks=D&&C.exists(D.tracks)?D.tracks:[];0===E.sources.length&&(E.sources=[new A.source(E)]);for(G=0;G<E.sources.length;G++){F=E.sources[G]["default"],E.sources[G]["default"]=F?"true"===F.toString():!1,E.sources[G]=new A.source(E.sources[G])}if(E.captions&&!C.exists(D.tracks)){for(D=0;D<E.captions.length;D++){E.tracks.push(E.captions[D])}delete E.captions}for(G=0;G<E.tracks.length;G++){E.tracks[G]=new A.track(E.tracks[G])}return E};B.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(C){var D=C.utils,B=C.events,A=C.parsers;C.playlist.loader=function(){function F(I){try{var M=I.responseXML.childNodes;I="";for(var L=0;L<M.length&&!(I=M[L],8!==I.nodeType);L++){}"xml"===A.localName(I)&&(I=I.nextSibling);if("rss"!==A.localName(I)){G("Not a valid RSS feed")}else{var J=new C.playlist(A.rssparser.parse(I));E.sendEvent(B.JWPLAYER_PLAYLIST_LOADED,{playlist:J})}}catch(K){G()}}function H(I){G(I.match(/invalid/i)?"Not a valid RSS feed":"")}function G(I){E.sendEvent(B.JWPLAYER_ERROR,{message:I?I:"Error loading file"})}var E=new B.eventdispatcher;D.extend(this,E);this.load=function(I){D.ajax(I,F,H)}}}(jwplayer),function(B){var C=jwplayer.utils,A={file:void 0,label:void 0,type:void 0,"default":void 0};B.source=function(D){var E=C.extend({},A);C.foreach(A,function(F){C.exists(D[F])&&(E[F]=D[F],delete D[F])});E.type&&0<E.type.indexOf("/")&&(E.type=C.extensionmap.mimeType(E.type));"m3u8"===E.type&&(E.type="hls");"smil"===E.type&&(E.type="rtmp");return E}}(jwplayer.playlist),function(B){var C=jwplayer.utils,A={file:void 0,label:void 0,kind:"captions","default":!1};B.track=function(D){var E=C.extend({},A);D||(D={});C.foreach(A,function(F){C.exists(D[F])&&(E[F]=D[F],delete D[F])});return E}}(jwplayer.playlist),function(D){function E(G,J,H){var I=G.style;I.backgroundColor="#000";I.color="#FFF";I.width=B.styleDimension(H.width);I.height=B.styleDimension(H.height);I.display="table";I.opacity=1;H=document.createElement("p");I=H.style;I.verticalAlign="middle";I.textAlign="center";I.display="table-cell";I.font="15px/20px Arial, Helvetica, sans-serif";H.innerHTML=J.replace(":",":\x3cbr\x3e");G.innerHTML="";G.appendChild(H)}var B=D.utils,A=D.events,C=D._,F=D.embed=function(X){function V(){if(!G){var c=S.playlist;if(C.isArray(c)){if(0===c.length){P();return }if(1===c.length&&(!c[0].sources||0===c[0].sources.length||!c[0].sources[0].file)){P();return }}if(!I){if(C.isString(c)){K=new D.playlist.loader,K.addEventListener(A.JWPLAYER_PLAYLIST_LOADED,function(d){S.playlist=d.playlist;I=!1;V()}),K.addEventListener(A.JWPLAYER_ERROR,function(d){I=!1;P(d)}),I=!0,K.load(S.playlist)}else{if(T.getStatus()===B.loaderstatus.COMPLETE){for(c=0;c<S.modes.length;c++){var f=S.modes[c],b=f.type;if(b&&F[b]){var a=B.extend({},S);Q=new F[b](L,f,a,T,X);if(Q.supportsConfig()){return Q.addEventListener(A.ERROR,Z),Q.embed(),B.css("object.jwswf, .jwplayer:focus",{outline:"none"}),B.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),X}}}S.fallback?(c="No suitable players found and fallback enabled",R(c,!0),B.log(c),new F.download(L,S,P)):(c="No suitable players found and fallback disabled",R(c,!1),B.log(c))}}}}}function Z(b){W(M+b.message)}function Y(b){X.dispatchEvent(A.JWPLAYER_ERROR,{message:"Could not load plugin: "+b.message})}function P(b){b&&b.message?W("Error loading playlist: "+b.message):W(M+"No playable sources found")}function R(b,d){clearTimeout(H);H=setTimeout(function(){X.dispatchEvent(A.JWPLAYER_SETUP_ERROR,{message:b,fallback:d})},0)}function W(b){G||(O.parentNode.replaceChild(L,O),S.fallback?(G=!0,E(L,b,S),R(b,!0)):R(b,!1))}var S=new F.config(X.config),U=S.width,J=S.height,M="Error loading player: ",O=document.getElementById(X.id),T=D.plugins.loadPlugins(X.id,S.plugins),K,I=!1,G=!1,Q=null,H=-1;S.id=X.id;S.aspectratio?X.config.aspectratio=S.aspectratio:delete X.config.aspectratio;var N=X;B.foreach(S.events,function(e,d){var f=N[e];"function"===typeof f&&f.call(N,d)});var L=document.createElement("div");L.id=O.id;L.style.width=0<U.toString().indexOf("%")?U:U+"px";L.style.height=0<J.toString().indexOf("%")?J:J+"px";this.embed=function(){G||(T.addEventListener(A.COMPLETE,V),T.addEventListener(A.ERROR,Y),T.load())};this.destroy=function(){Q&&(Q.destroy(),Q=null);T&&(T.destroy(),T=null);K&&(K.resetEventListeners(),K=null)};this.errorScreen=W;return this};D.embed.errorScreen=E}(jwplayer),function(D){function E(H){if(H.playlist){for(var G=0;G<H.playlist.length;G++){H.playlist[G]=new C(H.playlist[G])}}else{var F={};A.foreach(C.defaults,function(I){B(H,F,I)});F.sources||(H.levels?(F.sources=H.levels,delete H.levels):(G={},B(H,G,"file"),B(H,G,"type"),F.sources=G.file?[G]:[]));H.playlist=[new C(F)]}}function B(H,G,F){A.exists(H[F])&&(G[F]=H[F],delete H[F])}var A=D.utils,C=D.playlist.item;(D.embed.config=function(I){var H={fallback:!0,height:270,primary:"html5",width:480,base:I.base?I.base:A.getScriptPath("jwplayer.js"),aspectratio:""};I=A.extend({},H,D.defaults,I);var H={type:"html5",src:I.base+"jwplayer.html5.js"},G={type:"flash",src:I.base+"jwplayer.flash.swf"};I.modes="flash"===I.primary?[G,H]:[H,G];I.listbar&&(I.playlistsize=I.listbar.size,I.playlistposition=I.listbar.position,I.playlistlayout=I.listbar.layout);I.flashplayer&&(G.src=I.flashplayer);I.html5player&&(H.src=I.html5player);E(I);G=I.aspectratio;if("string"!==typeof G||!A.exists(G)){H=0}else{var F=G.indexOf(":");-1===F?H=0:(H=parseFloat(G.substr(0,F)),G=parseFloat(G.substr(F+1)),H=0>=H||0>=G?0:100*(G/H)+"%")}-1===I.width.toString().indexOf("%")?delete I.aspectratio:H?I.aspectratio=H:delete I.aspectratio;return I}).addConfig=function(G,F){E(F);return A.extend(G,F)}}(jwplayer),function(B){function C(D,G){function H(J,I){F[E].style[J]=I}for(var F=document.querySelectorAll(D),E=0;E<F.length;E++){A.foreach(G,H)}}var A=B.utils;B.embed.download=function(N,K,M){function J(T,S,U){T=document.createElement(T);S&&(T.className="jwdownload"+S);U&&U.appendChild(T);return T}var H=A.extend({},K),O,L=H.width?H.width:480,D=H.height?H.height:320,E;K=K.logo?K.logo:{prefix:A.repo(),file:"logo.png",margin:10};var I,F,G,P,Q,R;F=H.playlist;H=["mp4","aac","mp3"];if(F&&F.length){G=F[0];P=G.sources;for(F=0;F<P.length;F++){Q=P[F],Q.file&&(R=Q.type||A.extensionmap.extType(A.extension(Q.file)),0<=A.indexOf(H,R)?(O=Q.file,E=G.image):A.isYouTube(Q.file,R)&&(I=Q.file))}O?(M=O,N&&(O=J("a","display",N),J("div","icon",O),J("div","logo",O),M&&O.setAttribute("href",A.getAbsolutePath(M))),M="#"+N.id+" .jwdownload",N.style.width="",N.style.height="",C(M+"display",{width:A.styleDimension(Math.max(320,L)),height:A.styleDimension(Math.max(180,D)),background:"black center no-repeat "+(E?"url("+E+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),C(M+"display div",{position:"absolute",width:"100%",height:"100%"}),C(M+"logo",{top:K.margin+"px",right:K.margin+"px",background:"top right no-repeat url("+K.prefix+K.file+")"}),C(M+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):I?(K=I,N=J("iframe","",N),N.src="http://www.youtube.com/embed/"+A.youTubeID(K),N.width=L,N.height=D,N.style.border="none"):M()}}}(jwplayer),function(D){var E=D.utils,B=D.events,A={};(D.embed.flash=function(N,L,J,O,M){function F(Q,P,S){var R=document.createElement("param");R.setAttribute("name",P);R.setAttribute("value",S);Q.appendChild(R)}function G(Q,P,R){return function(){try{R&&document.getElementById(M.id+"_wrapper").appendChild(P);var T=document.getElementById(M.id).getPluginConfig("display");"function"===typeof Q.resize&&Q.resize(T.width,T.height);P.style.left=T.x;P.style.top=T.h}catch(S){}}}function K(Q){if(!Q){return{}}var P={},R=[];E.foreach(Q,function(S,U){var T=E.getPluginName(S);R.push(S);E.foreach(U,function(V,W){P[T+"."+V]=W})});P.plugins=R.join(",");return P}var H=new D.events.eventdispatcher,I=E.flashVersion();E.extend(this,H);this.embed=function(){J.id=M.id;if(10>I){return H.sendEvent(B.ERROR,{message:"Flash version must be 10.0 or greater"}),!1}var T,R,S=N.id,U=M.config.listbar,Q=E.extend({},J);T=document.getElementById(M.id);T.parentNode.replaceChild(N,T);if(S+"_wrapper"===N.parentNode.id){T=document.getElementById(S+"_wrapper")}else{T=document.createElement("div");R=document.createElement("div");R.style.display="none";R.id=S+"_aspect";T.id=S+"_wrapper";T.style.position="relative";T.style.display="block";T.style.width=E.styleDimension(Q.width);T.style.height=E.styleDimension(Q.height);if(M.config.aspectratio){var P=parseFloat(M.config.aspectratio);R.style.display="block";R.style.marginTop=M.config.aspectratio;T.style.height="auto";T.style.display="inline-block";U&&("bottom"===U.position?R.style.paddingBottom=U.size+"px":"right"===U.position&&(R.style.marginBottom=-1*U.size*(P/100)+"px"))}N.parentNode.replaceChild(T,N);T.appendChild(N);T.appendChild(R)}U=O.setupPlugins(M,Q,G);0<U.length?E.extend(Q,K(U.plugins)):delete Q.plugins;"undefined"!==typeof Q["dock.position"]&&"false"===Q["dock.position"].toString().toLowerCase()&&(Q.dock=Q["dock.position"],delete Q["dock.position"]);U=Q.wmode||(Q.height&&40>=Q.height?"transparent":"opaque");R="height width modes events primary base fallback volume".split(" ");for(P=0;P<R.length;P++){delete Q[R[P]]}R=E.getCookies();E.foreach(R,function(W,V){"undefined"===typeof Q[W]&&(Q[W]=V)});R=window.location.href.split("/");R.splice(R.length-1,1);R=R.join("/");Q.base=R+"/";A[S]=Q;E.isMSIE()?(N.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"'+S+'" name\x3d"'+S+'" tabindex\x3d"0"\x3e\x3cparam name\x3d"movie" value\x3d"'+L.src+'"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"true"\x3e\x3cparam name\x3d"allowscriptaccess" value\x3d"always"\x3e\x3cparam name\x3d"seamlesstabbing" value\x3d"true"\x3e\x3cparam name\x3d"wmode" value\x3d"'+U+'"\x3e\x3cparam name\x3d"bgcolor" value\x3d"#000000"\x3e\x3c/object\x3e',T=T.getElementsByTagName("object")[0],T.style.outline="none"):(T=document.createElement("object"),T.setAttribute("type","application/x-shockwave-flash"),T.setAttribute("data",L.src),T.setAttribute("width","100%"),T.setAttribute("height","100%"),T.setAttribute("bgcolor","#000000"),T.setAttribute("id",S),T.setAttribute("name",S),T.className="jwswf",F(T,"allowfullscreen","true"),F(T,"allowscriptaccess","always"),F(T,"seamlesstabbing","true"),F(T,"wmode",U),N.parentNode.replaceChild(T,N));M.config.aspectratio&&(T.style.position="absolute",T.style.left="0");M.container=T;M.setPlayer(T,"flash")};this.supportsConfig=function(){if(I){if(J){if("string"===E.typeOf(J.playlist)){return !0}try{var Q=J.playlist[0].sources;if("undefined"===typeof Q){return !0}for(var P=0;P<Q.length;P++){if(Q[P].file&&C(Q[P].file,Q[P].type)){return !0}}}catch(R){}}else{return !0}}return !1};this.destroy=function(){}}).getVars=function(F){return A[F]};var C=D.embed.flashCanPlay=function(F,H){if(E.isYouTube(F,H)||E.isRtmp(F,H)||"hls"===H){return !0}var G=E.extensionmap[H?H:E.extension(F)];return !G?!1:!!G.flash}}(jwplayer),function(D){var E=D.utils,B=E.extensionmap,A=D.events,C;D.embed.html5=function(L,I,H,G,K){function F(N,M,O){return function(){try{var Q=document.querySelector("#"+L.id+" .jwmain");O&&Q.appendChild(M);"function"===typeof N.resize&&(N.resize(Q.clientWidth,Q.clientHeight),setTimeout(function(){N.resize(Q.clientWidth,Q.clientHeight)},400));M.left=Q.style.left;M.top=Q.style.top}catch(P){}}}var J=new A.eventdispatcher;E.extend(this,J);this.embed=function(){if(D.html5){G.setupPlugins(K,H,F);E.emptyElement(L);var M=D.utils.extend({},H);delete M.volume;M=new D.html5.player(M);K.setPlayer(M,"html5")}else{this.loadEmbedder()}};this.loadEmbedder=function(){C=C||new E.scriptloader(I.src);C.addEventListener(A.ERROR,this.loadError);C.addEventListener(A.COMPLETE,this.embed);C.load()};this.loadError=function(M){this.sendEvent(M.type,{message:"HTML5 player not found"})};this.supportsConfig=function(){if(D.vid.canPlayType){try{if("string"===E.typeOf(H.playlist)){return !0}for(var N=H.playlist[0].sources,M=0;M<N.length;M++){if(D.embed.html5CanPlay(N[M].file,N[M].type,H.androidhls)){return !0}}}catch(O){}}return !1};this.destroy=function(){C&&(C.resetEventListeners(),C=null)}};D.embed.html5CanPlay=function(F,J,H){if(null!==navigator.userAgent.match(/BlackBerry/i)||E.isIE(9)){return !1}if(E.isYouTube(F,J)){return !0}var G=E.extension(F);J=J||B.extType(G);if("hls"===J){if(H){H=E.isAndroidNative;if(H(2)||H(3)||H("4.0")){return !1}if(E.isAndroid()){return !0}}else{if(E.isAndroid()){return !1}}}if(E.isRtmp(F,J)){return !1}F=B[J]||B[G];if(!F||F.flash&&!F.html5){return !1}var K;G:if(F=F.html5){try{K=!!D.vid.canPlayType(F);break G}catch(I){}K=!1}else{K=!0}return K}}(jwplayer),function(D){var E=D.embed,B=D.embed.html5CanPlay,A=D.utils,C=D._,F=/\.(js|swf)$/;D.cast=D.cast||{};D.embed=A.extend(function(N){function K(){S="Adobe SiteCatalyst Error: Could not find Media Module"}var Q=A.repo(),O=A.extend({},D.defaults),L=A.extend({},O,N.config),J=N.config,M=L.plugins,G=L.analytics,I=Q+"jwpsrv.js",R=Q+"sharing.js",T=Q+"related.js",U=Q+"gapro.js",O=D.key?D.key:O.key,H=(new D.utils.key(O)).edition(),S,M=M?M:{};"ads"==H&&L.advertising&&(F.test(L.advertising.client)?M[L.advertising.client]=L.advertising:M[Q+L.advertising.client+".js"]=L.advertising);delete J.advertising;J.key=O;L.analytics&&F.test(L.analytics.client)&&(I=L.analytics.client);delete J.analytics;G&&!("ads"===H||"enterprise"===H)&&delete G.enabled;if("free"==H||!G||!1!==G.enabled){M[I]=G?G:{}}delete M.sharing;delete M.related;switch(H){case"ads":case"enterprise":if(J.sitecatalyst){try{window.s&&window.s.hasOwnProperty("Media")?new D.embed.sitecatalyst(N):K()}catch(P){K()}}case"premium":L.related&&(F.test(L.related.client)&&(T=L.related.client),M[T]=L.related),L.ga&&(F.test(L.ga.client)&&(U=L.ga.client),M[U]=L.ga);case"pro":L.sharing&&(F.test(L.sharing.client)&&(R=L.sharing.client),M[R]=L.sharing),L.skin&&(J.skin=L.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,A.repo()+"skins/$1.xml"))}J.plugins=M;N.config=J;N=new E(N);S&&N.errorScreen(S);return N},D.embed);D.embed.html5CanPlay=function(G,J){var H;var I={file:G,type:J};H=D.html5&&D.html5.chooseProvider?D.html5.chooseProvider(I)!==D.html5.VideoProvider:C.any(D.unregisteredProviders,function(K){return K.supports(I)});return H?!0:B.apply(this,arguments)}}(jwplayer),function(A){var B=jwplayer.utils;A.sitecatalyst=function(K){function N(Q){O.debug&&B.log(Q)}function H(Q){Q=Q.split("/");Q=Q[Q.length-1];Q=Q.split("?");return Q[0]}function M(){if(!E){E=!0;var Q=G.getPosition();N("stop: "+C+" : "+Q);s.Media.stop(C,Q)}}function J(){F||(M(),F=!0,N("close: "+C),s.Media.close(C),P=!0,I=0)}var G=K,O=B.extend({},G.config.sitecatalyst),L={onPlay:function(){if(!P){var Q=G.getPosition();E=!1;N("play: "+C+" : "+Q);s.Media.play(C,Q)}},onPause:M,onBuffer:M,onIdle:J,onPlaylistItem:function(Q){try{P=!0;J();I=0;var T;if(O.mediaName){T=O.mediaName}else{var S=G.getPlaylistItem(Q.index);T=S.title?S.title:S.file?H(S.file):S.sources&&S.sources.length?H(S.sources[0].file):""}C=T;D=O.playerName?O.playerName:G.id}catch(R){B.log(R)}},onTime:function(){if(P){var Q=G.getDuration();if(-1==Q){return }F=E=P=!1;N("open: "+C+" : "+Q+" : "+D);s.Media.open(C,Q,D);N("play: "+C+" : 0");s.Media.play(C,0)}Q=G.getPosition();if(3<=Math.abs(Q-I)){var R=I;N("seek: "+R+" to "+Q);N("stop: "+C+" : "+R);s.Media.stop(C,R);N("play: "+C+" : "+Q);s.Media.play(C,Q)}I=Q},onComplete:J},C,D,I,E=!0,F=!0,P;B.foreach(L,function(Q){G[Q](L[Q])})}}(jwplayer.embed),function(D){function E(F,G){F[G]&&(F[G]=B.getAbsolutePath(F[G]))}var B=D.utils,A=D._,C=window.location.href;D.cast.setupCastConfig=function(F,K){var H=B.extend({},F.config);H.cast=B.extend({pageUrl:C},K);for(var G="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" "),M=G.length;M--;){delete H[G[M]]}G=H.plugins;delete H.plugins;for(var J in G){if(G.hasOwnProperty(J)){var L=G[J];if(L.client&&(/[\.\/]/.test(L.client)&&E(L,"client"),-1<L.client.indexOf("vast"))){M=H;L=B.extend({},L);L.client="vast";delete L.companiondiv;if(L.schedule){var I=void 0;for(I in L.schedule){L.schedule.hasOwnProperty(I)&&E(L.schedule[I].ad||L.schedule[I],"tag")}}E(L,"tag");M.advertising=L}}}F.position&&(H.position=F.position);0<F.item&&(H.item=F.item);H.captionLabel=B.getCookies().captionLabel;H.playerVersion=D.version;return H};D.cast.setupFlashCastConfig=function(H){var G=H.config;G.playlist=H.getPlaylist();var F;(F=A.find(G.plugins,function(J,I){return 0<I.indexOf("vast.js")}))?(F.client="vast",F={advertising:F}):F={};G=A.pick(G,"id captionLabel cast key playlist repeat".split(" "));G.cast.pageUrl=window.location.href;B.extend(G,{playerVersion:D.version,captionLabel:B.getCookies().captionLabel,volume:H.getVolume(),mute:H.getMute(),id:H.id,position:H.getPosition(),item:H.getPlaylistIndex()},F);return G}}(window.jwplayer),function(F,G){function B(J,I){J[I]&&(J[I]=D.getAbsolutePath(J[I]))}var A=G.cast,D=G.utils,H=G.events,E=H.state,C={};A.NS="urn:x-cast:com.longtailvideo.jwplayer";A.debug=!1;A.availability=null;A.available=function(I){I=I||A.availability;var K=F.chrome,J="available";K.cast&&K.cast.ReceiverAvailability&&(J=K.cast.ReceiverAvailability.AVAILABLE);return I===J};A.controller=function(AU,AT){var AN,AO;function AS(I,K){A.log("send command",I,K);var J={command:I};void 0!==K&&(J.args=K);AF.sendMessage(A.NS,J,d,function(L){A.log("error message",L);"Invalid namespace"===L.description&&AI()})}function AP(I){I=!!A.available(I.availability);f.available!==I&&(f.available=I,AM(H.JWPLAYER_CAST_AVAILABLE))}function AR(I){A.log("existing session",I);!AF&&!l&&(l=I.session,l.addMessageListener(A.NS,AJ))}function AJ(M,L){var K=JSON.parse(L);if(!K){throw"Message not proper JSON"}if(K.reconcile){l.removeMessageListener(A.NS,AJ);var J=K.diff,I=l;if(!J.id||!K.appid||!K.pageUrl){J.id=G().id,K.appid=o.appid,K.pageUrl=W,l=AF=null}J.id===AU.id&&(K.appid===o.appid&&K.pageUrl===W)&&(AF||(AU.jwInstreamState()&&AU.jwInstreamDestroy(!0),AE(I),AT.sendEvent(H.JWPLAYER_PLAYER_STATE,{oldstate:J.oldstate,newstate:J.newstate})),b(K));l=null}}function AL(J){f.active=!!J;J=f;var I;I=AF&&AF.receiver?AF.receiver.friendlyName:"";J.deviceName=I;AM(H.JWPLAYER_CAST_SESSION,{})}function AM(J){var I=D.extend({},f);AT.sendEvent(J,I)}function AQ(I){var J=F.chrome;I.code!==J.cast.ErrorCode.CANCEL&&(A.log("Cast Session Error:",I,AF),I.code===J.cast.ErrorCode.SESSION_ERROR&&AI())}function AK(I){var J=F.chrome;I.code!==J.cast.ErrorCode.CANCEL&&(A.log("Cast Session Error:",I,AF),I.code===J.cast.ErrorCode.SESSION_ERROR&&AI())}function AI(){AF?(AA(),AF.stop(AB,AG),Z({item:0}),b({type:"state",diff:{buffer:0,position:0,duration:0}})):AB()}function AG(I){A.error("Cast Session Stop error:",I,AF);AB()}function AE(J){A.log("Session started:",J);if(AF){AI(),c=J}else{AF=J;AF.addMessageListener(A.NS,j);AF.addUpdateListener(AH);AU.jwPause(!0);AU.jwSetFullscreen(!1);g=AT.getVideo();AN=AT.volume;AO=AT.mute;AC=new A.provider(AS);AC.init();AT.setVideoProvider(AC);AU.jwPlay=function(L){!1===L?AC.pause():AC.play()};AU.jwPause=function(L){AU.jwPlay(!!L)};AU.jwLoad=function(L){"number"===D.typeOf(L)&&AT.setItem(L);AC.load(L)};AU.jwPlaylistItem=function(L){"number"===D.typeOf(L)&&AT.setItem(L);AC.playlistItem(L)};AU.jwPlaylistNext=function(){AU.jwPlaylistItem(AT.item+1)};AU.jwPlaylistPrev=function(){AU.jwPlaylistItem(AT.item-1)};AU.jwSetVolume=function(L){D.exists(L)&&(L=Math.min(Math.max(0,L),100)|0,Y(L)&&(L=Math.max(0,Math.min(L/100,1)),AF.setReceiverVolumeLevel(L,i,function(M){A.error("set volume error",M);i()})))};AU.jwSetMute=function(L){D.exists(L)||(L=!k.mute);X(L)&&AF.setReceiverMuted(!!L,i,function(M){A.error("set muted error",M);i()})};AU.jwGetVolume=function(){return k.volume|0};AU.jwGetMute=function(){return !!k.mute};AU.jwIsBeforePlay=function(){return !1};var K=AU.jwSetCurrentCaptions;AU.jwSetCurrentCaptions=function(L){K(L);AC.sendCommand("caption",L)};AU.jwSkipAd=function(L){AD&&(AD.skipAd(L),L=AD.getAdModel(),L.complete=!0,AT.sendEvent(H.JWPLAYER_CAST_AD_CHANGED,L))};AU.jwClickAd=function(L){if(AD&&300<AD.timeSinceClick()&&(AD.clickAd(L),AT.state!==E.PAUSED)){var M={tag:L.tag};L.sequence&&(M.sequence=L.sequence);L.podcount&&(M.podcount=L.podcount);G(AU.id).dispatchEvent(H.JWPLAYER_AD_CLICK,M);F.open(L.clickthrough)}};AU.jwPlayAd=AU.jwPauseAd=AU.jwSetControls=AU.jwForceState=AU.jwReleaseState=AU.jwSetFullscreen=AU.jwDetachMedia=AU.jwAttachMedia=d;var I=G(AU.id).plugins;I.vast&&I.vast.jwPauseAd!==d&&(V={jwPlayAd:I.vast.jwPlayAd,jwPauseAd:I.vast.jwPauseAd},I.vast.jwPlayAd=I.vast.jwPauseAd=d);i();AL(!0);J!==l&&(AC.setup(G.cast.setupCastConfig(AT,o),AT),G.cast.loader.sendDummyMedia(J))}}function AH(I){A.log("Cast Session status",I);I?i():(AC.sendEvent(H.JWPLAYER_PLAYER_STATE,{oldstate:AT.state,newstate:E.BUFFERING}),AB())}function AB(){A.log("_sessionStopped");AF&&(AA(),AF=null);if(g){delete AU.jwSkipAd;delete AU.jwClickAd;AU.initializeAPI();var I=G(AU.id).plugins;I.vast&&D.extend(I.vast,V);AT.volume=AN;AT.mute=AO;AT.setVideoProvider(g);AT.duration=0;AC&&(AC.destroy(),AC=null);AD&&(AD.destroy(),AD=null);AT.state!==E.IDLE?D.isIPad()||D.isIPod()?(AU.jwStop(!0),g.sendEvent(H.JWPLAYER_PLAYER_STATE,{oldstate:E.BUFFERING,newstate:E.IDLE})):(AT.state=E.IDLE,AU.jwPlay(!0),AU.jwSeek(AT.position)):g.sendEvent(H.JWPLAYER_PLAYER_STATE,{oldstate:E.BUFFERING,newstate:E.IDLE});g=null}AL(!1);null!==c&&(AE(c),c=null)}function AA(){AF.removeUpdateListener(AH);AF.removeMessageListener(A.NS,j)}function j(J,I){var K=JSON.parse(I);if(!K){throw"Message not proper JSON"}b(K)}function b(J){if("state"===J.type){if(AD&&(J.diff.newstate||J.diff.position)){AD.destroy(),AD=null,AT.setVideoProvider(AC),AT.sendEvent(H.JWPLAYER_CAST_AD_CHANGED,{done:!0})}AC.updateModel(J.diff,J.type);Z(J.diff)}else{if("ad"===J.type){null===AD&&(AD=new A.adprovider(A.NS,AF),AD.init(),AT.setVideoProvider(AD));AD.updateModel(J.diff,J.type);var I=AD.getAdModel();J.diff.clickthrough&&(I.onClick=AU.jwClickAd);J.diff.skipoffset&&(I.onSkipAd=AU.jwSkipAd);AT.sendEvent(H.JWPLAYER_CAST_AD_CHANGED,I);J.diff.complete&&AD.resetAdModel()}else{"connection"===J.type?!0===J.closed&&AI():A.error("received unhandled message",J.type,J)}}}function Z(I){void 0!==I.item&&AT.item!==I.item&&(AT.item=I.item,AT.sendEvent(H.JWPLAYER_PLAYLIST_ITEM,{index:AT.item}))}function i(){if(AF&&AF.receiver){var J=AF.receiver.volume;if(J){var I=100*J.level|0;X(!!J.muted);Y(I)}}}function Y(J){var I=k.volume!==J;I&&(k.volume=J,AC.sendEvent(H.JWPLAYER_MEDIA_VOLUME,{volume:J}));return I}function X(J){var I=k.mute!==J;I&&(k.mute=J,AC.sendEvent(H.JWPLAYER_MEDIA_MUTE,{mute:J}));return I}function d(){}var AF=null,f={available:!1,active:!1,deviceName:""},k={volume:null,mute:null},W=D.getAbsolutePath(F.location.href),o,AC=null,AD=null,g=null;AN=AT.volume;AO=AT.mute;var l=null,c=null,V=null;o=D.extend({},C,AT.cast);B(o,"loadscreen");B(o,"endscreen");B(o,"logo");if(o.appid&&(!F.cast||!F.cast.receiver)){A.loader.addEventListener("availability",AP),A.loader.addEventListener("session",AR),A.loader.initialize(o.appid)}this.startCasting=function(){AF||AU.jwInstreamState()||F.chrome.cast.requestSession(AE,AQ)};this.stopCasting=AI;this.openExtension=function(){AU.jwInstreamState()||F.chrome.cast.requestSession(AE,AK)}};A.log=function(){if(A.debug){var I=Array.prototype.slice.call(arguments,0);console.log.apply(console,I)}};A.error=function(){var I=Array.prototype.slice.call(arguments,0);console.error.apply(console,I)}}(window,jwplayer),function(T){function V(B){R.log("existing session",B);!C&&!D&&(D=B.session,D.addMessageListener(R.NS,O))}function O(Z,B){var f=JSON.parse(B),e=D;if(!f){throw"Message not proper JSON"}if(f.reconcile){D.removeMessageListener(R.NS,O);f.receiverFriendlyName=D.receiver.friendlyName;if(!f.pageUrl||!f.diff.id||!f.appid){f.pageUrl=J,f.diff.id=T().id,f.appid=F,D=C=null}H[f.diff.id]&&(F===f.appid&&f.pageUrl===J)&&(G=f.diff.id,F=f.appid,I(G,"jwInstreamDestroy"),S(e),I(G,M.message,f),D=null)}}function X(){C&&(C.removeUpdateListener(U),C.removeMessageListener(R.NS,P),C.stop(Q.bind(this),Y.bind(this)),C=null);I(G,M.cleanup)}function Q(){"undefined"!==typeof A&&null!==A&&(S(A),A=null)}function W(Z,B){C.sendMessage(R.NS,{command:Z,args:B},L.noop,function(b){R.error("message send error",b)})}function S(B){var Z=T(G);C?(X(),A=B):(C=B,C.addMessageListener(R.NS,P),C.addUpdateListener(U),Z=T.cast.setupFlashCastConfig(Z),D!==C&&(W("setup",Z),T.cast.loader.sendDummyMedia(C)),I(G,M.connected,{receiverFriendlyName:B.receiver.friendlyName}))}function P(Z,B){if(B){var d=JSON.parse(B);if(!d){throw"Message not proper JSON"}I(G,M.message,d)}}function Y(B){I(G,M.error,B||{})}function U(B){B?K():X()}function I(Z,B,d){d?T(Z).callInternal(B,d):T(Z).callInternal(B)}function K(){if(C&&C.receiver){var Z=C.receiver.volume;if(Z){var B=100*Z.level|0,Z=!!Z.muted;T(G).setVolume(B).setMute(Z)}}}var R=T.cast,L=T.utils,N=T._,E=window.chrome||{},G,H={},M={},F,D,A,J=L.getAbsolutePath(window.location.href),C;R.NS="urn:x-cast:com.longtailvideo.jwplayer";R.flash={checkAvailability:function(Z,B,d){M=d;F=B;H[Z]=!0;R.loader.addEventListener("availability",function(a){"available"===a.availability&&I(Z,M.available,a)});R.loader.addEventListener("session",V);R.loader.initialize(B)},startCasting:function(B){G=B;E.cast.requestSession(S.bind(this),Y.bind(this))},stopCasting:X,openExtension:function(B){G=B;E.cast.requestSession(S.bind(this),Y.bind(this))},mute:function(B){C.setReceiverMuted(B,K,function(Z){R.error("set muted error",Z)})},volume:function(B){B=Math.max(0,Math.min(B/100,1));C.setReceiverVolumeLevel(B,K,function(Z){R.error("set volume error",Z)})},messageReceiver:W,canCastItem:function(B){return N.any(B.levels,function(Z){return T.embed.html5CanPlay(Z.file,Z.type)||"hls"===Z.type})}}}(window.jwplayer),function(J,L){function E(R){var Q=new L.cast.media.MediaInfo("");Q.contentType="video/mp4";Q=new L.cast.media.LoadRequest(Q);Q.autoplay=!1;R.loadMedia(Q)}function N(){L&&L.cast&&L.cast.isAvailable&&!K.apiConfig?(K.apiConfig=new L.cast.ApiConfig(new L.cast.SessionRequest(D),F,O,L.cast.AutoJoinPolicy.ORIGIN_SCOPED),L.cast.initialize(K.apiConfig,I,M)):15>C++&&setTimeout(N,1000)}function G(){H&&(H.resetEventListeners(),H=null)}function M(){K.apiConfig=null}function I(){}function F(Q){P.sendEvent("session",{session:Q});Q.sendMessage(K.NS,{whoami:1});0===Q.media.length&&E(Q)}function O(Q){K.availability=Q;P.sendEvent("availability",{availability:Q})}window.chrome=L;var K=J.cast,A=J.utils,B=J.events,H,C=0,D=null,P=A.extend({initialize:function(Q){D=Q;null!==K.availability?P.sendEvent("availability",{availability:K.availability}):L&&L.cast?N():H||(H=new A.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),H.addEventListener(B.ERROR,G),H.addEventListener(B.COMPLETE,N),H.load())}},new B.eventdispatcher("cast.loader"));J.cast.loader=P;J.cast.loader.sendDummyMedia=E}(window.jwplayer,window.chrome||{}),function(G,I){var C=[],K=G.utils,E=G.events,J=G._,F=0,D=E.state,L="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),H="playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),A={onBufferChange:E.JWPLAYER_MEDIA_BUFFER,onBufferFull:E.JWPLAYER_MEDIA_BUFFER_FULL,onError:E.JWPLAYER_ERROR,onSetupError:E.JWPLAYER_SETUP_ERROR,onFullscreen:E.JWPLAYER_FULLSCREEN,onMeta:E.JWPLAYER_MEDIA_META,onMute:E.JWPLAYER_MEDIA_MUTE,onPlaylist:E.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:E.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:E.JWPLAYER_PLAYLIST_COMPLETE,onReady:E.API_READY,onResize:E.JWPLAYER_RESIZE,onComplete:E.JWPLAYER_MEDIA_COMPLETE,onSeek:E.JWPLAYER_MEDIA_SEEK,onTime:E.JWPLAYER_MEDIA_TIME,onVolume:E.JWPLAYER_MEDIA_VOLUME,onBeforePlay:E.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:E.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:E.JWPLAYER_DISPLAY_CLICK,onControls:E.JWPLAYER_CONTROLS,onQualityLevels:E.JWPLAYER_MEDIA_LEVELS,onQualityChange:E.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:E.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:E.JWPLAYER_CAPTIONS_CHANGED,onAdError:E.JWPLAYER_AD_ERROR,onAdClick:E.JWPLAYER_AD_CLICK,onAdImpression:E.JWPLAYER_AD_IMPRESSION,onAdTime:E.JWPLAYER_AD_TIME,onAdComplete:E.JWPLAYER_AD_COMPLETE,onAdCompanions:E.JWPLAYER_AD_COMPANIONS,onAdSkipped:E.JWPLAYER_AD_SKIPPED,onAdPlay:E.JWPLAYER_AD_PLAY,onAdPause:E.JWPLAYER_AD_PAUSE,onAdMeta:E.JWPLAYER_AD_META,onCast:E.JWPLAYER_CAST_SESSION,onAudioTrackChange:E.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:E.JWPLAYER_AUDIO_TRACKS},B={onBuffer:D.BUFFERING,onPause:D.PAUSED,onPlay:D.PLAYING,onIdle:D.IDLE};G.api=function(P){function Q(b,d){K.foreach(b,function(e,c){N[e]=function(f){return d(c,f)}})}function O(e,d){var f="jw"+d.charAt(0).toUpperCase()+d.slice(1);N[d]=function(){var c=Z.apply(this,[f].concat(Array.prototype.slice.call(arguments,0)));return e?N:c}}function V(b,h){try{b.jwAddEventListener(h,'function(dat) { jwplayer("'+N.id+'").dispatchEvent("'+h+'", dat); }')}catch(g){if("flash"===N.renderingMode){var f=document.createElement("a");f.href=R.data;f.protocol!==location.protocol&&K.log("Warning: Your site ["+location.protocol+"] and JWPlayer ["+f.protocol+"] are hosted using different protocols")}K.log("Could not add internal listener")}}function X(d,c){W[d]||(W[d]=[],R&&M&&V(R,d));W[d].push(c);return N}function Z(){if(M){if(R){var d=Array.prototype.slice.call(arguments,0),c=d.shift();if("function"===typeof R[c]){switch(d.length){case 6:return R[c](d[0],d[1],d[2],d[3],d[4],d[5]);case 5:return R[c](d[0],d[1],d[2],d[3],d[4]);case 4:return R[c](d[0],d[1],d[2],d[3]);case 3:return R[c](d[0],d[1],d[2]);case 2:return R[c](d[0],d[1]);case 1:return R[c](d[0])}return R[c]()}}return null}S.push(arguments)}var N=this,W={},U={},R,M=!1,S=[],a,Y={},T={};N.container=P;N.id=P.id;N.setup=function(d){if(G.embed){G.api.destroyPlayer(N.id);var c=new G.api(N.container);G.api.addPlayer(c);c.config=d;c._embedder=new G.embed(c);c._embedder.embed();return c}return N};N.getContainer=function(){return N.container};N.addButton=function(b,j,i,h){try{T[h]=i,Z("jwDockAddButton",b,j,'jwplayer("'+N.id+'").callback("'+h+'")',h)}catch(g){K.log("Could not add dock button"+g.message)}};N.removeButton=function(b){Z("jwDockRemoveButton",b)};N.callback=function(b){if(T[b]){T[b]()}};N.getMeta=function(){return N.getItemMeta()};N.getPlaylist=function(){var b=Z("jwGetPlaylist");"flash"===N.renderingMode&&K.deepReplaceKeyName(b,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);return b};N.getPlaylistItem=function(b){K.exists(b)||(b=N.getPlaylistIndex());return N.getPlaylist()[b]};N.getRenderingMode=function(){return N.renderingMode};N.setFullscreen=function(b){K.exists(b)?Z("jwSetFullscreen",b):Z("jwSetFullscreen",!Z("jwGetFullscreen"));return N};N.setMute=function(b){K.exists(b)?Z("jwSetMute",b):Z("jwSetMute",!Z("jwGetMute"));return N};N.lock=function(){return N};N.unlock=function(){return N};N.load=function(b){Z("jwInstreamDestroy");G(N.id).plugins.googima&&Z("jwDestroyGoogima");Z("jwLoad",b);return N};N.playlistItem=function(b){Z("jwPlaylistItem",parseInt(b,10));return N};N.resize=function(b,h){if("flash"!==N.renderingMode){Z("jwResize",b,h)}else{var g=document.getElementById(N.id+"_wrapper"),f=document.getElementById(N.id+"_aspect");f&&(f.style.display="none");g&&(g.style.display="block",g.style.width=K.styleDimension(b),g.style.height=K.styleDimension(h))}return N};N.play=function(d){if(d!==I){return Z("jwPlay",d),N}d=N.getState();var c=a&&a.getState();c&&(c===D.IDLE||c===D.PLAYING||c===D.BUFFERING?Z("jwInstreamPause"):Z("jwInstreamPlay"));d===D.PLAYING||d===D.BUFFERING?Z("jwPause"):Z("jwPlay");return N};N.pause=function(b){b===I?(b=N.getState(),b===D.PLAYING||b===D.BUFFERING?Z("jwPause"):Z("jwPlay")):Z("jwPause",b);return N};N.createInstream=function(){return new G.api.instream(this,R)};N.setInstream=function(b){return a=b};N.loadInstream=function(d,c){a=N.setInstream(N.createInstream()).init(c);a.loadItem(d);return a};N.destroyPlayer=function(){M=!0;Z("jwPlayerDestroy")};N.playAd=function(d){var c=G(N.id).plugins;c.vast?c.vast.jwPlayAd(d):Z("jwPlayAd",d)};N.pauseAd=function(){var b=G(N.id).plugins;b.vast?b.vast.jwPauseAd():Z("jwPauseAd")};Q(B,function(d,c){U[d]||(U[d]=[],X(E.JWPLAYER_PLAYER_STATE,function(g){var k=g.newstate;g=g.oldstate;if(k===d){var j=U[k];if(j){for(var i=0;i<j.length;i++){var h=j[i];"function"===typeof h&&h.call(this,{oldstate:g,newstate:k})}}}}));U[d].push(c);return N});Q(A,X);K.foreach(L,function(d,c){O(!1,c)});K.foreach(H,function(d,c){O(!0,c)});N.remove=function(){this._embedder&&this._embedder.destroy&&this._embedder.destroy();S=[];var b=1<J.size(J.where(C,{id:N.id}));b||K.clearCss("#"+N.id);var h=document.getElementById(N.id+("flash"===N.renderingMode?"_wrapper":""));if(h){if("html5"===N.renderingMode){N.destroyPlayer()}else{if(K.isMSIE(8)){var g=document.getElementById(N.id);if(g&&g.parentNode){g.style.display="none";for(var c in g){"function"===typeof g[c]&&(g[c]=null)}g.parentNode.removeChild(g)}}}b||(b=document.createElement("div"),b.id=N.id,h.parentNode.replaceChild(b,h))}C=J.filter(C,function(d){return d.uniqueId!==N.uniqueId})};N.registerPlugin=function(f,e,h,g){G.plugins.registerPlugin(f,e,h,g)};N.setPlayer=function(d,c){R=d;N.renderingMode=c};N.detachMedia=function(){if("html5"===N.renderingMode){return Z("jwDetachMedia")}};N.attachMedia=function(b){if("html5"===N.renderingMode){return Z("jwAttachMedia",b)}};N.getAudioTracks=function(){return Z("jwGetAudioTracks")};N.removeEventListener=function(f,e){var h=W[f];if(h){for(var g=h.length;g--;){h[g]===e&&h.splice(g,1)}}};N.dispatchEvent=function(b,n){var m=W[b];if(m){for(var m=m.slice(0),l=K.translateEventResponse(b,n),k=0;k<m.length;k++){var i=m[k];if("function"===typeof i){try{b===E.JWPLAYER_PLAYLIST_LOADED&&K.deepReplaceKeyName(l.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),i.call(this,l)}catch(j){K.log("There was an error calling back an event handler",j)}}}}};N.dispatchInstreamEvent=function(b){a&&a.dispatchEvent(b,arguments)};N.callInternal=Z;N.playerReady=function(b){M=!0;R||N.setPlayer(document.getElementById(b.id));N.container=document.getElementById(N.id);K.foreach(W,function(c){V(R,c)});X(E.JWPLAYER_PLAYLIST_ITEM,function(){Y={}});X(E.JWPLAYER_MEDIA_META,function(c){K.extend(Y,c.metadata)});X(E.JWPLAYER_VIEW_TAB_FOCUS,function(d){var e=N.getContainer();!0===d.hasFocus?K.addClass(e,"jw-tab-focus"):K.removeClass(e,"jw-tab-focus")});for(N.dispatchEvent(E.API_READY);0<S.length;){Z.apply(N,S.shift())}};N.getItemMeta=function(){return Y};return N};G.playerReady=function(N){var M=G.api.playerById(N.id);M||(M=G.api.selectPlayer(N.id));M.playerReady(N)};G.api.selectPlayer=function(M){var N;K.exists(M)||(M=0);M.nodeType?N=M:"string"===typeof M&&(N=document.getElementById(M));return N?(M=G.api.playerById(N.id))?M:new G.api(N):"number"===typeof M?C[M]:null};G.api.playerById=function(N){for(var M=0;M<C.length;M++){if(C[M].id===N){return C[M]}}return null};G.api.addPlayer=function(N){for(var M=0;M<C.length;M++){if(C[M]===N){return N}}F++;N.uniqueId=F;C.push(N);return N};G.api.destroyPlayer=function(M){M=J.where(C,{id:M});J.each(M,J.partial(J.result,J,"remove"))}}(window.jwplayer),function(C){var D=C.events,B=C.utils,A=D.state;C.api.instream=function(J,L){function I(O,N){E[O]||(E[O]=[],L.jwInstreamAddEventListener(O,'function(dat) { jwplayer("'+J.id+'").dispatchInstreamEvent("'+O+'", dat); }'));E[O].push(N);return this}function G(O,N){F[O]||(F[O]=[],I(D.JWPLAYER_PLAYER_STATE,function(P){var U=P.newstate,T=P.oldstate;if(U===O){var S=F[U];if(S){for(var R=0;R<S.length;R++){var Q=S[R];"function"===typeof Q&&Q.call(this,{oldstate:T,newstate:U,type:P.type})}}}}));F[O].push(N);return this}var M,K,E={},F={},H=this;H.type="instream";H.init=function(){J.callInternal("jwInitInstream");return H};H.loadItem=function(N,O){M=N;K=O||{};"array"===B.typeOf(N)?J.callInternal("jwLoadArrayInstream",M,K):J.callInternal("jwLoadItemInstream",M,K)};H.removeEvents=function(){E=F={}};H.removeEventListener=function(O,N){var Q=E[O];if(Q){for(var P=Q.length;P--;){Q[P]===N&&Q.splice(P,1)}}};H.dispatchEvent=function(O,N){var S=E[O];if(S){for(var S=S.slice(0),R=B.translateEventResponse(O,N[1]),Q=0;Q<S.length;Q++){var P=S[Q];"function"===typeof P&&P.call(this,R)}}};H.onError=function(N){return I(D.JWPLAYER_ERROR,N)};H.onMediaError=function(N){return I(D.JWPLAYER_MEDIA_ERROR,N)};H.onFullscreen=function(N){return I(D.JWPLAYER_FULLSCREEN,N)};H.onMeta=function(N){return I(D.JWPLAYER_MEDIA_META,N)};H.onMute=function(N){return I(D.JWPLAYER_MEDIA_MUTE,N)};H.onComplete=function(N){return I(D.JWPLAYER_MEDIA_COMPLETE,N)};H.onPlaylistComplete=function(N){return I(D.JWPLAYER_PLAYLIST_COMPLETE,N)};H.onPlaylistItem=function(N){return I(D.JWPLAYER_PLAYLIST_ITEM,N)};H.onTime=function(N){return I(D.JWPLAYER_MEDIA_TIME,N)};H.onBuffer=function(N){return G(A.BUFFERING,N)};H.onPause=function(N){return G(A.PAUSED,N)};H.onPlay=function(N){return G(A.PLAYING,N)};H.onIdle=function(N){return G(A.IDLE,N)};H.onClick=function(N){return I(D.JWPLAYER_INSTREAM_CLICK,N)};H.onInstreamDestroyed=function(N){return I(D.JWPLAYER_INSTREAM_DESTROYED,N)};H.onAdSkipped=function(N){return I(D.JWPLAYER_AD_SKIPPED,N)};H.play=function(N){L.jwInstreamPlay(N)};H.pause=function(N){L.jwInstreamPause(N)};H.hide=function(){J.callInternal("jwInstreamHide")};H.destroy=function(){H.removeEvents();J.callInternal("jwInstreamDestroy")};H.setText=function(N){L.jwInstreamSetText(N?N:"")};H.getState=function(){return L.jwInstreamState()};H.setClick=function(N){L.jwInstreamClick&&L.jwInstreamClick(N)}}}(jwplayer),function(C){var D=C.api,B=D.selectPlayer,A=C._;D.selectPlayer=function(E){var F=B.apply(this,arguments);return F?F:{registerPlugin:function(G,I,H){"jwpsrv"!==G&&C.plugins.registerPlugin(G,I,H)}}};C.unregisteredProviders=[];D.registerProvider=function(E){C&&C.html5&&A.isFunction(C.html5.registerProvider)?C.html5.registerProvider(E):C.unregisteredProviders.push(E)}}(jwplayer));jwplayer.key="db5DQiJwiMXqmXKGzEtB96OucItA2n3roCYsybvt6xI=";$(function(){var U={androidhls:true,screencolor:"CCCCCC",autostart:true,skin:"rbb_",primary:"flash",wmode:"opaque",fallback:true,width:"100%",aspectratio:"16:9",analytics:{enabled:false,cookies:false},flashplayer:"/basis/jwplayer/6_12/jwplayer.flash.swf",html5player:"/basis/jwplayer/6_12/jwplayer.html5.js"};var J="player";var B="video_container";var P="player_inner";var T="html5player";var O=(/(android|bb\d+|meego).+mobile|android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent||navigator.vendor||window.opera));var H=("ontouchstart" in window)||("onmsgesturechange" in window);var Q=(/ip(hone|od|ad)/i.test(navigator.userAgent)&&/apple/i.test(navigator.vendor));var S=(Q&&/ipad/i.test(navigator.userAgent));var M=(Q&&/iphone/i.test(navigator.userAgent));var K=(Q&&/ipod/i.test(navigator.userAgent));var C=location.protocol.indexOf("https")!==-1?"https":"http";C+="://"+location.host+"/basis/jwplayer/6_12/rbbskins/";var G=225;var L="Wiedergabe beenden";var N="CCCCCC";var R=window.AVlocalSettings||{};var X=$.extend(true,{},U,R);var V=(function(){var a=document.createElement("video");var b=(typeof a!=="undefined"&&"play" in a&&"canPlayType" in a&&"volume" in a);return b}());var Y=(function(){var a=false;try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(b){a=true}}catch(c){if(typeof navigator.mimeTypes["application/x-shockwave-flash"]!=="undefined"){a=true;if(typeof navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin!=="undefined"&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){a=false}}}return a}());var W=(O&&V)||(!Y&&V);if(!Y&&!W){return }var A="audio/mpeg";var E=[];var Z=0;var F=0;var D=false;var I=function(c,f){var m=null;F++;var h={};var e=function(){var s=c.hasClass("audio")?"audio":"video";var AF=s+"_"+Z+"_"+f;var AD=AF+"Player";var AJ=AF+"Wrapper";var z=c.data("media-ref");var v=!!~z.indexOf(".jsn");var AK=c.data("player-config");var AA=c.hasClass("small")?"small":"";var q=AA?"1-4_skin_":"2-4_skin_";var w=c.find("a:eq(0)");var r=w.attr("href");var AC=c.find("img:eq(0)");var i=AC.attr("src");var AG=AC.attr("alt");var AE=parseInt(AC.width());var AB=parseInt(AC.height());var AI=(!AC.length);var y=c.hasClass("nopreview");var AL=c.hasClass("infoportal");var t=c.hasClass("chartsplayer");var x=c.hasClass("btn");var u=c.hasClass("fsk");var AH=s=="audio"?"Audio abspielen":"Video abspielen";if(u&&!z){AH=$("<div>"+AK.fsk+"</div>").text()}return{index:f,id:AF,wrapperID:AJ,playerID:AD,container:c,type:s,isSmall:AA,skinSize:q,link:w,linkHref:r,poster:AC,posterSrc:i,posterAlt:AG,posterWidth:AE,posterHeight:AB,noposter:AI,btnTitle:AH,nopreview:y,premium:AL,config:AK,hasPlaylist:v,mediaRef:z,chartsplayer:t,listplayer:x,fsk:u}};var n=function(r,q){var v=["m3u8","mp3","mp4"];if(q){v=["mp3","mp4"]}var t=j(r);if(t&&t[0]&&t[0].sources){var y=t[0].sources;for(var w=0;w<y.length;w++){if(y[w]&&y[w].file){var z=y[w].file;var s=p(z);if(s){for(var u=0;u<v.length;u++){if(s===v[u]){var x=l(z);if(!x||x==="http"||x==="https"){return z}}}}}}}return null};var j=function(q){var r=["Klein","Mittel","Groß"];var i=[];var s=[{image:h.posterSrc,sources:[]}];$.ajax({url:q,dataType:"json",async:false,success:function(x){if(x._mediaArray&&x._mediaArray[0]&&x._mediaArray[0]._mediaStreamArray){i=x._mediaArray[0]._mediaStreamArray;var t=0;var w={};for(var u=0;u<i.length;u++){w={file:i[u]._stream};if(O&&i[u]._type){w.type=i[u]._type}if(t===0){w["default"]=true}if(typeof i[u]._quality!=="undefined"){w.label=r[i[u]._quality]}if(i[u]._stream){s[0].sources.push(w)}t++}if(x._subtitleUrl){s[0].tracks=[];s[0].tracks.push({file:x._subtitleUrl})}if(x._isLive){s[0].title="Livestream"}D=false;if(i&&i.length>0){var v=p(i[0]._stream);if(v&&v==="f4m"){D=true;s[0].provider="/basis/jwplayer/6_12/plugins/AkamaiAdvancedJWStreamProvider.swf";s[0].sources[0].type="mp4"}}}}});return s};var p=function(i){if(i){var q=i;var s=i.indexOf("?");if(s>-1){q=i.substring(0,s)}if(q){var r=q.split(".");if(r.length===1||(r[0]===""&&r.length===2)){return null}return r.pop().toLowerCase()}}return null};var l=function(i){if(i){var q=i;var r=i.indexOf(":");if(r>-1){return i.substring(0,r)}}return null};var o=function(){if(!!h.link.length){h.link.replaceWith(h.link.contents())}return $('<a class="play_icon_layer" href="javascript:void(0)" title="'+h.btnTitle+'"><span class="play_icon"></span></a>').appendTo(c)};var b=function(w){var u=$(document.getElementById("contentheader"));var v=c.closest(".header_slider");var t=v.find(".skip");var r=v.find(".textbox");var q=c.find("img");var s=$.extend(true,{},q);var i=null;switch(w){case"do":u.addClass("expanded");q.on("click",b);if(H){$("html, body").animate({scrollTop:c.offset().top-20},"slow")}break;default:q.off("click",b);a("all");if(m.destroyPlayer){m.destroyPlayer()}if(m.remove){m.remove()}u.removeClass("expanded");i=E.indexOf(m);if(i!=-1){E.splice(i,1)}c.removeClass("prepared player_initializing player_initialized").empty().append(s);initializeAllPlayers()}};var d=function(t){c.addClass("player_initializing");var q=$(document.createElement("div")).attr("id",h.playerID).addClass(P);var u=$(document.createElement("div")).attr("id",h.wrapperID).addClass(B).append(q);if(h.chartsplayer){u.addClass("invisiblePlayer");u.appendTo("body")}else{if(h.listplayer){u.addClass("listplayer");u.appendTo(c.parent())}else{if(g){g.off();g.remove()}u.appendTo(c)}}var s=function(){var y={};var w=h.type;var z={};var AA="";if(h.hasPlaylist){if(O){AA=n(h.mediaRef)}else{AA=n(h.mediaRef,"noHLS!")}}else{AA=h.mediaRef}if(!AA){return false}y=document.createElement(w);y.id=h.playerID;y.controls="controls";y.src=AA;$(y).on("play",function(){a(h.playerID);c.removeClass("player_paused").addClass("player_playing");if(h.listplayer){u.removeClass("player_paused").addClass("player_playing")}});$(y).on("pause",function(){c.removeClass("player_playing").addClass("player_paused");if(h.listplayer){u.removeClass("player_playing").addClass("player_paused")}});$(y).on("ended",function(){c.removeClass("player_playing").addClass("player_paused");if(h.listplayer){u.removeClass("player_playing").addClass("player_paused")}});if(w=="video"){y.width=h.posterWidth;y.height=h.posterHeight;y.poster=(h.premium)?"":h.posterSrc}c.addClass(T);q.append(y);if(w=="video"&&Q){var v=$('<a class="play_icon_layer custom_play_icon" href="javascript:void(0)" title="'+h.btnTitle+'"><span class="play_icon">Play</span></a>').click(function(){y.play()}).appendTo(c);var x=c.closest(".slider");if(S){c.addClass("showCustomControls")}else{c.addClass("showCustomControls hideVideoOnPause")}$(y).on("play",function(){y.controls="controls";x.addClass("hideArrows")});$(y).on("pause",function(){y.removeAttribute("controls");x.removeClass("hideArrows")})}if(h.premium){z=$('<a href="javascript:void(0);" class="player_close_btn" title="'+L+'">'+L+"</a>").on("click touchstart",function(){b("undo")}).appendTo(u);$(y).on("ended",b)}c.removeClass("player_initializing").addClass("player_initialized");if(!h.nopreview){y.play()}return y};var i=function(){if(typeof jwplayer=="undefined"){return false}var x=function(){var y=$.extend(true,{},X);if(~h.mediaRef.indexOf("//")){h.mediaRef=location.protocol+"//"+h.mediaRef.split("//")[1]}y.playlist=h.hasPlaylist?j(h.mediaRef):"";y.file=h.hasPlaylist?"":h.mediaRef;y.image=(h.premium)?"":h.posterSrc;if(h.noposter){y.aspectratio="";y.height="100%"}y.skin=C+y.skin+h.skinSize+h.type;y.skin+=h.listplayer?"list.xml":".xml";y.autostart=(h.nopreview||O)?false:y.autostart;y.events=y.events||{};y.events.onReady=y.events.onReady||function(){c.removeClass("player_initializing").addClass("player_initialized")};y.events.onPlay=y.events.onPlay||function(){a(h.playerID);c.removeClass("player_paused");c.addClass("player_playing");if(h.listplayer){u.removeClass("player_paused");u.addClass("player_playing")}};y.events.onComplete=y.events.onComplete||function(){if(h.premium){b("undo")}c.removeClass("player_playing");c.addClass("player_paused");if(h.listplayer){u.removeClass("player_playing");u.addClass("player_paused")}};y.events.onPause=y.events.onPause||function(){c.removeClass("player_playing");c.addClass("player_paused");if(h.listplayer){u.removeClass("player_playing");u.addClass("player_paused")}};y=$.extend(true,{},y,h.config);return y};var w=x();m=jwplayer(h.playerID).setup(w);if(h.premium){m.addButton("",L,function(){b("undo")},"stopButton")}if(h.nopreview){var v=$("<param>").attr({name:"bgcolor",value:N}).appendTo(m.container)}return m};if(h.premium){b("do")}if(W){m=s()}if(!m){i()}if(h.chartsplayer||h.listplayer){var r=function(w){w.preventDefault();var v=null;if(m.getState){v=m.getState()}if(m.paused||v=="PAUSED"){m.play(true)}else{m.pause(true)}return false};g.off();g.on("click",r)}if(h.premium){jsb.fireEvent("Portal::PLAYER_INITIALIZED",{el:c,index:F,el_id:h.wrapperID,reset_func:b})}if(m){jsb.fireEvent("Player::INITIALIZED",{el:c,index:F});E.push(m)}};var a=function(i){$(E).each(function(q,r){if(r.id!==i){if(r.pause){r.pause(true)}}})};var k=function(){g.off();g.remove();var i='<div class="fsktext">'+h.config.fsk+"</div>";$(i).click(function(){$(this).remove()}).appendTo(c);c.addClass("fskshow")};h=e(c,f);if(h.noposter){c.addClass("noposter")}if(h.listplayer){if(c.parent().find(".ico_download").length){c.parent().addClass("hasDownload")}}if(h.nopreview){d()}else{var g=o();g.click(function(i){i.preventDefault();if(h.fsk&&!h.mediaRef){k()}else{d()}})}};window.initializeAllPlayers=window.initializeAllPlayers||function(){Z++;$("."+J).each(function(a){var b=$(this);if(b.hasClass("prepared")){return }b.addClass("prepared");I($(this),a)})};initializeAllPlayers();window.pauseAllPlayers=window.pauseAllPlayers||function(){$(E).each(function(a,b){if(b.pause){b.pause(true)}})};if(typeof jsb!=="undefined"&&jsb.on){jsb.on("Gallery::INDEX_CHANGED",function(){pauseAllPlayers()})}!function(){var e=$("#lsplayer");if(typeof streamURL=="undefined"||!e.length||typeof jwplayer=="undefined"){return }var c=new Date().getTime();var g="player"+c;var f=$("<div />").appendTo(e).attr("id",g);var a=null;var d=window.lsplayer_skin||"inf";var b={file:streamURL,type:"mp3",width:260,height:40,autostart:true,primary:"flash",fallback:true,flashplayer:"/basis/jwplayer/6_12/jwplayer.flash.swf",html5player:"/basis/jwplayer/6_12/jwplayer.html5.js",skin:"/basis/jwplayer/6_12/rbbskins/rbb_ls_skin_"+d+".xml",analytics:{enabled:false,cookies:false}};if(~location.search.indexOf("noautostart")){b.autostart=false}if(!a){a=jwplayer(g).setup(b);a.onPause(function(){location.replace(location.href.split("?")[0]+"?noautostart")})}}()});(function(A){A.CharacterCounterBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("CharacterCounterBehaviour",D);D.init=function(){D.opts=A.extend(true,{},A.CharacterCounterBehaviour.defaults,C);D.textarea=D.$el;D.textareaId=D.textarea.attr("id");if(D.textareaId){D.maxChars=D.textarea.attr("maxlength");D.ccLeftEl=A("#"+D.textareaId+"_charactercounter_left");var H=D.textarea.parents("form");if(H&&H.length>0){var G=A(H[0]);var E=G.find("button[type='reset']");if(E&&E.length>0){var F=A(E[0]);F.click(function(){if(D.maxChars&&D.maxChars>0&&D.ccLeftEl){D.ccLeftEl.text(D.maxChars)}})}}D.textarea.bind("keyup",function(K){var J=D.textarea.val();if(J){var L=J.length;if(D.maxChars&&D.maxChars>0&&D.ccLeftEl){var I=D.maxChars-L;D.ccLeftEl.text(I)}}})}D.finishInit()};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.init()};A.fn.CharacterCounterBehaviour=function(B){return this.each(function(){(new A.CharacterCounterBehaviour(this,B))})};jsb.registerHandler("charactercounter",A.CharacterCounterBehaviour)})(jQuery);(function(A){A.SocialshareBehaviour=function(B,C){var D=this;D.$el=A(B);D.el=B;D.$el.data("SocialshareBehaviour",D);D.init=function(){D.opts=A.extend(true,{},A.SocialshareBehaviour.defaults,C);A("a.share_comment").click(function(F){F.preventDefault();A("#new_comment_box").removeClass("hide").insertAfter(A("a[name=new_comment]"));var E=A("#new_comment_box").offset();A(document).scrollTop(E.top-100)});D.finishInit()};D.finishInit=function(){D.initialized=true;D.$el.trigger("initialized",D)};D.init()};A.fn.SocialshareBehaviour=function(B){return this.each(function(){(new A.SocialshareBehaviour(this,B))})};jsb.registerHandler("socialshare",A.SocialshareBehaviour)})(jQuery);